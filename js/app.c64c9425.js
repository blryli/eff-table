(function(e){function t(t){for(var a,o,s=t[0],l=t[1],c=t[2],u=0,d=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);p&&p(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,o=1;o<n.length;o++){var s=n[o];0!==i[s]&&(a=!1)}a&&(r.splice(t--,1),e=l(l.s=n[0]))}return e}var a={},o={app:0},i={app:0},r=[];function s(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-76d3374b":"93aa2539"}[e]+".js"}function l(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={"chunk-76d3374b":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-76d3374b":"a950b5a2"}[e]+".css",i=l.p+a,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var c=r[s],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===a||u===i))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){c=d[s],u=c.getAttribute("data-href");if(u===a||u===i)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var a=t&&t.target&&t.target.src||i,r=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete o[e],p.parentNode.removeChild(p),n(r)},p.href=i;var h=document.getElementsByTagName("head")[0];h.appendChild(p)})).then((function(){o[e]=0})));var a=i[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,n){a=i[e]=[t,n]}));t.push(a[2]=r);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=s(e);var d=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(p);var n=i[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",d.name="ChunkLoadError",d.type=a,d.request=o,n[1](d)}i[e]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=a,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var p=u;r.push(["e58e","chunk-vendors"]),n()})({"07fa":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("Drag 拖动")]),e._m(0),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",{ref:"table",attrs:{data:e.data,drag:"",edit:"",border:""},model:{value:e.columns,callback:function(t){e.columns=t},expression:"columns"}})],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1),n("h3",[e._v("列控制")]),n("p",[e._v(" toolbar-config 配置 "),n("span",{staticClass:"primary"},[e._v("column-control")]),e._v(" 属性设置为 "),n("span",{staticClass:"primary"},[e._v(" true ")]),e._v("，点击功能图标 "),n("Icon",{attrs:{icon:"column-ctrl"}}),e._v(" 开启列控制功能（显示/隐藏） ")],1),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",{ref:"table",attrs:{data:e.data,drag:"","toolbar-config":{columnControl:!0},border:""},model:{value:e.columns1,callback:function(t){e.columns1=t},expression:"columns1"}})],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode1}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1),n("h3",[e._v("右键列控制")]),e._m(1),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",{ref:"table",attrs:{data:e.data1,drag:"","header-contextmenu":"","toolbar-config":{columnControl:!0},border:""},model:{value:e.columns2,callback:function(t){e.columns2=t},expression:"columns2"}})],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode4}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1),n("h3",[e._v("列批量控制")]),n("p",[n("span",{staticClass:"primary"},[e._v("column-batch-control")]),e._v(" 属性设置为 "),n("span",{staticClass:"primary"},[e._v(" true ")]),e._v("，点击功能图标 "),n("Icon",{attrs:{icon:"column-batch-ctrl"}}),e._v(" 开启列批量控制功能（显示/隐藏、排序、列固定） ")],1),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",{ref:"table",attrs:{data:e.data1,drag:"","toolbar-config":{columnBatchControl:!0},border:""},model:{value:e.columns2,callback:function(t){e.columns2=t},expression:"columns2"}})],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode2}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode1}})],1)])],1),n("h3",[e._v("行拖动")]),n("p",[n("span",{staticClass:"primary"},[e._v("row-drag")]),e._v(" 属性设置为 "),n("span",{staticClass:"primary"},[e._v(" true ")]),e._v("，开启行拖动功能，通过拖动列图标 "),n("Icon",{attrs:{icon:"row-drag"}}),e._v(" 使用行拖动 ")],1),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",{ref:"table",attrs:{data:e.data,"row-drag":""},model:{value:e.columns3,callback:function(t){e.columns3=t},expression:"columns3"}})],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode3}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"hint"},[e._v(" 列拖动前置条件"),n("br"),n("span",{staticClass:"primary"},[e._v("drag")]),e._v(" 属性设置为 "),n("span",{staticClass:"primary"},[e._v(" true ")]),n("br"),n("span",{staticClass:"primary"},[e._v("border")]),e._v(" 属性设置为 "),n("span",{staticClass:"primary"},[e._v(" true ")]),n("br"),e._v(" 支持多表头同时拖动，按住"),n("span",{staticClass:"primary"},[e._v(" ctrl ")]),e._v("点击表头进行多选，可对多列进行拖动操作 ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("span",{staticClass:"primary"},[e._v("header-contextmenu")]),e._v(" 属性设置为 "),n("span",{staticClass:"primary"},[e._v(" true ")]),e._v("， 开启右键列控制功能（移动/固定/显示/隐藏） ")])}],i=n("76a1"),r=n("d369"),s='\n  <eff-table\n    ref="table"\n    v-model="columns"\n    :data="data"\n    drag\n    border\n  />\n  ',l='\n  <eff-table\n    ref="table"\n    v-model="columns"\n    :data="data"\n    drag\n    :toolbar-config="{columnControl: true}"\n    border\n  />\n  ',c='\n <eff-table\n    ref="table"\n    v-model="columns1"\n    :data="data1"\n    drag\n    :toolbar-config="{columnBatchControl: true}"\n    border\n  />\n  ',u='\n  <eff-table\n    ref="table"\n    v-model="columns"\n    :data="data"\n    row-drag\n  />\n  ',d='\n  <eff-table\n    ref="table"\n    v-model="columns1"\n    :data="data1"\n    drag\n    header-contextmenu\n    :toolbar-config="{columnControl: true}"\n    border\n  />\n  ',p="\n  export default {\n    data() {\n      return {\n        columns: [\n          {\n            show: true,\n            prop: 'id',\n            title: 'ID'\n          },\n          {\n            show: true,\n            prop: 'name',\n            title: '名字'\n          },\n          {\n            show: true,\n            prop: 'sex',\n            title: '性别'\n          },\n          {\n            show: true,\n            prop: 'phone',\n            title: '手机'\n          }\n        ],\n        data: [\n          { id: 1, name: '张三', sex: '男', phone: '13715201314' },\n          { id: 2, name: '李四', sex: '女', phone: '13715201314' },\n          { id: 3, name: '王五', sex: '男', phone: '13715201314' },\n          { id: 4, name: '赵六', sex: '男', phone: '13715201314' }\n        ]\n      }\n    }\n  }\n  ",h="\n  export default {\n    data() {\n      return {\n        columns1: [\n          {\n            show: true,\n            prop: 'name',\n            title: '名字',\n            width: 200\n          },\n          {\n            show: true,\n            prop: 'id',\n            title: 'ID',\n            fixed: 'left',\n            width: 100\n          },\n          {\n            show: true,\n            prop: 'sex',\n            title: '性别',\n            width: 200\n          },\n          {\n            show: true,\n            prop: 'age',\n            title: '年龄',\n            width: 200\n          },\n          {\n            show: true,\n            prop: 'phone',\n            title: '手机',\n            width: 200\n          },\n          {\n            show: true,\n            prop: 'height',\n            title: '身高',\n            fixed: 'right',\n            width: 100\n          },\n          {\n            show: true,\n            prop: 'weight',\n            title: '体重',\n            width: 200\n          }\n        ],\n        data1: [\n          { id: 1, name: '张三', age: '18', sex: '男', phone: '13715201314', height: '180', weight: '140' },\n          { id: 2, name: '李四', age: '18', sex: '女', phone: '13715201314', height: '180', weight: '140' },\n          { id: 3, name: '王五', age: '18', sex: '男', phone: '13715201314', height: '180', weight: '140' },\n          { id: 4, name: '赵六', age: '18', sex: '男', phone: '13715201314', height: '180', weight: '140' }\n        ]\n      }\n    }\n  }\n  ",f={name:"Drag",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){return{htmlCode:s,htmlCode1:l,htmlCode2:c,htmlCode3:u,htmlCode4:d,jsCode:p,jsCode1:h,loading:!1,columns:[{show:!0,prop:"id",title:"ID"},{show:!0,prop:"name",title:"名字"},{show:!0,prop:"sex",title:"性别"},{show:!0,prop:"phone",title:"手机"}],columns1:[{show:!0,prop:"id",title:"ID"},{show:!0,prop:"name",title:"名字"},{show:!0,prop:"sex",title:"性别"},{show:!0,prop:"phone",title:"手机"}],columns3:[{show:!0,prop:"id",title:"ID"},{show:!0,prop:"name",title:"名字"},{show:!0,prop:"sex",title:"性别"},{show:!0,prop:"phone",title:"手机"}],data:[{id:1,name:"张三",sex:"男",phone:"13715201314"},{id:2,name:"李四",sex:"女",phone:"13715201314"},{id:3,name:"王五",sex:"男",phone:"13715201314"},{id:4,name:"赵六",sex:"男",phone:"13715201314"}],columns2:[{show:!0,type:"selection",fixed:"left",width:40},{show:!0,type:"index",fixed:"left",width:40},{show:!0,prop:"name",title:"名字",width:200},{show:!0,prop:"id",title:"ID",width:100},{show:!0,prop:"sex",title:"性别",width:200},{show:!0,prop:"age",title:"年龄",width:200},{show:!0,prop:"phone",title:"手机",width:200},{show:!0,prop:"column1",title:"列1",width:200},{show:!0,prop:"column2",title:"列2",width:200},{show:!0,prop:"column3",title:"列3",width:200},{show:!0,prop:"column4",title:"列4",width:200},{show:!0,prop:"column5",title:"列5",width:200},{show:!0,prop:"column6",title:"列6",width:200},{show:!0,prop:"column7",title:"列7",width:200},{show:!0,prop:"height",title:"身高",fixed:"right",width:100}],data1:[{id:1,name:"张三",age:"18",sex:"男",phone:"13715201314",height:"180",weight:"140"},{id:2,name:"李四",age:"18",sex:"女",phone:"13715201314",height:"180",weight:"140"},{id:3,name:"王五",age:"18",sex:"男",phone:"13715201314",height:"180",weight:"140"},{id:4,name:"赵六",age:"18",sex:"男",phone:"13715201314",height:"180",weight:"140"}]}}},m=f,v=n("2877"),b=Object(v["a"])(m,a,o,!1,null,null,null);t["default"]=b.exports},"0c25":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("validate 校验")]),e._m(0),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",e._b({ref:"table"},"eff-table",e.tableOptions,!1),[n("template",{slot:"toolbar"},[n("el-button",{on:{click:e.validate}},[e._v("校验")]),n("el-button",{on:{click:e.validateChecked}},[e._v("校验选中行")]),n("el-button",{on:{click:e.fullValidate}},[e._v("全量校验")]),n("el-button",{on:{click:e.clearValidate}},[e._v("清除校验")])],1)],2)],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.rules}})],1)},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"hint"},[e._v(" 调用 "),n("span",{staticClass:"primary"},[e._v(" validate ")]),e._v(" 函数校验数据，第一个参数为 true 时全量校验（如果不指定数据，则默认只校验临时变动的数据，例如新增或修改等）"),n("br"),e._v(" 列数据 "),n("span",{staticClass:"primary"},[e._v(" rules ")]),e._v(" 配置校验规则"),n("br"),e._v(" 编辑时会进行实时校验"),n("br")])}],i=n("76a1"),r=n("d369"),s='\n  <eff-table\n    ref="table"\n    v-bind="tableOptions"\n  >\n    <template slot="toolbar">\n      <el-button @click="validate">校验</el-button>\n      <el-button @click="validateChecked">校验选中行</el-button>\n      <el-button @click="fullValidate">全量校验</el-button>\n      <el-button @click="clearValidate">清除校验</el-button>\n    </template>\n  </eff-table>\n  ',l="\n  rules: [ // 校验规则\n    {\n      required: true, \n      message: '', //可选，默认为 不能为空 \n      trigger: '' // 可选，默认为 blur，对于select组件必须声明为 change\n    }, \n    {\n      min: number, // 最小长度\n      message: '', //可选，默认为 长度不能小于 min\n    }, \n    {\n      max: number, // 最大长度 \n      message: '', //可选，默认为 长度不能大于 max\n    }, \n    // min,max同时存在时 message 默认为 长度必须在 min 到 max \n    {\n      pattern: reg, // 正则\n      message: '', //可选，默认为 校验不通过\n    }, \n    {\n      type: 'email', // 邮箱\n      message: '', //可选，默认为 请输入正确的邮箱\n    }, \n    {\n      type: 'phone', // 手机号\n      message: '', //可选，默认为 请输入正确的手机号\n    }, \n    {\n      validator: Function ({value, row, column, id, prop}) // 自定义校验，支持异步\n    }\n  ]\n  ",c="\n  export default {\n    data() {\n      return {\n        tableOptions: {\n          maxHeight: 400,\n          edit: true,\n          border: true,\n          columns: [\n            {\n              show: true,\n              type: 'selection',\n              width: 60\n            },\n            {\n              show: true,\n              prop: 'name',\n              title: '名字',\n              titleSuffix: { icon: 'info', message: '异步操作，等待回调完成再进行下一步操作' },\n              sortable: true,\n              edit: {\n                render: { props: { placeholder: '请输入刘德华' }}\n              },\n              rules: [\n                { required: true },\n                { min: 2, max: 5 },\n                { validator: ({ value }) => new Promise(resolve => {\n                // 模拟远程校验\n                  return setTimeout(() => resolve(value === '刘德华' ? '该名称已被作者使用，请换其他名字' : ''), 200)\n                }) }\n              ]\n            },\n            {\n              show: true,\n              prop: 'sex',\n              title: '性别',\n              config: { name: 'select', options: [{ label: '男', value: '1' }, { label: '女', value: '2' }] },\n              edit: true,\n              rules: [{ required: true }]\n            },\n            {\n              show: true,\n              prop: 'phone',\n              title: '手机',\n              edit: true,\n              rules: [{ type: 'phone' }]\n            },\n            {\n              show: true,\n              prop: 'email',\n              title: '邮箱',\n              edit: true,\n              rules: [{ type: 'email' }]\n            }\n          ],\n          data: [\n            { id: 1, name: '张三', sex: '男', phone: '1371520', email: '168@qq.com' },\n            { id: 2, name: '李四', sex: '女', phone: '13715201314', email: '168@qq.com' },\n            { id: 3, name: '刘德华', sex: '', phone: '137152013141371520131413715201314137152013141371520', email: '168@qq.com' },\n            { id: 4, name: '赵六', sex: '男', phone: '13715201314', email: '168168168168168168168168168168168168168168168168168168' }\n          ]\n        }\n      }\n    },\n    methods: {\n      validate() {\n        this.$refs.table.validate().then(res => {\n          this.$message.success('校验通过!')\n        }).catch(data => {\n          this.$message.error('校验不通过!')\n          console.log(JSON.stringify(data, null, 2))\n        })\n      },\n      fullValidate() {\n        this.$refs.table.validate(true).then(res => {\n          this.$message.success('校验通过!')\n        }).catch(data => {\n          this.$message.error('校验不通过!')\n          console.log(JSON.stringify(data, null, 2))\n        })\n      },\n      validateChecked() {\n        const rows = this.$refs.table.getCheckRows()\n        if (rows.length) {\n          this.$refs.table.validate(rows).then(res => {\n            this.$message.success('校验通过!')\n          }).catch(data => {\n            this.$message.error('校验不通过!')\n            console.log(JSON.stringify(data, null, 2))\n          })\n        } else {\n          this.$message.error('未选中行!')\n        }\n      },\n      clearValidate() {\n        this.$refs.table.clearValidate()\n      }\n    }\n  }\n  ",u={name:"Validate",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){return{htmlCode:s,jsCode:c,rules:l,tableOptions:{maxHeight:400,edit:!0,border:!0,columns:[{show:!0,type:"selection",width:60},{show:!0,prop:"name",title:"名字",titleSuffix:{icon:"info",message:"异步操作，等待回调完成再进行下一步操作"},sortable:!0,edit:{render:{props:{placeholder:"请输入刘德华"}}},rules:[{required:!0},{min:2,max:5},{validator:function(e){var t=e.value;return new Promise((function(e){return setTimeout((function(){return e("刘德华"===t?"该名称已被作者使用，请换其他名字":"")}),200)}))}}]},{show:!0,prop:"sex",title:"性别",config:{name:"select",options:[{label:"男",value:"1"},{label:"女",value:"2"}]},edit:!0,rules:[{required:!0}]},{show:!0,prop:"phone",title:"手机",edit:!1,rules:[{type:"phone"}]},{show:!0,prop:"email",title:"邮箱",edit:!0,rules:[{type:"email"}]}],data:[{id:1,name:"张三",sex:"男",phone:"1371520",email:"168@qq.com"},{id:2,name:"李四",sex:"女",phone:"13715201314",email:"168@qq.com"},{id:3,name:"刘德华",sex:"",phone:"137152013141371520131413715201314137152013141371520",email:"168@qq.com"},{id:4,name:"赵六",sex:"男",phone:"13715201314",email:"168168168168168168168168168168168168168168168168168168"}]}}},methods:{validate:function(){var e=this;this.$refs.table.validate().then((function(t){e.$message.success("校验通过!")})).catch((function(t){e.$message.error("校验不通过!"),console.log(JSON.stringify(t,null,2))}))},fullValidate:function(){var e=this;this.$refs.table.validate(!0).then((function(t){e.$message.success("校验通过!")})).catch((function(t){e.$message.error("校验不通过!"),console.log(JSON.stringify(t,null,2))}))},validateChecked:function(){var e=this,t=this.$refs.table.getCheckRows();t.length?this.$refs.table.validate(t).then((function(t){e.$message.success("校验通过!")})).catch((function(t){e.$message.error("校验不通过!")})):this.$message.error("未选中行!")},clearValidate:function(){this.$refs.table.clearValidate()}}},d=u,p=n("2877"),h=Object(p["a"])(d,a,o,!1,null,null,null);t["default"]=h.exports},"0cf4":function(e,t,n){"use strict";n("f338")},"139a":function(e,t,n){"use strict";n("7890")},"14ee":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("Sort 排序")]),e._m(0),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",e._b({ref:"table",on:{"sort-change":e.sortChange}},"eff-table",e.tableOptions,!1),[n("template",{slot:"toolbar"},[n("el-button",{on:{click:function(t){return e.$refs.table.sort("name","asc")}}},[e._v("名字升序")]),n("el-button",{on:{click:function(t){return e.$refs.table.sort("name","desc")}}},[e._v("名字降序")]),n("el-button",{on:{click:function(t){return e.$refs.table.toggleSort("name")}}},[e._v("名字循环切换")]),n("el-button",{on:{click:function(t){return e.$refs.table.clearSort()}}},[e._v("清除排序")])],1)],2)],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1),e._m(1),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",e._b({on:{"sort-change":e.sortChange}},"eff-table",e.tableOptions1,!1))],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"hint"},[e._v(" 单字段排序"),n("br"),e._v(" 设置v-model字段的 "),n("span",{staticClass:"primary"},[e._v("sortable")]),e._v("属性 = "),n("span",{staticClass:"primary"},[e._v("true")]),e._v(" 开启排序"),n("br"),e._v(" 可以通过 "),n("span",{staticClass:"primary"},[e._v("sort(prop, 'asc' || 'desc')")]),e._v(" 方法进行排序"),n("br"),e._v(" 也可以通过 "),n("span",{staticClass:"primary"},[e._v("toggleSort(prop)")]),e._v(" 方法进行循环排序，循环顺序为"),n("span",{staticClass:"primary"},[e._v("['desc', 'asc', '']")]),n("br")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"hint"},[e._v(" 多字段排序"),n("br"),e._v(" 设置 "),n("span",{staticClass:"primary"},[e._v("multiple-sort")]),e._v(" = "),n("span",{staticClass:"primary"},[e._v("true")]),e._v(" 开启 ")])}],i=n("76a1"),r=n("d369"),s="\n  export default {\n    data () {\n      return {\n        data: [],\n        columns: [\n          {\n            show: true,\n            prop: 'index',\n            title: '序号',\n            sortable: true\n          },\n          {\n            show: true,\n            prop: 'city',\n            title: '城市',\n            sortable: true\n          },\n          {\n            show: true,\n            prop: 'message',\n            title: '消息',\n            sortable: true\n          }\n        ]\n      }\n    }\n  }\n  ",l='\n  <eff-table\n    ref="table"\n    v-model="columns"\n    :data="data"\n    multiple-sort\n  />\n  ',c={name:"Sort",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){return{value:2,jsCode:s,htmlCode:l,tableOptions:{maxHeight:400,border:!0,data:[{name:"张三",xing:"张",ming:"三",sex:"男",age:"20"},{name:"李四",xing:"李",ming:"四",sex:"男",age:"28"},{name:"张三",xing:"张",ming:"三",sex:"男",age:"28"},{name:"王五",xing:"王",ming:"五",sex:"男",age:"28"},{name:"张三",xing:"张",ming:"三",sex:"女",age:"20"},{name:"小丽",xing:"小",ming:"丽",sex:"女",age:"18"}],columns:[{show:!0,prop:"name",title:"名字",titleSort:!0,sortable:!0},{show:!0,prop:"sex",title:"性别",sortable:!0},{show:!0,prop:"age",title:"年龄",sortable:!0}]},tableOptions1:{maxHeight:400,border:!0,sortConfig:{multiple:!0},toolbarConfig:{batchSort:!0},data:[{name:"张三",xing:"张",ming:"三",sex:"男",age:"20"},{name:"李四",xing:"李",ming:"四",sex:"男",age:"28"},{name:"张三",xing:"张",ming:"三",sex:"男",age:"28"},{name:"王五",xing:"王",ming:"五",sex:"男",age:"28"},{name:"张三",xing:"张",ming:"三",sex:"女",age:"20"},{name:"小丽",xing:"小",ming:"丽",sex:"女",age:"18"}],columns:[{show:!0,prop:"name",title:"名字",sortable:!0},{show:!0,prop:"sex",title:"性别",sortable:!0},{show:!0,prop:"age",title:"年龄",sortable:!0}]}}},methods:{sortChange:function(e){console.log("sorts",JSON.stringify(e,null,2))}}},u=c,d=n("2877"),p=Object(d["a"])(u,a,o,!1,null,null,null);t["default"]=p.exports},15531:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-Start page"},[n("section",{staticClass:"snippets"},[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"snippet",attrs:{code:e.mainSnippet,lang:"js"}})],1)])])},o=[],i=n("76a1"),r=n("b1c8"),s="\nimport Vue from 'vue'\nimport App from './App.vue'\nimport ".concat(r["b"]," from '").concat(r["a"].name,"'\nimport '").concat(r["a"].name,"/dist/").concat(r["a"].name,".css'\n\nVue.use(").concat(r["b"],")\n\nnew Vue({\n  el: '#app',\n  render: h => h(App)\n});\n"),l={name:"Start",components:{CodeSnippet:i["a"]},data:function(){return{mainSnippet:s}}},c=l,u=n("2877"),d=Object(u["a"])(c,a,o,!1,null,null,null);t["default"]=d.exports},1684:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("Document",{attrs:{title:"senior-query",form:e.documentForm}},[n("h2",[e._v("SeniorQuery 高级搜索 "),n("router-link",{staticClass:"page-router",attrs:{to:"/SeniorQueryDemo"}},[e._v("查看示例")])],1)])],1)},o=[],i=n("1dfc"),r={name:"SeniorQueryApi",components:{Document:i["a"]},data:function(){return{documentForm:{props:[{attribute:"show",explain:"是否展示搜索框",type:"boolean",choosable:"",default:"false"},{attribute:"data",explain:"用于搜索的数据集合",type:"array",choosable:"",default:"[]",code:"\n  [\n    {\n      fieldName: '', // 字段名\n      fieldType: '', // 字段类型\n      fieldChildType: '', // 字段子类型，如果字段类型是Object或者Array则子类型必填\n      operateTypeList: [], // 操作类型\n      componentType: '', // 组件类型（input，select）\n      dataSourceType: 0, // 数据源类型（0：无数据源，1：静态数据源，2：接口数据源）\n      requestParam: '', // 请求要携带的参数名\n      sourceType: 'query', // static为静态数据，query是模糊查询\n      apiSource: { // 接口数据（数据源类型为2时必填）\n        label: 'label', // 下拉框label别名\n        value: 'value', // 下拉框value别名\n        fullPath: '', // 接口全路径\n        requestType: '', // 请求类型\n      },\n      staticSourceList: [] // 静态数据集合\n    }\n  ]\n\n"},{attribute:"tree-config",explain:"搜索框表格的树配置",type:"number",choosable:"",default:"{}",code:"\n  {\n    expandAll: false, // 是否展开所有节点\n    children: 'children', // 子节点别名\n    defaultExpandeds: [] // 默认展开的节点\n  }\n  \n"},{attribute:"width",explain:"默认宽度",type:"number",choosable:"",default:"800"},{attribute:"height",explain:"默认高度",type:"number",choosable:"",default:"500"},{attribute:"min-width",explain:"搜索框收缩时的最小宽度",type:"number",choosable:"",default:"600"},{attribute:"min-height",explain:"搜索框收缩时的最小高度",type:"number",choosable:"",default:"300"},{attribute:"preview",explain:"是否展示条件预览行",type:"boolean",choosable:"",default:"true"},{attribute:"previewUseOperator",explain:"预览时是否使用条件符，默认使用文本展示",type:"boolean",choosable:"",default:"false"}],events:[{attribute:"search",explain:"点击搜索框的搜索按钮时触发",default:"array",code:"\n  // 回调参数\n  [\n    {\n      conditionConnector: '', // 条件连接符\n      fieldName: '', // 字段名\n      operator: '', // 操作符\n      fieldValue: '', // 字段值\n      fieldValueList: [], // 字段值集合\n      childConditionList: [] // 被包含的条件\n    }\n  ]\n\n"},{attribute:"close",explain:"搜索框关闭时触发",default:""}]}}}},s=r,l=n("2877"),c=Object(l["a"])(s,a,o,!1,null,null,null);t["default"]=c.exports},"1dfc":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document"},[n("div",{staticClass:"document-title"},[e._t("default"),n("el-input",{staticClass:"search",attrs:{placeholder:e.title+" API 搜索",size:"small",clearable:""},on:{input:e.debounceSearch},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})],2),e.data.global&&e.data.global.length?n("div",[n("h3",[e._v("Global")]),n("CodeSnippet",{staticClass:"javascript",staticStyle:{"margin-bottom":"10px"},attrs:{code:"// main.js\nimport 'EffTable' from 'eff-table'\nVue.use(EffTable, { focusToSelect: true, ... }) // 表格属性 > 全局表格属性"}}),n("eff-table",{attrs:{"row-height":50,columns:[{show:!!e.data.global.find((function(e){return e.code})),type:"expand",width:40,titleSuffix:{message:"查看详细配置",icon:"question"}},{title:"属性",prop:"attribute",width:160},{title:"说明",prop:"explain"},{title:"类型",prop:"type",width:120},{title:"可选值",prop:"choosable",width:120},{title:"默认值",prop:"default",width:120}],data:e.data.global,keyword:e.searchValue,"expand-config":{onlyField:"code"}},scopedSlots:e._u([{key:"expand",fn:function(e){var t=e.row;return[n("CodeSnippet",{staticClass:"javascript",attrs:{code:t.code}})]}}],null,!1,800745437)})],1):e._e(),e.data.props&&e.data.props.length?n("div",[n("h3",[e._v("Attributes")]),n("eff-table",{attrs:{"row-height":50,columns:[{show:!!e.data.props.find((function(e){return e.code})),type:"expand",width:40,titleSuffix:{message:"查看详细配置",icon:"question"}},{title:"属性",prop:"attribute",width:160},{title:"说明",prop:"explain"},{title:"类型",prop:"type",width:120},{title:"可选值",prop:"choosable",width:120},{title:"默认值",prop:"default",width:120}],data:e.data.props,keyword:e.searchValue,"expand-config":{onlyField:"code"}},scopedSlots:e._u([{key:"expand",fn:function(e){var t=e.row;return[n("CodeSnippet",{staticClass:"javascript",attrs:{code:t.code}})]}}],null,!1,800745437)})],1):e._e(),e.data.slots&&e.data.slots.length?n("div",[n("h3",[e._v("Slot")]),n("eff-table",{attrs:{"row-height":50,columns:[{title:"name",prop:"attribute",width:160},{title:"说明",prop:"explain"}],data:e.data.slots,keyword:e.searchValue}})],1):e._e(),e.data.scopedSlot&&e.data.scopedSlot.length?n("div",[n("h3",[e._v("Scoped Slot")]),n("eff-table",{attrs:{"row-height":50,columns:[{title:"name",prop:"attribute",width:160},{title:"说明",prop:"explain"}],data:e.data.scopedSlot,keyword:e.searchValue}})],1):e._e(),e.data.methods&&e.data.methods.length?n("div",[n("h3",[e._v("Methods")]),n("eff-table",{attrs:{"row-height":50,columns:[{show:!!e.data.methods.find((function(e){return e.code})),type:"expand",width:40,titleSuffix:{message:"查看使用示例",icon:"question"}},{title:"方法名",prop:"attribute",width:160},{title:"说明",prop:"explain"},{title:"参数",prop:"default",width:160}],data:e.data.methods,keyword:e.searchValue,"expand-config":{onlyField:"code"}},scopedSlots:e._u([{key:"expand",fn:function(e){var t=e.row;return[n("CodeSnippet",{staticClass:"javascript",attrs:{code:t.code}})]}}],null,!1,800745437)})],1):e._e(),e.data.events&&e.data.events.length?n("div",[n("h3",[e._v("Events")]),n("eff-table",{attrs:{"row-height":50,columns:[{show:!!e.data.events.find((function(e){return e.code})),type:"expand",width:40,titleSuffix:{message:"查看回调参数说明",icon:"question"}},{title:"事件名",prop:"attribute",width:160},{title:"说明",prop:"explain"},{title:"回调参数",prop:"default"}],data:e.data.events,keyword:e.searchValue,"expand-config":{onlyField:"code"}},scopedSlots:e._u([{key:"expand",fn:function(e){var t=e.row;return[n("CodeSnippet",{staticClass:"javascript",attrs:{code:t.code}})]}}],null,!1,800745437)})],1):e._e()])},o=[],i=n("76a1"),r=n("c695"),s=n.n(r),l={name:"Document",components:{CodeSnippet:i["a"]},props:{title:{type:String,default:""},form:{type:Object,default:function(){return{}}}},data:function(){return{searchValue:"",data:[]}},created:function(){this.data=s.a.clone(this.form,!0),this.debounceSearch=s.a.debounce(this.search,200)},methods:{search:function(e){var t=s.a.clone(this.form,!0);if(e)for(var n in t)this.data[n]=t[n].filter((function(t){return["global","attribute","explain","type","choosable","default"].find((function(n){return t[n]&&t[n].indexOf(e)>-1}))}));else this.data=t}}},c=l,u=(n("310a"),n("2877")),d=Object(u["a"])(c,a,o,!1,null,null,null);t["a"]=d.exports},"1eab":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("Virtual 虚拟滚动")]),e._m(0),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("v-form",{staticStyle:{"margin-bottom":"10px"},attrs:{data:e.form,items:[{title:"列数量",prop:"columnNum",itemRender:{name:"select",options:[{label:50,value:50},{label:100,value:100},{label:500,value:500},{label:1e3,value:1e3}],on:{change:e.setColumns}}},{title:"行数量",prop:"dataNum",itemRender:{name:"select",options:[{label:1e3,value:1e3},{label:3e3,value:3e3},{label:5e3,value:5e3},{label:1e4,value:1e4},{label:2e4,value:2e4}],on:{change:e.setData}}}]}}),n("eff-table",e._b({ref:"table"},"eff-table",e.tableOptions,!1))],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"hint"},[e._v(" 数据大于 50 行时自动开启"),n("span",{staticClass:"primary"},[e._v(" 行 ")]),e._v("虚拟滚动"),n("br"),e._v(" 展开行与树形数据存在时自动禁用展开行 ")])}],i=n("76a1"),r=n("d369"),s=n("96eb"),l=n.n(s);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u="\n  import mock from 'mockjs'\n  export default {\n    data() {\n      return {\n        form: { dataNum: 1000, columnNum: 100 },\n        tableOptions: {\n          maxHeight: 400,\n          border: true,\n          data: [],\n          columns: []\n        }\n      }\n    },\n    mounted() {\n      this.setColumns(10)\n      this.setData(this.form.dataNum)\n    },\n    methods: {\n      setColumns(val) {\n        let num = 1\n        this.tableOptions.columns = [{ type: 'index', width: 60 }].concat(mock.mock({\n          ['array|' + val]: [\n            {\n              show: true,\n              prop: 'name',\n              title: () => '列' + num++,\n              width: 200\n            }\n          ]\n        }).array)\n      },\n      setData(val) {\n        this.tableOptions.data = mock.mock({\n          ['array|' + val]: [\n            {\n              'name': '@name'\n            }\n          ]\n        }).array\n      }\n    }\n  }\n  ",d="\n  <v-form\n    :data=\"form\"\n    :columns=\"[\n      {title: '列数量',prop: 'columnNum',itemRender:{\n        name: 'select',\n        options: [{label: 100, value: 100},{label: 500, value: 500},{label: 1000, value: 1000},{label: 2000, value: 2000}],\n        on: {change: setColumns}\n      }},\n      {title: '行数量',prop: 'dataNum',itemRender:{\n        name: 'select',\n        options: [{label: 1000, value: 1000},{label: 3000, value: 3000},{label: 5000, value: 5000}, {label: 10000, value: 10000},{label: 20000, value: 20000}],\n        on: {change: setData}\n      }},\n    ]\"\n  />\n  <eff-table v-bind=\"tableOptions\" />\n  ",p={name:"Virtual",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){return{htmlCode:d,jsCode:u,form:{dataNum:3e3,columnNum:50},tableOptions:{height:"100%",border:!0,data:[],columns:[],toolbarConfig:{fullscreen:!0},showSummary:!0,footerActionConfig:{showPager:!0,showBorder:!0}}}},mounted:function(){this.setColumns(this.form.columnNum),this.setData(this.form.dataNum)},methods:{setColumns:function(e){var t=1;this.tableOptions.columns=[{type:"index",width:60,fixed:"left"}].concat(l.a.mock(c({},"array|"+e,[{show:!0,prop:"name",title:function(){return"列"+t++},width:200}])).array).concat([{title:"操作",fixed:"right",prop:"name"}])},setData:function(e){this.tableOptions.data=l.a.mock(c({},"array|"+e,[{name:"@name"}])).array}}},h=p,f=n("2877"),m=Object(f["a"])(h,a,o,!1,null,null,null);t["default"]=m.exports},"1eea":function(e,t,n){var a={"./Base.vue":"ee1d","./ColumnEdit.vue":"dfea","./Copy.vue":"ddbc","./Drag.vue":"07fa","./Edit.vue":"93c7","./Expand.vue":"333b","./Filter.vue":"d3a7","./FooterAction.vue":"ca03","./Full.vue":"728a","./History.vue":"77a9","./Replace.vue":"264b","./Search.vue":"3c5f","./SeniorQuery.vue":"3191","./Sort.vue":"14ee","./SpanMethod.vue":"50fa","./Start.vue":"15531","./Subtotal.vue":"76a2","./Summary.vue":"73f2","./TableForm.vue":"45c1","./Tree.vue":"83f8","./Validate.vue":"0c25","./Virtual.vue":"1eab","./api/form.vue":"4e87","./api/senior-query.vue":"1684","./api/table.vue":"6f18","./api/transfer.vue":"4041","./form/Form.vue":"505a","./form/FormBase.vue":"a50b","./form/FormEdit.vue":"ddc8","./form/FormValidate.vue":"e544","./multiple-header.vue":"5234","./panel/Panel.vue":"8d2e","./senior-query/SeniorQuery.vue":"3854","./transfer/Transfer.vue":"44ab"};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=i,e.exports=o,o.id="1eea"},2268:function(e,t,n){"use strict";n("d881")},"264b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("Replace 批量替换")]),n("p",{staticClass:"hint"},[n("span",{staticClass:"primary"},[e._v("show-replace")]),e._v("属性设置为 "),n("span",{staticClass:"primary"},[e._v(" true ")]),n("br"),e._v(" 点击按钮 "),n("Icon",{attrs:{icon:"replace"}}),e._v(" 打开替换窗口， "),n("span",{staticClass:"primary"},[e._v("右侧")]),e._v("拖动字段到"),n("span",{staticClass:"primary"},[e._v("左侧")]),e._v("编辑替换的选项，点击确定进行替换 ")],1),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",{ref:"table",attrs:{data:e.data,"toolbar-config":{replace:!0},edit:"",border:""},model:{value:e.columns,callback:function(t){e.columns=t},expression:"columns"}})],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1)])},o=[],i=n("76a1"),r=n("d369"),s='\n  <eff-table ref="table" v-model="columns" :data="data" show-replace />\n  ',l="\n  export default {\n    data() {\n      return {\n        data: [],\n        columns: [\n          {\n            show: true,\n            type: 'index',\n            title: '序号',\n            width: 80,\n            fixed: 'left'\n          },\n          {\n            show: true,\n            prop: 'name',\n            title: '名字'\n          },\n          {\n            show: true,\n            prop: 'sex',\n            title: '性别'\n          },\n          {\n            show: true,\n            prop: 'phone',\n            title: '手机',\n            width: 150\n          }\n        ]\n      }\n    }\n  }\n  ",c={name:"Replace",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){return{htmlCode:s,jsCode:l,columns:[{show:!0,type:"index",width:80,fixed:"left"},{show:!0,prop:"name",title:"名字",config:{name:"input"},edit:!0},{show:!0,prop:"sex",title:"性别",config:{name:"select",options:[{label:"男",value:"1"},{label:"女",value:"2"}]},edit:!0},{show:!0,prop:"phone",title:"手机",config:{name:"input"},edit:!0},{show:!0,prop:"date",title:"日期",config:{name:"date-picker"},edit:!0}],data:[{name:"张三",sex:"男",phone:"",date:"2021-9-15"},{name:"李四",sex:"",phone:"13715201314",date:"2021-9-15"},{name:"",sex:"男",phone:"13715201314",date:"2021-9-15"},{name:"张三",sex:"女",phone:"13715201314",date:"2021-9-15"},{name:"张三",sex:"男",phone:"13715201314",date:""},{name:"李四",sex:"男",phone:"13715201314",date:"2021-9-15"}]}}},u=c,d=n("2877"),p=Object(d["a"])(u,a,o,!1,null,null,null);t["default"]=p.exports},"310a":function(e,t,n){"use strict";n("dcfb")},3191:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("SeniorQuery 高级搜索")]),n("p",{staticClass:"hint"},[n("span",{staticClass:"primary"},[e._v("toolbarConfig.seniorQuery")]),e._v(" 设置为 "),n("span",{staticClass:"primary"},[e._v("true")]),n("br"),e._v(" 点击 "),n("Icon",{attrs:{icon:"query"}}),e._v(" 展开搜索框 ")],1),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",e._b({},"eff-table",e.tableOptions,!1))],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1)])},o=[],i=n("76a1"),r=n("d369"),s='\n  <eff-table v-bind="tableOptions" />\n  ',l="\n  export default {\n    data() {\n      return {\n        tableOptions: {\n          border: true,\n          edit: true,\n          toolbarConfig: { seniorQuery: true },\n          seniorQueryConfig: {\n            fieldList: [\n              {\n                fieldName: 'name', // 字段名\n                fieldType: 'string', // 字段类型\n                fieldChildType: '', // 字段子类型，如果字段类型是Object或者Array则子类型必填\n                operateTypeList: ['=', 'not in'], // 操作类型\n                componentType: 'input', // 组件类型（input，select）\n                dataSourceType: 0, // 数据源类型（0：无数据源，1：静态数据源，2：接口数据源）\n                requestParam: '', // 请求要携带的参数名\n                sourceType: 'query', // static为静态数据，query是模糊查询\n                apiSource: { // 接口数据（数据源类型为2时必填）\n                  label: 'label', // 下拉框label别名\n                  value: 'value', // 下拉框value别名\n                  fullPath: '', // 接口全路径\n                  requestType: '', // 请求类型\n                },\n                staticSourceList: [] // 静态数据集合\n              },\n              {\n                fieldName: 'sex',\n                fieldType: 'string',\n                fieldChildType: '',\n                operateTypeList: ['=', 'not in'],\n                componentType: 'select',\n                dataSourceType: 2,\n                apiSource: {\n                  fullPath: '/path',\n                  requestType: 'get'\n                },\n                staticSourceList: []\n              },\n              {\n                fieldName: 'age',\n                fieldType: 'number',\n                fieldChildType: '',\n                operateTypeList: ['>', '<', '=', '>=', '<=', 'not in'],\n                componentType: 'input',\n                dataSourceType: 1,\n                apiSource: {\n                  fullPath: '',\n                  requestType: ''\n                },\n                staticSourceList: []\n              },\n              {\n                fieldName: 'hobby',\n                fieldType: 'array',\n                fieldChildType: '',\n                operateTypeList: ['=', 'not in'],\n                componentType: 'select',\n                dataSourceType: 2,\n                apiSource: {\n                  fullPath: '/path',\n                  requestType: 'get'\n                },\n                staticSourceList: []\n              }\n            ]\n          },\n          proxyConfig: {\n            request: {\n              query: ({ page, sorts, filters, form, seniorQuery }) => {\n                // console.log('query', JSON.stringify({ page, sorts, filters, form, seniorQuery }, null, 2))\n                return new Promise(resolve => {\n                  setTimeout(() => {\n                    resolve([\n                      { name: '张三', sex: '男', age: 18, hobby: ['游泳', 'K歌', '女'] },\n                      { name: '李四', sex: '女', age: 18, hobby: ['游泳', 'K歌', '男'] },\n                      { name: '张三', sex: '男', age: 18, hobby: ['游泳', 'K歌', '女'] },\n                      { name: '李四', sex: '女', age: 18, hobby: ['游泳', 'K歌', '男'] }\n                    ])\n                  }, 500)\n                })\n              }\n            }\n          },\n          columns: [\n            {\n              type: 'index',\n              width: 80\n            },\n            {\n              prop: 'name',\n              title: '名字'\n            },\n            {\n              prop: 'sex',\n              title: '性别'\n            },\n            {\n              prop: 'age',\n              title: '年龄'\n            },\n            {\n              prop: 'hobby',\n              title: '爱好',\n              cellRender: (h) => ({ name: 'tag', options: ({ row, prop }) => row[prop].map(d => ({ label: d })) })\n            }\n          ]\n        }\n      }\n    }\n  }\n  ",c={name:"SeniorQuery",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){return{htmlCode:s,jsCode:l,tableOptions:{border:!0,edit:!0,toolbarConfig:{seniorQuery:!0},seniorQueryConfig:{fieldList:[{fieldName:"name",fieldType:"string",fieldChildType:"",operateTypeList:[{label:"等于",value:"="},{label:"不包含",value:"not in"}],componentType:"input",dataSourceType:0,apiSource:{fullPath:"",requestType:""},staticSourceList:[]},{fieldName:"sex",fieldType:"string",fieldChildType:"",operateTypeList:[{label:"等于",value:"="},{label:"不包含",value:"not in"}],componentType:"select",dataSourceType:2,apiSource:{fullPath:"http://10.10.46.92:6521/api/person/senior/query",requestType:"get"},staticSourceList:[]},{fieldName:"age",fieldType:"number",fieldChildType:"",operateTypeList:[{label:"大于",value:">"},{label:"小于",value:"<"},{label:"等于",value:"="},{label:"大于等于",value:">="},{label:"小于等于",value:"<="},{label:"不包含",value:"not in"}],componentType:"input",dataSourceType:1,apiSource:{fullPath:"",requestType:""},staticSourceList:[]},{fieldName:"hobby",fieldType:"array",fieldChildType:"",operateTypeList:[{label:"等于",value:"="},{label:"不包含",value:"not in"}],componentType:"select",dataSourceType:2,apiSource:{fullPath:"/path",requestType:"get",requestParam:"aaa"},staticSourceList:[]}]},proxyConfig:{request:{query:function(e){e.page,e.sorts,e.filters,e.form,e.seniorQuery;return new Promise((function(e){setTimeout((function(){e([{name:"张三",sex:"男",age:18,hobby:["游泳","K歌","女"]},{name:"李四",sex:"女",age:18,hobby:["游泳","K歌","男"]},{name:"张三",sex:"男",age:18,hobby:["游泳","K歌","女"]},{name:"李四",sex:"女",age:18,hobby:["游泳","K歌","男"]}])}),500)}))}}},columns:[{type:"index",width:80},{prop:"name",title:"名字"},{prop:"sex",title:"性别"},{prop:"age",title:"年龄"},{prop:"hobby",title:"爱好",cellRender:function(e){return{name:"tag",options:function(e){var t=e.row,n=e.prop;return t[n].map((function(e){return{label:e}}))}}}}]}}}},u=c,d=n("2877"),p=Object(d["a"])(u,a,o,!1,null,null,null);t["default"]=p.exports},"333b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("Expand 展开行")]),e._m(0),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",{ref:"table",attrs:{data:e.data,"max-height":400,border:""},scopedSlots:e._u([{key:"toolbar",fn:function(){return[n("el-button",{on:{click:function(t){return e.$refs.table.toggleRowExpand(e.data[1])}}},[e._v("切换第二行展开")]),n("el-button",{on:{click:function(t){e.$refs.table.setRowExpand(e.data.slice(2),!0)}}},[e._v("展开第三、四行")]),n("el-button",{on:{click:function(t){return e.$refs.table.setAllRowExpand(!0)}}},[e._v("展开所有行")]),n("el-button",{on:{click:function(t){return e.$refs.table.clearRowExpand()}}},[e._v("关闭所有行")])]},proxy:!0},{key:"expand",fn:function(e){var t=e.row;return[n("v-form",{attrs:{data:t,items:[{title:"名字",prop:"name"},{title:"性别",prop:"sex"},{title:"手机",prop:"phone"},{title:"邮箱",prop:"email"}]}})]}}]),model:{value:e.columns,callback:function(t){e.columns=t},expression:"columns"}})],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1),n("h3",[e._v("对象配置模式")]),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",e._b({},"eff-table",e.tableOptions,!1))],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode1}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode1}})],1)])],1)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"hint"},[e._v(" 当行内容过多并且不想显示横向滚动条时，可以使用 Table 展开行功能。"),n("br"),e._v(" 通过设置 "),n("span",{staticClass:"primary"},[e._v("{ type: 'expand' }")]),e._v(" 列和 "),n("span",{staticClass:"primary"},[e._v("scope slot")]),e._v(" 可以开启展开行功能（展开行不能用于虚拟滚动） ")])}],i=n("76a1"),r=n("d369"),s="\n  <eff-table\n    v-model=\"columns\"\n    :data=\"data\"\n    border\n  >\n    <template #expand=\"{row}\">\n      <v-form\n        :data=\"row\"\n        :columns=\"[\n          {title: '名字', prop: 'name'},\n          {title: '性别', prop: 'sex'},\n          {title: '手机', prop: 'phone'},\n          {title: '邮箱', prop: 'email'},\n        ]\"\n      />\n    </template>\n  </eff-table>\n  ",l='\n  <eff-table v-bind="tableOptions" />\n  ',c="\n  export default {\n    data() {\n      return {\n        columns: [\n          {\n            show: true,\n            type: 'expand',\n            width: 40,\n          },\n          {\n            show: true,\n            prop: 'name',\n            title: '名字'\n          },\n          {\n            show: true,\n            prop: 'sex',\n            title: '性别'\n          },\n          {\n            show: true,\n            prop: 'phone',\n            title: '手机'\n          },\n          {\n            show: true,\n            prop: 'email',\n            title: '邮箱'\n          }\n        ],\n        data: [\n          { id: 1, name: '张三', sex: '男', phone: '13715201314' },\n          { id: 2, name: '李四', sex: '女', phone: '13715201314' },\n          { id: 3, name: '王五', sex: '男', phone: '13715201314' },\n          { id: 4, name: '赵六', sex: '男', phone: '13715201314' }\n        ]\n      }\n    }\n  }\n  ",u="\n  export default {\n    data() {\n      return {\n        tableOptions: {\n          columns: [\n            {\n              show: true,\n              type: 'expand',\n              width: 40\n            },\n            {\n              show: true,\n              prop: 'name',\n              title: '名字'\n            },\n            {\n              show: true,\n              prop: 'sex',\n              title: '性别'\n            },\n            {\n              show: true,\n              prop: 'phone',\n              title: '手机'\n            },\n            {\n              show: true,\n              prop: 'email',\n              title: '邮箱'\n            }\n          ],\n          data: [\n            { id: 1, name: '张三', sex: '男', phone: '13715201314', email: 'aaa@qq.com' },\n            { id: 2, name: '李四', sex: '女', phone: '13715201314', email: 'aaa@qq.com' },\n            { id: 3, name: '王五', sex: '男', phone: '13715201314', email: 'aaa@qq.com' },\n            { id: 4, name: '赵六', sex: '男', phone: '13715201314', email: 'aaa@qq.com' }\n          ],\n          scopedSlots: { expand: ({ row }) => {\n            return (\n              <v-form\n                data={row}\n                columns={[\n                  { title: '名字', prop: 'name' },\n                  { title: '性别', prop: 'sex' },\n                  { title: '手机', prop: 'phone' },\n                  { title: '邮箱', prop: 'email' }\n                ]}\n              />\n            )\n          } }\n        }\n      }\n    }\n  }\n  ",d={name:"Expand",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){var e=this.$createElement;return{htmlCode:s,htmlCode1:l,jsCode:c,jsCode1:u,columns:[{show:!0,type:"expand",width:40},{show:!0,prop:"name",title:"名字"},{show:!0,prop:"sex",title:"性别"},{show:!0,prop:"phone",title:"手机"},{show:!0,prop:"email",title:"邮箱"}],data:[{id:1,name:"张三",sex:"男",phone:"13715201314",email:"aaa@qq.com"},{id:2,name:"李四",sex:"女",phone:"13715201314",email:"aaa@qq.com"},{id:3,name:"王五",sex:"男",phone:"13715201314",email:"aaa@qq.com"},{id:4,name:"赵六",sex:"男",phone:"13715201314",email:"aaa@qq.com"}],tableOptions:{border:!0,columns:[{show:!0,type:"expand",width:40},{show:!0,prop:"name",title:"名字"},{show:!0,prop:"sex",title:"性别"},{show:!0,prop:"phone",title:"手机"},{show:!0,prop:"email",title:"邮箱"}],data:[{id:1,name:"张三",sex:"男",phone:"13715201314",email:"aaa@qq.com"},{id:2,name:"李四",sex:"女",phone:"13715201314",email:"aaa@qq.com"},{id:3,name:"王五",sex:"男",phone:"13715201314",email:"aaa@qq.com"},{id:4,name:"赵六",sex:"男",phone:"13715201314",email:"aaa@qq.com"}],scopedSlots:{expand:function(t){var n=t.row;return e("v-form",{attrs:{data:n,items:[{title:"名字",prop:"name"},{title:"性别",prop:"sex"},{title:"手机",prop:"phone"},{title:"邮箱",prop:"email"}]}})}}}}}},p=d,h=n("2877"),f=Object(h["a"])(p,a,o,!1,null,null,null);t["default"]=f.exports},3854:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("SeniorQuery 高级搜索 "),n("router-link",{staticClass:"page-router",attrs:{to:"/SeniorQueryApi"}},[e._v("查看api")])],1),e._m(0),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.show=!e.show}}},[e._v("打开高级搜索")]),n("p"),n("SeniorQuery",{attrs:{show:e.show,data:e.seniorQueryList},on:{"update:show":function(t){e.show=t},search:e.handleSeniorQuery}})],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"hint"},[n("span",{staticClass:"primary"},[e._v("show ")]),e._v("属性设置为 "),n("span",{staticClass:"primary"},[e._v(" true / false ")]),e._v("或调用组件"),n("span",{staticClass:"primary"},[e._v(" open / close ")]),e._v("方法控制高级搜索弹窗打开与关闭"),n("br")])}],i=n("76a1"),r=n("d369"),s='\n  <el-button type="primary" size="mini" @click="show = !show">打开高级搜索</el-button>\n  <p />\n  <SeniorQuery :show.sync="show" :data="seniorQueryList" @search="handleSeniorQuery" />\n  ',l="\n  export default {\n    data() {\n      return {\n        seniorQueryList: [\n          {\n            fieldName: 'name', // 字段名\n            fieldType: 'string', // 字段类型\n            fieldChildType: '', // 字段子类型，如果字段类型是Object或者Array则子类型必填\n            operateTypeList: [{ label: '等于', value: '=' }, { label: '不包含', value: 'not in' }], // 操作类型\n            componentType: 'input', // 组件类型（input，select）\n            dataSourceType: 0, // 数据源类型（0：无数据源，1：静态数据源，2：接口数据源）\n            sourceType: 'query', // static为静态数据，query是模糊查询\n            apiSource: { // 接口数据（数据源类型为2时必填）\n              label: 'label', // 下拉框label别名\n              value: 'value', // 下拉框value别名\n              fullPath: '', // 接口全路径\n              requestType: '' // 请求类型\n            },\n            staticSourceList: [] // 静态数据集合\n          },\n          {\n            fieldName: 'sex',\n            fieldType: 'string',\n            fieldChildType: '',\n            operateTypeList: [{ label: '等于', value: '=' }, { label: '不包含', value: 'not in' }],\n            componentType: 'select',\n            dataSourceType: 2,\n            apiSource: {\n              fullPath: 'http://10.10.46.92:6521/api/person/senior/query',\n              requestType: 'get'\n            },\n            staticSourceList: []\n          },\n          {\n            fieldName: 'age',\n            fieldType: 'number',\n            fieldChildType: '',\n            operateTypeList: [\n              { label: '大于', value: '>' },\n              { label: '小于', value: '<' },\n              { label: '等于', value: '=' },\n              { label: '大于等于', value: '>=' },\n              { label: '小于等于', value: '<=' },\n              { label: '不包含', value: 'not in' }\n            ],\n            componentType: 'input',\n            dataSourceType: 1,\n            apiSource: {\n              fullPath: '',\n              requestType: ''\n            },\n            staticSourceList: []\n          },\n          {\n            fieldName: 'hobby',\n            fieldType: 'array',\n            fieldChildType: '',\n            operateTypeList: [{ label: '等于', value: '=' }, { label: '不包含', value: 'not in' }],\n            componentType: 'select',\n            dataSourceType: 2,\n            apiSource: {\n              fullPath: '/path',\n              requestType: 'get',\n              requestParam: ''\n            },\n            staticSourceList: []\n          }\n        ]\n      }\n    },\n    methods: {\n      handleSeniorQuery(seniorQuery) {\n        console.log('seniorQuery', JSON.stringify(seniorQuery, null, 2))\n      }\n    }\n  }\n  ",c={name:"SeniorQueryDemo",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){return{htmlCode:s,jsCode:l,show:!1,seniorQueryList:[{fieldName:"name",fieldType:"string",fieldChildType:"",operateTypeList:[{label:"等于",value:"="},{label:"不包含",value:"not in"}],componentType:"input",componentProps:{type:"textarea"},usePopup:!0,dataSourceType:0,requestParam:"",sourceType:"query",apiSource:{label:"label",value:"value",fullPath:"",requestType:""},staticSourceList:[]},{fieldName:"sex",fieldType:"string",fieldChildType:"",operateTypeList:[{label:"等于",value:"="},{label:"不包含",value:"not in"}],componentType:"select",dataSourceType:2,apiSource:{fullPath:"http://10.10.46.92:6521/api/person/senior/query",requestType:"get"},staticSourceList:[]},{fieldName:"age",fieldType:"number",fieldChildType:"",operateTypeList:[{label:"大于",value:">"},{label:"小于",value:"<"},{label:"等于",value:"="},{label:"大于等于",value:">="},{label:"小于等于",value:"<="},{label:"不包含",value:"not in"}],componentType:"input",dataSourceType:1,apiSource:{fullPath:"",requestType:""},staticSourceList:[]},{fieldName:"hobby",fieldType:"array",fieldChildType:"",operateTypeList:[{label:"等于",value:"="},{label:"不包含",value:"not in"}],componentType:"select",dataSourceType:2,apiSource:{fullPath:"/path",requestType:"get",requestParam:""},staticSourceList:[]}]}},methods:{handleSeniorQuery:function(e){console.log("seniorQuery",JSON.stringify(e,null,2))}}},u=c,d=n("2877"),p=Object(d["a"])(u,a,o,!1,null,null,null);t["default"]=p.exports},"3c5f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("Search 搜索")]),n("p",{staticClass:"hint"},[e._v(" 表格 "),n("span",{staticClass:"primary"},[e._v("search")]),e._v(" 属性设置为 "),n("span",{staticClass:"primary"},[e._v(" true ")]),e._v("，会显示搜索行 "),n("el-tooltip",{attrs:{effect:"dark",content:"鼠标在表格内时，可用快捷键 ctrl+b 控制搜索行显示/隐藏",placement:"top"}},[n("i",{staticClass:"el-icon el-icon-question"})]),e._v(" ，搜索框默认渲染成 "),n("span",{staticClass:"primary"},[e._v(" input ")]),n("br"),e._v(" 点击按钮 "),n("icon",{attrs:{icon:"clear-search"}}),e._v(" 清空搜索条件 ")],1),e._m(0),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",{ref:"table",attrs:{data:e.data,search:"",border:""},on:{"search-change":e.searchChange},model:{value:e.columns,callback:function(t){e.columns=t},expression:"columns"}})],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1),n("h3",[e._v("对象模式")]),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.objCode}}),e._m(1),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",e._b({on:{"search-change":e.searchChange}},"eff-table",e.tableOptions,!1))],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode1}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode1}})],1)])],1),n("p",[e._v("组件默认UI元素用的是element-ui，但不依赖element-ui，可以通过renderMap自行配置UI元素")]),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.mapCode}}),n("h3",[e._v("render函数模式")]),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.funcCode}}),e._m(2),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",{attrs:{data:e.data1,"max-height":400,search:"",border:""},on:{"search-change":e.searchChange},model:{value:e.columns2,callback:function(t){e.columns2=t},expression:"columns2"}})],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode2}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode2}})],1)])],1)],1)},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("span",{staticClass:"primary"},[e._v("operator")]),e._v(" 属性设置为 "),n("span",{staticClass:"primary"},[e._v(" true ")]),e._v("，打开范围搜索功能 "),n("i",{staticClass:"eff-icon-search",attrs:{title:"范围搜索"}}),n("br")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("通常配置 "),n("span",{staticClass:"primary"},[e._v("config")]),e._v(" 就可以了，特殊情况下需要单独配置 "),n("span",{staticClass:"primary"},[e._v("cellRender")]),e._v(" 及 "),n("span",{staticClass:"primary"},[e._v("search 的 render")]),e._v(" 属性")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("列 "),n("span",{staticClass:"primary"},[e._v("search")]),e._v(" 的 render 属性为函数时，需要自己做双向绑定。")])}],i=n("76a1"),r=n("d369"),s=n("f519"),l='\n  <eff-table\n    v-model="columns"\n    :data="data"\n    search\n    border\n  />\n\n  ',c='\n  <eff-table v-bind="tableOptions" />\n\n  ',u='\n  <eff-table\n    v-model="columns"\n    :data="data"\n    :max-height="400"\n    search\n    border\n  />\n\n  ',d="\n  // column对象\n  \n  {\n    config: { name: 'input' }, // 通用配置，对name指定的元素有内置的处理\n\n\n    search: { // 搜索框配置，会与config的配置进行合并\n      render: {}\n    }\n  }\n  ",p="\n  Vue.use(EffTable, {renderMap: {'input': 'i-input'}})\n  ",h="\n  // column对象\n  \n    search: {\n      render: (h, {row, rowIndex, column, columnIndex, prop}) => {\n        return <your-component vModel={value} on-change={this.change} />\n      }\n    }\n  }\n  ",f="\n  export default {\n    data() {\n      return {\n        columns: [\n          {\n            show: true,\n            prop: 'id',\n            title: 'ID'\n          },\n          {\n            show: true,\n            prop: 'name',\n            title: '名字',\n            search: true\n          },\n          {\n            show: true,\n            prop: 'sex',\n            title: '性别',\n            search: true\n          },\n          {\n            show: true,\n            prop: 'age',\n            title: '年龄',\n            search: {\n              operator: true\n            }\n          },\n          {\n            show: true,\n            prop: 'phone',\n            title: '手机',\n            search: true\n          }\n        ],\n        data: [\n          { id: 1, name: '张三', sex: '男', age: '20', phone: '13715201314' },\n          { id: 2, name: '李四', sex: '女', age: '25', phone: '13715201314' },\n          { id: 3, name: '王五', sex: '男', age: '32', phone: '13715201314' },\n          { id: 4, name: '赵六', sex: '男', age: '18', phone: '13715201314' }\n        ]\n      }\n    }\n  }\n  ",m="\n  export default {\n    data() {\n      return {\n        tableOptions: {\n          maxHeight: 400,\n          search: true,\n          border: true,\n          data: [\n            { id: 1, name: '张三', sex: '1', phone: '13715201314', date: 1622476800000, vaccination: '1' },\n            { id: 2, name: '李四', sex: '2', phone: '13715201314', date: null, vaccination: '2' },\n            { id: 3, name: '王五', sex: '1', phone: '13715201314', date: 1624982400000, vaccination: '' },\n            { id: 4, name: '赵六', sex: '1', phone: '13715201314', date: null, vaccination: '3' }\n          ],\n          columns: [\n            {\n              show: true,\n              prop: 'id',\n              title: 'ID'\n            },\n            {\n              show: true,\n              prop: 'name',\n              title: '名字',\n              config: { name: 'input' },\n              search: true\n            },\n            {\n              show: true,\n              prop: 'sex',\n              title: '性别',\n              config: { name: 'select', options: [{ label: '男', value: '1' }, { label: '女', value: '2' }] },\n              search: true\n            },\n            {\n              show: true,\n              prop: 'phone',\n              title: '手机',\n              config: { name: 'input' },\n              search: true\n            },\n            {\n              show: true,\n              prop: 'date',\n              title: '疫苗预约日期',\n              config: {\n                name: 'date-picker', format: 'yyyy-MM-dd'\n              },\n              search: true\n            },\n            {\n              show: true,\n              prop: 'vaccination',\n              title: '疫苗注射情况',\n              config: { name: 'select'， options: [{ value: '1', label: '还没有打' }, { value: '2', label: '打了一针' }, { value: '3', label: '打完了' }] },\n              search: true\n            }\n          ]\n        },\n      }\n    }\n  }\n  ",v="\n  import { formatDate } from '@/utils'\n  export default {\n    data() {\n      return {\n        sexOptions: [{ label: '男', value: '1' }, { label: '女', value: '2' }],\n        vaccinationOptions: [{ value: '1', label: '还没有打' }, { value: '2', label: '打了一针' }, { value: '3', label: '打完了' }],\n        columns2: [\n          {\n            show: true,\n            prop: 'id',\n            title: 'ID'\n          },\n          {\n            show: true,\n            prop: 'name',\n            title: '名字',\n            search: true\n          },\n          {\n            show: true,\n            prop: 'sex',\n            title: '性别',\n            cellRender: (h, { row, prop }) => {\n              const option = this.sexOptions.find(d => d.value === row[prop])\n              return option ? option.label : ''\n            },\n            search: {\n              render: (h, { row, prop }) => {\n                return (\n                  <el-select\n                    value={row[prop]}\n                    on-change={val => (row[prop] = val)}\n                  >\n                    {\n                      this.sexOptions.map(option => <el-option label={option.label} value={option.value} />)\n                    }\n                  </el-select>\n                )\n              }\n            }\n          },\n          {\n            show: true,\n            prop: 'phone',\n            title: '手机',\n            search: {\n              render: (h, { row, prop }) => {\n                return <el-input value={row[prop]} on-input={val => (row[prop] = val)} />\n              }\n            }\n          },\n          {\n            show: true,\n            prop: 'date',\n            title: '疫苗预约日期',\n            cellRender: (h, { row, prop }) => {\n              return formatDate(row[prop], 'yyyy-MM-dd')\n            },\n            search: {\n              render: (h, { row, prop }) => {\n                return <el-date-picker\n                  value={row[prop]}\n                  on-input={val => (row[prop] = val)}\n                  type='date'\n                />\n              }\n            }\n          },\n          {\n            show: true,\n            prop: 'vaccination',\n            title: '疫苗注射情况',\n            cellRender: (h, { row, prop }) => {\n              const option = this.vaccinationOptions.find(d => d.value === row[prop])\n              return option ? <el-tag>{option.label}</el-tag> : ''\n            },\n            search: {\n              render: (h, { row, prop }) => {\n                return (\n                  <el-select\n                    value={row[prop]}\n                    on-change={val => (row[prop] = val)}\n                  >\n                    {\n                      this.vaccinationOptions.map(option => <el-option label={option.label} value={option.value} />)\n                    }\n                  </el-select>\n                )\n              }\n            }\n          }\n        ],\n      }\n    }\n  }\n\n  ",b={name:"Search",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){var e=this;this.$createElement;return{htmlCode:l,htmlCode1:c,htmlCode2:u,jsCode:f,jsCode1:m,jsCode2:v,objCode:d,funcCode:h,mapCode:p,options:[{value:"选项1",label:"1"},{value:"选项2",label:"2"}],columns:[{type:"selection"},{prop:"id",title:"ID"},{prop:"name",title:"名字",search:!0},{prop:"sex",title:"性别",config:{name:"select",options:[{label:"男",value:"1"},{label:"女",value:"2"}]},search:!0},{prop:"age",title:"年龄",search:{operator:!0}},{prop:"phone",title:"手机",search:!0},{title:"操作",cellRender:function(t,n){var a=n.row;return t("el-button",{attrs:{type:"text"},on:{click:function(){return e.data=e.data.filter((function(e){return e.id!==a.id}))}}},["删除"])}}],data:[{id:1,name:"张三",sex:"1",age:"20",phone:"13715201314"},{id:2,name:"李四",sex:"2",age:"25",phone:"13715201314"},{id:3,name:"王五",sex:"1",age:"32",phone:"13715201314"},{id:4,name:"赵六",sex:"1",age:"18",phone:"13715201314"}],tableOptions:{maxHeight:400,search:!0,searchConfig:{remote:!1},border:!0,data:[{id:1,name:"张三",sex:"1",phone:"13715201314",date:16224768e5,vaccination:"1"},{id:2,name:"李四",sex:"2",phone:"13715201314",date:null,vaccination:"2"},{id:3,name:"王五",sex:"1",phone:"13715201314",date:16249824e5,vaccination:""},{id:4,name:"赵六",sex:"1",phone:"13715201314",date:null,vaccination:"3"}],columns:[{show:!0,prop:"id",title:"ID"},{show:!0,prop:"name",title:"名字",config:{name:"input"},search:!0},{show:!0,prop:"sex",title:"性别",config:{name:"select",options:[{label:"男",value:"1"},{label:"女",value:"2"}]},search:!0},{show:!0,prop:"phone",title:"手机",config:{name:"input"},search:!0},{show:!0,prop:"date",title:"疫苗预约日期",config:{name:"date-picker",format:"yyyy-MM-dd"},search:!0},{show:!0,prop:"vaccination",title:"疫苗注射情况",config:{name:"select",options:[{value:"1",label:"还没有打"},{value:"2",label:"打了一针"},{value:"3",label:"打完了"}]},search:!0}]},sexOptions:[{label:"男",value:"1"},{label:"女",value:"2"}],vaccinationOptions:[{value:"1",label:"还没有打"},{value:"2",label:"打了一针"},{value:"3",label:"打完了"}],columns2:[{show:!0,prop:"id",title:"ID"},{show:!0,prop:"name",title:"名字",search:!0},{show:!0,prop:"sex",title:"性别",cellRender:function(t,n){var a=n.row,o=n.prop,i=e.sexOptions.find((function(e){return e.value===a[o]}));return i?i.label:""},search:{render:function(t,n){var a=n.row,o=n.prop;return t("el-select",{attrs:{value:a[o]},on:{change:function(e){return a[o]=e}}},[e.sexOptions.map((function(e){return t("el-option",{attrs:{label:e.label,value:e.value}})}))])}}},{show:!0,prop:"phone",title:"手机",search:{render:function(e,t){var n=t.row,a=t.prop;return e("el-input",{attrs:{value:n[a]},on:{input:function(e){return n[a]=e}}})}}},{show:!0,prop:"date",title:"疫苗预约日期",cellRender:function(e,t){var n=t.row,a=t.prop;return Object(s["a"])(n[a],"yyyy-MM-dd")},search:{render:function(e,t){var n=t.row,a=t.prop;return e("el-date-picker",{attrs:{value:n[a],type:"date"},on:{input:function(e){return n[a]=e}}})}}},{show:!0,prop:"vaccination",title:"疫苗注射情况",cellRender:function(t,n){var a=n.row,o=n.prop,i=e.vaccinationOptions.find((function(e){return e.value===a[o]}));return i?t("el-tag",[i.label]):""},search:{render:function(t,n){var a=n.row,o=n.prop;return t("el-select",{attrs:{value:a[o]},on:{change:function(e){return a[o]=e}}},[e.vaccinationOptions.map((function(e){return t("el-option",{attrs:{label:e.label,value:e.value}})}))])}}}],data1:[{id:1,name:"张三",sex:"1",phone:"13715201314",date:16224768e5,vaccination:"1"},{id:2,name:"李四",sex:"2",phone:"13715201314",date:null,vaccination:"2"},{id:3,name:"王五",sex:"1",phone:"13715201314",date:16249824e5,vaccination:""},{id:4,name:"赵六",sex:"1",phone:"13715201314",date:null,vaccination:"3"}]}},methods:{searchChange:function(e){console.log("val",JSON.stringify(e,null,2))}}},g=b,y=n("2877"),w=Object(y["a"])(g,a,o,!1,null,null,null);t["default"]=w.exports},4041:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("Document",{attrs:{title:"transfer",form:e.documentForm}},[n("h2",[e._v("Transfer 穿梭框 "),n("router-link",{staticClass:"page-router",attrs:{to:"/Transfer"}},[e._v("查看示例")])],1)])],1)},o=[],i=n("1dfc"),r={name:"TransferApi",components:{Document:i["a"]},data:function(){return{documentForm:{props:[{attribute:"value / v-model",explain:"绑定值",type:"array",choosable:"",default:"[]"},{attribute:"data",explain:"Transfer 的数据源",type:"array",choosable:"",default:"[]",code:"\n  // 字段名默认如下，可以用字段别名修改默认字段名\n  [\n    {\n      key: '',\n      label: '',\n      disabled: false,\n      children: []\n    }\n  ]\n"},{attribute:"titles",explain:"自定义列表标题",type:"array",choosable:"",default:"['from', 'to']"},{attribute:"button-texts",explain:"自定义按钮文案",type:"array",choosable:"",default:"[]"},{attribute:"props",explain:"数据源的字段别名",type:"object",choosable:"",default:"{}",code:"\n  {\n    key: 'key',\n    label: 'label',\n    disabled: 'disabled', // 禁用字段名\n    children: 'children' // 子集字段名\n  }\n"},{attribute:"lazy",explain:"是否使用懒加载",type:"boolean",choosable:"",default:"false"},{attribute:"load-method",explain:"懒加载方法，使用懒加载时必须传入该函数",type:"function",choosable:"",default:""},{attribute:"default-checked-keys",explain:"默认勾选的 key 集合",type:"array",choosable:"",default:"[]"},{attribute:"default-expanded-keys",explain:"默认展开的 key 集合",type:"array",choosable:"",default:"[]"}],slots:[{attribute:"leftFooter",explain:"左侧列表底部的内容"},{attribute:"rightFooter",explain:"右侧列表底部的内容"}],events:[{attribute:"change",explain:"右侧列表元素变化时触发",default:"{ rightKeys, dir, changeKeys }",code:"\n  {\n    rightKeys: '', // array 右侧面板存在的节点key集合\n    dir: '', // string 穿梭的方向 left/right\n    changeKeys: '' // array 变化节点的key集合\n  }\n  "},{attribute:"left-check-change",explain:"左侧列表元素选中 / 取消选中时触发",default:"{ checkedKeys, changeKeys }",code:"\n  {\n    checkedKeys: '', // array 左侧列表选中的节点key集合\n    changeKeys: '' // array 变化节点的key集合\n  }\n  "},{attribute:"right-check-change",explain:"右侧列表元素选中 / 取消选中时触发",default:"{ checkedKeys, changeKeys }",code:"\n  {\n    checkedKeys: '', // array 右侧列表选中的节点key集合\n    changeKeys: '' // array 变化节点的key集合\n  }\n  "},{attribute:"lazy-data",explain:"懒加载元素加载完成后触发",default:"{ panel, id, data }",code:"\n  {\n    panel: '', // left/right 加载节点的面板\n    id: '', // 加载节点的id\n    data: '' // 加载的数据\n  }\n  "}]}}}},s=r,l=n("2877"),c=Object(l["a"])(s,a,o,!1,null,null,null);t["default"]=c.exports},"44ab":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("Transfer 穿梭框 "),n("router-link",{staticClass:"page-router",attrs:{to:"/TransferApi"}},[e._v("查看api")])],1),e._m(0),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-transfer",{attrs:{data:e.data,"default-checked-keys":[2,8],"default-expanded-keys":[1,2,7,8],width:"600px"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1),n("h3",[e._v("懒加载")]),e._m(1),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-transfer",{attrs:{data:e.data1,lazy:"","load-method":e.loadMethod,titles:["源列表","目标列表"],"button-texts":["到目标列表","到源列表"],width:"100%"},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode1}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode1}})],1)])],1)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"hint"},[e._v(" 支持"),n("span",{staticClass:"primary"},[e._v(" 树形 ")]),e._v("结构的穿梭框组件"),n("br"),e._v(" 使用了"),n("span",{staticClass:"primary"},[e._v(" 虚拟滚动 ")]),e._v("优化组件性能 ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v(" 配置 "),n("span",{staticClass:"primary"},[e._v(" lazy ")]),e._v("为"),n("span",{staticClass:"primary"},[e._v(" true ")]),e._v("及"),n("span",{staticClass:"primary"},[e._v(" loadMethod ")]),e._v(" 加载方法来开启树形懒加载 ")])}],i=n("76a1"),r=n("d369"),s='\n  <eff-transfer\n    v-model="value"\n    :data="data"\n    :default-checked-keys="[2, 8]"\n    :default-expanded-keys="[ 1,2, 7,8]"\n    width="600px"\n  />\n  ',l='\n  <eff-transfer\n    v-model="value1"\n    :data="data1"\n    lazy\n    :load-method="loadMethod"\n    :titles="[\'源列表\', \'目标列表\']"\n    :button-texts="[\'到目标列表\', \'到源列表\']"\n    width="100%"\n  />\n  ',c="\n  export default {\n    data() {\n      const generateData = _ => {\n        const data = []\n        let num = 0\n        for (let i = 1; i <= 20; i++) {\n          num += 1\n          const children = []\n          const obj = {\n            key: num,\n            label: '选项' + num,\n            disabled: i % 4 === 0,\n            children\n          }\n          for (let j = 0; j <= 1; j++) {\n            num += 1\n            children.push({\n              key: num,\n              label: '选项' + num,\n              disabled: i % 2 === 0,\n              children: [{ key: num + 10000, label: num + 100 + '' }]\n            })\n          }\n          data.push(obj)\n        }\n        return data\n      }\n      return {\n        value: [1],\n        data: generateData()\n      }\n    }\n  }\n  ",u="\n  export default {\n    data() {\n      const generateData1 = _ => {\n        const data = []\n        let num = 0\n        for (let i = 1; i <= 20; i++) {\n          num += 1\n          const obj = {\n            key: num,\n            label: '选项' + num\n          }\n          data.push(obj)\n        }\n        return data\n      }\n      return {\n        value: [1],\n        data1: generateData1()\n      }\n    },\n    methods: {\n      loadMethod({ row, rowIndex }) {\n        return new Promise(resolve => {\n          setTimeout(() => {\n            const childs = [\n              { key: row.key + 1000, label: row.label + 'Test1' },\n              { key: row.key + 1500, label: row.label + 'Test2' }\n            ]\n            resolve(childs)\n          }, 1000)\n        })\n      }\n    }\n  }\n  ",d={name:"Transfer",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){var e=function(e){for(var t=[],n=0,a=1;a<=20;a++){n+=1;for(var o=[],i={key:n,label:"选项 ".concat(n),disabled:a%4===0,children:o},r=0;r<=1;r++)n+=1,o.push({key:n,label:"选项 ".concat(n),disabled:a%2===0,children:[{key:n+1e4,label:n+100+""}]});t.push(i)}return t},t=function(e){for(var t=[],n=0,a=1;a<=20;a++){n+=1;var o={key:n,label:"选项 ".concat(n)};t.push(o)}return t};return{htmlCode:s,htmlCode1:l,jsCode:c,jsCode1:u,value:[1],value1:[1],data:e(),data1:t()}},methods:{loadMethod:function(e){var t=e.row,n=(~~(Math.random()*(1<<30))).toString(36);return new Promise((function(e){setTimeout((function(){var a=[{key:t.key+n+"a",label:t.label+n+"a"},{key:t.key+n+"b",label:t.label+n+"b"}];e(a)}),1e3)}))}}},p=d,h=n("2877"),f=Object(h["a"])(p,a,o,!1,null,null,null);t["default"]=f.exports},"45c1":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("TableForm 搜索表单")]),e._m(0),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",e._b({},"eff-table",e.tableOptions,!1))],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1),n("h3",[e._v("保存搜索模板")]),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCodeTemplate}}),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",e._b({ref:"table"},"eff-table",e.tableOptions1,!1))],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode1}})],1)])],1),n("h3",[e._v("使用 form 插槽")]),e._m(1),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",e._b({scopedSlots:e._u([{key:"form",fn:function(t){var a=t.data;return[n("v-form-item",{attrs:{title:"名字"}},[n("el-input",{directives:[{name:"auto-width",rawName:"v-auto-width"}],attrs:{placeholder:"名字"},model:{value:a.name,callback:function(t){e.$set(a,"name",t)},expression:"data.name"}})],1),n("v-form-item",{attrs:{title:"年龄"}},[n("el-input",{directives:[{name:"auto-width",rawName:"v-auto-width"}],attrs:{placeholder:"年龄"},model:{value:a.age,callback:function(t){e.$set(a,"age",t)},expression:"data.age"}})],1),n("div",{staticStyle:{display:"flex"}},[n("v-form-item",[n("el-select",{directives:[{name:"auto-width",rawName:"v-auto-width"}],attrs:{multiple:"","collapse-tags":"",placeholder:"性别"},model:{value:a.sex,callback:function(t){e.$set(a,"sex",t)},expression:"data.sex"}},e._l(e.sexOptions,(function(e){return n("el-option",{key:e.sexValue,attrs:{value:e.sexValue,label:e.sexName}})})),1)],1),n("v-form-item",{attrs:{title:"爱好","title-border":""}},[n("el-select",{directives:[{name:"auto-width",rawName:"v-auto-width"}],attrs:{multiple:"","collapse-tags":"",placeholder:"爱好"},model:{value:a.hobby,callback:function(t){e.$set(a,"hobby",t)},expression:"data.hobby"}},e._l(e.hobbyOptions,(function(e){return n("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})})),1)],1)],1)]}}])},"eff-table",e.tableOptions,!1))],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode1}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1),n("h3",[e._v("使用 item 插槽")]),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",e._b({scopedSlots:e._u([{key:"item_age",fn:function(t){var a=t.data;return[n("el-input",{directives:[{name:"auto-width",rawName:"v-auto-width"}],attrs:{placeholder:"年龄"},model:{value:a.age,callback:function(t){e.$set(a,"age",t)},expression:"data.age"}})]}},{key:"item_sex",fn:function(t){var a=t.data;return[n("el-select",{directives:[{name:"auto-width",rawName:"v-auto-width"}],attrs:{multiple:"","collapse-tags":"",placeholder:"性别"},model:{value:a.sex,callback:function(t){e.$set(a,"sex",t)},expression:"data.sex"}},e._l(e.sexOptions,(function(e){return n("el-option",{key:e.sexValue,attrs:{value:e.sexValue,label:e.sexName}})})),1)]}},{key:"item_hobby",fn:function(t){var a=t.data;return[n("el-select",{directives:[{name:"auto-width",rawName:"v-auto-width"}],attrs:{multiple:"","collapse-tags":"",placeholder:"爱好"},model:{value:a.hobby,callback:function(t){e.$set(a,"hobby",t)},expression:"data.hobby"}},e._l(e.hobbyOptions,(function(e){return n("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})})),1)]}}])},"eff-table",e.tableOptions,!1))],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode2}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1)],1)},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"hint"},[e._v(" 通过设置 "),n("span",{staticClass:"primary"},[e._v("form 插槽")]),e._v(" 或 "),n("span",{staticClass:"primary"},[e._v("item 插槽")]),e._v(" 或 "),n("span",{staticClass:"primary"},[e._v('formConfig: { items }" ')]),e._v(" 渲染表单"),n("br"),e._v(" 设置表格高度 "),n("span",{staticClass:"primary"},[e._v("height: '100%'")]),e._v(" 可以使表格自动撑满页面 ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("span",{staticClass:"primary"},[e._v("form")]),e._v(" 插槽 > "),n("span",{staticClass:"primary"},[e._v("item")]),e._v(" 插槽 > "),n("span",{staticClass:"primary"},[e._v("itemRender")]),e._v(" 配置")])}],i=n("76a1"),r=n("d369"),s='\n  <eff-table v-bind="tableOptions" />\n  ',l='\n  <eff-table v-bind="tableOptions">\n    <template #form="{data}">\n      <v-form-item title="名字">\n        <el-input v-model="data.name" v-auto-width placeholder="名字" />\n      </v-form-item>\n      <v-form-item title="年龄">\n        <el-input v-model="data.age" v-auto-width placeholder="年龄" />\n      </v-form-item>\n      <div style="display: flex;">\n        <v-form-item>\n          <el-select v-model="data.sex" v-auto-width multiple collapse-tags placeholder="性别">\n            <el-option v-for="d in sexOptions" :key="d.sexValue" :value="d.sexValue" :label="d.sexName" />\n          </el-select>\n        </v-form-item>\n        <v-form-item title="爱好" title-border>\n          <el-select v-model="data.hobby" v-auto-width multiple collapse-tags placeholder="爱好">\n            <el-option v-for="d in hobbyOptions" :key="d.value" :value="d.value" :label="d.label" />\n          </el-select>\n        </v-form-item>\n      </div>\n    </template>\n  </eff-table>\n  ',c='\n  <eff-table v-bind="tableOptions1">\n    \x3c!-- 可以部分使用item插槽 --\x3e\n    \x3c!-- <template #item_name="{data}">\n      <el-input v-model="data.name" v-auto-width placeholder="名字" />\n    </template> --\x3e\n    <template #item_age="{data}">\n      <el-input v-model="data.age" v-auto-width placeholder="年龄" />\n    </template>\n    <template #item_sex="{data}">\n      <el-select v-model="data.sex" v-auto-width multiple collapse-tags placeholder="性别">\n        <el-option v-for="d in sexOptions" :key="d.sexValue" :value="d.sexValue" :label="d.sexName" />\n      </el-select>\n    </template>\n    <template #item_hobby="{data}">\n      <el-select v-model="data.hobby" v-auto-width multiple collapse-tags placeholder="爱好">\n        <el-option v-for="d in hobbyOptions" :key="d.value" :value="d.value" :label="d.label" />\n      </el-select>\n    </template>\n  </eff-table>\n  ',u="\n  // main.js\n  import 'EffTable' from 'eff-table'\n  import api from './api'\n  Vue.use(EffTable)\n  // 全局配置表单接口\n  EffTable.Table.props.formRequest.default = () => ({\n    // 函数在eff-table内调用，这里返回配置好参数的api\n    query: ({ formRequestParams }) => api.query(formRequestParams),\n    add: ({ name, value, formRequestParams }) => api.add(Object.assign({ name, value }, formRequestParams)),\n    delete: ({ row, formRequestParams }) => api.deleted({ type: formRequestParams.type, id: row.id })\n  })\n\n  // js\n  tableOptions: {\n    formConfig: {\n      isSave: true,\n      formRequestParams: { type: 1 },\n      ...\n    }\n  }\n  ",d="\n  export default {\n    data() {\n      return {\n        list: [],\n        sexOptions: [{ sexName: '男', sexValue: '0' }, { sexName: '女', sexValue: '1' }],\n        hobbyOptions: [{ label: '游泳', value: '0' }, { label: '乒乓球', value: '1' }, { label: '到公园跑步', value: '2' }],\n        tableOptions: {\n          border: true,\n          proxyConfig: {\n            request: {\n              query: ({ page, sorts, filters, form }) => {\n                // 模拟数据\n                return [\n                  { id: 5, name: '张三', age: '22', sex: '0', sexName: '男', hobby: '0', hobbyName: '游泳' },\n                  { id: 2, name: '李四', age: '18', sex: '1', sexName: '女', hobby: '1', hobbyName: '乒乓球' },\n                  { id: 3, name: '王五', age: '24', sex: '0', sexName: '男', hobby: '2', hobbyName: '到公园跑步' },\n                  { id: 4, name: '赵六', age: '28', sex: '0', sexName: '男', hobby: '0', hobbyName: '游泳' }\n                ].filter(da => {\n                  const list = []\n                  for (const prop in form) {\n                    if (prop) {\n                      const val = form[prop]\n                      const values = val ? (Array.isArray(val) ? val : [val]) : []\n                      list.push({ prop, values })\n                    }\n                  }\n                  return list.every(item => {\n                    const { prop, values } = item\n                    const rowValue = da[prop]\n                    if (values.length) {\n                      return values.some(d => rowValue.indexOf(d) > -1)\n                    }\n                    return true\n                  })\n                })\n              }\n            }\n          },\n          formConfig: {\n            defaultValue: {\n              name: '',\n              age: '',\n              sex: [],\n              hobby: []\n            },\n            isSave: true,\n            formRequestParams: { type: 1 },\n            items: [\n              { title: '名字', prop: 'name', itemRender: { name: 'input', directives: [{ name: 'auto-width' }] }},\n              { title: '年龄', prop: 'age', itemRender: { name: 'input', directives: [{ name: 'auto-width' }], \n                props: { controlsPosition: 'right' }}},\n              { title: '性别', prop: 'sex', showTitle: false, options: () => this.sexOptions, label: 'sexName', value: 'sexValue', \n                itemRender: { name: 'select', directives: [{ name: 'auto-width' }], props: { multiple: true, collapseTags: true }}},\n              { title: '爱好', prop: 'hobby', titleBorder: true, options: () => this.hobbyOptions, \n                itemRender: { name: 'select', directives: [{ name: 'auto-width' }], props: { multiple: true, collapseTags: true }}}\n            ]\n          },\n          columns: [\n            { type: 'selection' },\n            { prop: 'name', title: '名字' },\n            { prop: 'age', title: '年龄' },\n            { prop: 'sexName', title: '性别' },\n            { prop: 'hobbyName', title: '爱好' },\n            { title: '操作', cellRender: (h, { row }) => {\n              return <el-button type='text'>删除</el-button>\n            } }\n          ]\n        }\n      }\n    }\n  }\n  ",p="\n  export default {\n    data() {\n      return {\n        tableOptions: {\n          border: true,\n          proxyConfig: {\n            request: {\n              query: ({ page, sorts, filters, form }) => {\n                // 模拟数据\n                return [\n                  { id: 5, name: '张三', age: '22', sex: '0', sexName: '男', hobby: '0', hobbyName: '游泳' },\n                  { id: 2, name: '李四', age: '18', sex: '1', sexName: '女', hobby: '1', hobbyName: '乒乓球' },\n                  { id: 3, name: '王五', age: '24', sex: '0', sexName: '男', hobby: '2', hobbyName: '到公园跑步' },\n                  { id: 4, name: '赵六', age: '28', sex: '0', sexName: '男', hobby: '0', hobbyName: '游泳' }\n                ].filter(da => {\n                  const list = []\n                  for (const prop in form) {\n                    if (prop) {\n                      const val = form[prop]\n                      const values = val ? (Array.isArray(val) ? val : [val]) : []\n                      list.push({ prop, values })\n                    }\n                  }\n                  return list.every(item => {\n                    const { prop, values } = item\n                    const rowValue = da[prop]\n                    if (values.length) {\n                      return values.some(d => rowValue.indexOf(d) > -1)\n                    }\n                    return true\n                  })\n                })\n              }\n            }\n          },\n          // formRequest: { // object 使用保存模板时的接口配置，可以在注册eff-table组件时统一设置\n          //   // 函数在eff-table内调用，这里返回配置好参数的api\n          //   query: ({ formRequestParams }) => api.query(formRequestParams),\n          //   add: ({ name, value, formRequestParams }) => api.add(Object.assign({ name, value }, formRequestParams)),\n          //   delete: ({ row, formRequestParams }) => api.deleted({ type: formRequestParams.type, id: row.id })\n          // },\n          formConfig: {\n            defaultValue: {\n              name: '',\n              age: '',\n              sex: ['0', '1'],\n              filter_sex: ['0'],\n              hobby: ['0', '1', '2']\n            },\n            isSave: true,\n            formRequestParams: { type: 1 },\n            items: [\n              { title: '名字', prop: 'name', itemRender: { name: 'input', directives: [{ name: 'auto-width' }] }},\n              { title: '年龄', prop: 'age', itemRender: { name: 'input', directives: [{ name: 'auto-width' }],\n                props: { controlsPosition: 'right' }}},\n              { title: '性别', prop: 'sex', showTitle: false, options: () => this.sexOptions, label: 'sexName', value: 'sexValue',\n                itemRender: { name: 'select', directives: [{ name: 'auto-width' }], props: { multiple: true, collapseTags: true }}},\n              { title: '爱好', prop: 'hobby', titleBorder: true, options: () => this.hobbyOptions,\n                itemRender: { name: 'select', directives: [{ name: 'auto-width' }], props: { multiple: true, collapseTags: true }}}\n            ]\n          },\n          columns: [\n            { type: 'selection' },\n            { prop: 'name', title: '名字' },\n            { prop: 'age', title: '年龄' },\n            { prop: 'sexName', title: '性别' },\n            { prop: 'hobbyName', title: '爱好' },\n            { title: '操作', cellRender: (h, { row }) => {\n              return <el-button type='text'>删除</el-button>\n            } }\n          ]\n        }\n      }\n    }\n  }\n  ",h={name:"TableForm",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){var e=this;this.$createElement;return{htmlCode:s,htmlCode1:l,htmlCode2:c,jsCode:d,jsCode1:p,jsCodeTemplate:u,list:[],sexOptions:[{sexName:"男",sexValue:"0"},{sexName:"女",sexValue:"1"}],hobbyOptions:[{label:"游泳",value:"0"},{label:"乒乓球",value:"1"},{label:"到公园跑步",value:"2"}],tableOptions:{border:!0,footerActionConfig:{showPager:!0,showBorder:!0,pageConfig:{pageSize:20,pageSizes:[20,50,100,200]}},proxyConfig:{request:{query:function(e){e.page,e.sorts,e.filters;var t=e.form;return new Promise((function(e){setTimeout((function(){var n=[{id:5,name:"张三",age:"22",sex:"0",sexName:"男",hobby:"0",hobbyName:"游泳"},{id:2,name:"李四",age:"18",sex:"1",sexName:"女",hobby:"1",hobbyName:"乒乓球"},{id:3,name:"王五",age:"24",sex:"0",sexName:"男",hobby:"2",hobbyName:"到公园跑步"},{id:4,name:"赵六",age:"28",sex:"0",sexName:"男",hobby:"0",hobbyName:"游泳"}].filter((function(e){var n=[];for(var a in t)if(a){var o=t[a],i=o?Array.isArray(o)?o:[o]:[];n.push({prop:a,values:i})}return n.every((function(t){var n=t.prop,a=t.values,o=e[n];return!a.length||a.some((function(e){return o.indexOf(e)>-1}))}))}));e({list:n,pageNum:1,pageSize:10,total:4})}),0)}))}}},formConfig:{defaultValue:{name:"",age:"",sex:[],hobby:[]},items:[{title:"名字",prop:"name",itemRender:{name:"input",directives:[{name:"auto-width"}]}},{title:"年龄",prop:"age",itemRender:{name:"input",directives:[{name:"auto-width"}],props:{controlsPosition:"right"}}},{title:"性别",prop:"sex",showTitle:!1,options:function(){return e.sexOptions},label:"sexName",value:"sexValue",itemRender:{name:"select",directives:[{name:"auto-width"}],props:{multiple:!0,collapseTags:!0}}},{title:"爱好",prop:"hobby",titleBorder:!0,options:function(){return e.hobbyOptions},itemRender:{name:"select",directives:[{name:"auto-width"}],props:{multiple:!0,collapseTags:!0}}}]},columns:[{type:"selection"},{prop:"name",title:"名字"},{prop:"age",title:"年龄"},{prop:"sexName",title:"性别"},{prop:"hobbyName",title:"爱好"},{title:"操作",cellRender:function(e,t){t.row;return e("el-button",{attrs:{type:"text"}},["删除"])}}]},tableOptions1:{border:!0,proxyConfig:{request:{query:function(e){e.page,e.sorts,e.filters;var t=e.form;return[{id:5,name:"张三",age:"22",sex:"0",sexName:"男",hobby:"0",hobbyName:"游泳"},{id:2,name:"李四",age:"18",sex:"1",sexName:"女",hobby:"1",hobbyName:"乒乓球"},{id:3,name:"王五",age:"24",sex:"0",sexName:"男",hobby:"2",hobbyName:"到公园跑步"},{id:4,name:"赵六",age:"28",sex:"0",sexName:"男",hobby:"0",hobbyName:"游泳"}].filter((function(e){var n=[];for(var a in t)if(a){var o=t[a],i=o?Array.isArray(o)?o:[o]:[];n.push({prop:a,values:i})}return n.every((function(t){var n=t.prop,a=t.values,o=e[n];return!a.length||a.some((function(e){return o.indexOf(e)>-1}))}))}))}}},formConfig:{defaultValue:{name:"",age:"",sex:["0","1"],filter_sex:["0"],hobby:["0","1","2"]},isSave:!0,formRequestParams:{type:1},items:[{title:"名字",prop:"name",itemRender:{name:"input",directives:[{name:"auto-width"}]}},{title:"年龄",prop:"age",itemRender:{name:"input",directives:[{name:"auto-width"}],props:{controlsPosition:"right"}}},{title:"性别",prop:"sex",showTitle:!1,options:function(){return e.sexOptions},label:"sexName",value:"sexValue",itemRender:{name:"select",directives:[{name:"auto-width"}],props:{multiple:!0,collapseTags:!0}}},{title:"爱好",prop:"hobby",titleBorder:!0,options:function(){return e.hobbyOptions},itemRender:{name:"select",directives:[{name:"auto-width"}],props:{multiple:!0,collapseTags:!0}}}]},columns:[{type:"selection"},{prop:"name",title:"名字"},{prop:"age",title:"年龄"},{prop:"sexName",title:"性别"},{prop:"hobbyName",title:"爱好"},{title:"操作",cellRender:function(e,t){t.row;return e("el-button",{attrs:{type:"text"}},["删除"])}}]}}}},f=h,m=n("2877"),v=Object(m["a"])(f,a,o,!1,null,null,null);t["default"]=v.exports},"4e87":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("Document",{attrs:{title:"form",form:e.documentForm}},[n("h2",[e._v("From 表单 "),n("router-link",{staticClass:"page-router",attrs:{to:"/FormBase"}},[e._v("查看示例")])],1)])],1)},o=[],i=n("1dfc"),r={name:"FormApi",components:{Document:i["a"]},data:function(){return{documentForm:{global:[{attribute:"focus-to-select",explain:"全局聚焦时是否全选",type:"boolean",choosable:"",default:"false",code:""}],props:[{attribute:"data",explain:"表单的数据源",type:"object",choosable:"",default:"{}"},{attribute:"columns",explain:"使用配置模式时的字段集合",type:"array",choosable:"",default:"[]",code:"\n  [\n    {\n      title: 'title', // string 标签文本\n\n      titleWidth: '80px', // string 标签的宽度，会覆盖 form 上的定义的titleWidth\n\n      span: 24, // number item所占的栅格比例\n\n      prop: '', // string 字段路径，支持嵌套对象，如 person.name、persons.0.name\n\n      itemRender: { // object/function\n        name: 'input', // 指定ui元素\n        options: [], // select组件需要\n        format: ({row, column, columnIndex, prop}) => {}, // 格式化单元格内容\n      }\n\n      rules: [ // 校验规则\n        {\n          required: true, \n          message: '', //可选，默认为 不能为空 \n          trigger: '' // 可选，默认为 blur，对于select组件必须声明为 change\n        }, \n        {\n          min: number, // 最小长度\n          message: '', //可选，默认为 长度不能小于 min\n        }, \n        {\n          max: number, // 最大长度 \n          message: '', //可选，默认为 长度不能大于 max\n        }, \n        // min,max同时存在时 message 默认为 长度必须在 min 到 max \n        {\n          pattern: reg, // 正则\n          message: '', //可选，默认为 校验不通过\n        }, \n        {\n          type: 'email', // 邮箱\n          message: '', //可选，默认为 请输入正确的邮箱\n        }, \n        {\n          type: 'phone', // 手机号\n          message: '', //可选，默认为 请输入正确的手机号\n        }, \n        {\n          validator: Function // 自定义校验，支持异步\n        }\n      ]\n    }\n  ]\n\n"},{attribute:"title-width",explain:"表单标签的宽度",type:"string",choosable:"",default:"80px"},{attribute:"title-align",explain:"表单标签的对齐方式",type:"string",choosable:"left/right/top",default:"right"},{attribute:"line-height",explain:"表单标签及content的行高",type:"string",choosable:"",default:"32px"},{attribute:"item-gutter",explain:"表单元素的间距",type:"string",choosable:"",default:"0"},{attribute:"rowledge",explain:"表单元素的行距",type:"string",choosable:"",default:"24px"},{attribute:"response",explain:"表单是否支持响应式，只在手机端生效",type:"boolean",choosable:"",default:"true"},{attribute:"focus-stop",explain:"是否停止聚焦处理，为true时不会抛出事件",type:"boolean",choosable:"",default:"false"},{attribute:"focus-to-select",explain:"聚焦是否全选文本",type:"boolean",choosable:"",default:"false"},{attribute:"focus-pause",explain:"是否暂停聚焦处理，为true时会抛出focus-prev/focus-next事件",type:"boolean",choosable:"",default:"false"},{attribute:"focus-text-all-selected",explain:"是否在聚焦文本时全选",type:"boolean",choosable:"",default:"true"},{attribute:"focus-options",explain:"聚焦模式配置",type:"object",choosable:"",default:"false",code:"\n  {\n    prevKeys: 'shift+enter', // string 聚焦上一个节点快捷键设置\n\n    nextKeys: 'enter', // string 聚焦下一个节点快捷键设置\n\n    skips: ['prop'], // string 需要跳过聚焦字段的prop集合\n\n    loop: true // boolean 是否开启聚焦循环\n  }\n\n"}],methods:[{attribute:"validate",explain:"对整个表单进行校验的方法",default:"",code:"\n  // 默认\n  table.validate().then(res => {\n    this.$message.success('校验通过!')\n  }).catch(data => {\n    this.$message.error('校验不通过!')\n  })\n"},{attribute:"validateField",explain:"对单元格进行校验的方法",default:"prop, rule, row"},{attribute:"clearValidate",explain:"移除表单项的校验结果",default:""},{attribute:"resetFields",explain:"重置表单，清除校验及状态",default:""},{attribute:"getFormData",explain:"获取表单数据的方法",default:""},{attribute:"focus",explain:"使 prop 对应节点聚焦，不传参数则聚焦第一个可聚焦节点节点",default:"prop"},{attribute:"blur",explain:"使 prop 对应节点失焦",default:"prop"},{attribute:"select",explain:"使 prop 对应节点选中",default:"prop"}],events:[{attribute:"validate",explain:"任一表单项被校验后触发",default:"[]",code:"\n  [\n    {\n      prop: '', // 字段名\n      message: '', // 校验不通过的信息\n      row: '', // 源数据\n      column: '', // 当前节点配置\n    }\n  ]\n"},{attribute:"focus",explain:"节点聚焦时触发",default:"prop"},{attribute:"blur",explain:"节点失焦时触发",default:"prop"},{attribute:"focus-prev",explain:"聚焦上一个节点时触发",default:"prop"},{attribute:"focus-next",explain:"聚焦下一个节点时触发",default:"prop"}]}}}},s=r,l=n("2877"),c=Object(l["a"])(s,a,o,!1,null,null,null);t["default"]=c.exports},"505a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("Form 高级表单 "),n("router-link",{staticClass:"page-router",attrs:{to:"/FormApi"}},[e._v("查看api")])],1),e._m(0),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("p",[n("el-button",{attrs:{type:"primary"},on:{click:e.validate}},[e._v("校 验")]),n("el-button",{attrs:{type:"primary"},on:{click:e.clearValidate}},[e._v("清除校验")]),n("el-button",{attrs:{type:"primary"},on:{click:e.resetFields}},[e._v("重置")])],1),n("v-form",e._b({ref:"form"},"v-form",e.formOptions,!1))],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"hint"},[n("span",{staticClass:"primary"},[e._v("formOptions")]),e._v(" 配置整个表单"),n("br")])}],i=n("76a1"),r=n("d369"),s="\n  export default {\n    data() {\n      return {\n        formOptions: {\n          items: [\n            {\n              title: '名字',\n              prop: 'name',\n              span: 8,\n              itemRender: { name: 'input' },\n              rules: [\n                { required: true },\n                { min: 3 }\n              ]\n            },\n            {\n              title: '性别',\n              prop: 'sex',\n              span: 8,\n              itemRender: {\n                name: 'select',\n                options: [{ value: '1', label: '男' }, { value: '2', label: '女' }]\n              },\n              rules: [\n                { required: true, trigger: 'change' }\n              ]\n            },\n            {\n              title: '年龄',\n              prop: 'age',\n              span: 8,\n              itemRender: { name: 'input' },\n              titlePrefix: { message: '帮助信息', icon: 'question' },\n              rules: [\n                { min: 1, max: 3 }\n              ]\n            },\n\n            {\n              title: '身高',\n              prop: 'height',\n              span: 7,\n              itemRender: { name: 'input' },\n              rules: [\n                { max: 3 }\n              ]\n            },\n            { prop: 'heightUnit',\n              span: 5,\n              itemRender: { name: 'select', options: [{ value: '1', label: 'cm' }, { value: '2', label: 'm' }] },\n              rules: [\n                { required: true, trigger: 'change' }\n              ]\n            },\n            {\n              title: '体重',\n              prop: 'weight',\n              span: 7,\n              itemRender: { name: 'input' },\n              rules: [\n                { required: true }\n              ]\n            },\n            { prop: 'weightUnit',\n              span: 5,\n              itemRender: { name: 'select', options: [{ value: '1', label: 'kg' }, { value: '2', label: 'g' }] },\n              rules: [\n                { required: true, trigger: 'change' }\n              ]\n            },\n\n            {\n              title: '爱好',\n              prop: 'hobby1',\n              span: 10,\n              itemRender: { name: 'input' },\n              rules: [\n                { required: true }\n              ]\n            },\n            {\n              prop: 'hobby2',\n              span: 7,\n              itemRender: { name: 'input' },\n              rules: [\n                { required: true }\n              ]\n            },\n            {\n              prop: 'hobby3',\n              span: 7,\n              itemRender: { name: 'input' },\n              rules: [\n                { required: true }\n              ]\n            }\n          ]\n        }\n      }\n    },\n    methods: {\n      validate() {\n        this.$refs.form.validate().catch(e => console.log(e))\n      },\n      clearValidate() {\n        this.$refs.form.clearValidate()\n      },\n      resetFields() {\n        this.$refs.form.resetFields()\n      }\n    }\n  }\n  ",l='\n  <p>\n    <el-button type="primary" @click="validate">校 验</el-button>\n    <el-button type="primary" @click="clearValidate">清除校验</el-button>\n    <el-button type="primary" @click="resetFields">重置</el-button>\n  </p>\n  <v-form ref="form" v-bind="formOptions" />\n  ',c={name:"Form",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){return{value:2,jsCode:s,htmlCode:l,formOptions:{items:[{title:"名字",prop:"name",span:8,itemRender:{name:"input"},rules:[{required:!0},{min:3}]},{title:"性别",prop:"sex",span:8,itemRender:{name:"select",options:[{value:"1",label:"男"},{value:"2",label:"女"}]},rules:[{required:!0,trigger:"change"}]},{title:"年龄",prop:"age",span:8,itemRender:{name:"input"},titlePrefix:{message:"帮助信息",icon:"question"},rules:[{min:1,max:3}]},{title:"身高",prop:"height",span:7,itemRender:{name:"input"},rules:[{max:3}]},{prop:"heightUnit",span:5,itemRender:{name:"select",options:[{value:"1",label:"cm"},{value:"2",label:"m"}]},rules:[{required:!0,trigger:"change"}]},{title:"体重",prop:"weight",span:7,itemRender:{name:"input"},rules:[{required:!0}]},{prop:"weightUnit",span:5,itemRender:{name:"select",options:[{value:"1",label:"kg"},{value:"2",label:"g"}]},rules:[{required:!0,trigger:"change"}]},{title:"爱好",prop:"hobby1",span:10,itemRender:{name:"input"},rules:[{required:!0}]},{prop:"hobby2",span:7,itemRender:{name:"input"},rules:[{required:!0}]},{prop:"hobby3",span:7,itemRender:{name:"input"},rules:[{required:!0}]}]}}},methods:{validate:function(){this.$refs.form.validate().catch((function(e){return console.log(e)}))},clearValidate:function(){this.$refs.form.clearValidate()},resetFields:function(){this.$refs.form.resetFields()}}},u=c,d=n("2877"),p=Object(d["a"])(u,a,o,!1,null,null,null);t["default"]=p.exports},"50fa":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("SpanMethod 行列合并")]),e._m(0),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",e._b({},"eff-table",e.tableOptions,!1))],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"hint"},[e._v(" 自定义 "),n("span",{staticClass:"primary"},[e._v(" span-method ")]),e._v(" 方法合并合并行或列"),n("br"),e._v(" 支持编辑及复制功能，不能用于虚拟滚动、树形结构、展开行、固定列、行列拖动 ")])}],i=n("76a1"),r=n("d369"),s="\n  export default {\n    data() {\n      return {\n        tableOptions: {\n          maxHeight: 400,\n          border: true,\n          edit: true,\n          copy: true,\n          spanMethod: this.colspanMethod,\n          columns: [\n            {\n              show: true,\n              prop: 'id',\n              title: 'ID'\n            },\n            {\n              show: true,\n              prop: 'name',\n              title: '名字',\n              edit: true\n            },\n            {\n              show: true,\n              prop: 'sex',\n              title: '性别',\n              edit: true\n            },\n            {\n              show: true,\n              prop: 'phone',\n              title: '手机',\n              edit: true\n            }\n          ],\n          data: [\n            { id: 1, name: '张三', sex: '男', phone: '13715201314' },\n            { id: 2, name: '李四', sex: '女', phone: '13715201314' },\n            { id: 3, name: '王五', sex: '男', phone: '13715201314' },\n            { id: 4, name: '赵六', sex: '男', phone: '13715201314' }\n          ]\n        }\n      }\n    },\n    methods: {\n      colspanMethod({ rowIndex, columnIndex }) {\n        if (rowIndex % 2 === 0) {\n          if (columnIndex === 1) {\n            return { rowspan: 2, colspan: 1 }\n          } else if (columnIndex === 2) {\n            return { rowspan: 1, colspan: 2 }\n          } else if (columnIndex === 3) {\n            return { rowspan: 0, colspan: 0 }\n          }\n        }\n      }\n    }\n  }\n  ",l='\n  <eff-table v-bind="tableOptions" />\n  ',c={name:"SpanMethod",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){return{htmlCode:l,jsCode:s,tableOptions:{maxHeight:400,border:!0,edit:!0,copy:!0,spanMethod:this.colspanMethod,columns:[{show:!0,prop:"id",title:"ID"},{show:!0,prop:"name",title:"名字",edit:!0},{show:!0,prop:"sex",title:"性别",edit:!0},{show:!0,prop:"phone",title:"手机",edit:!0}],data:[{id:1,name:"张三",sex:"男",phone:"13715201314"},{id:2,name:"李四",sex:"女",phone:"13715201314"},{id:3,name:"王五",sex:"男",phone:"13715201314"},{id:4,name:"赵六",sex:"男",phone:"13715201314"}]}}},methods:{colspanMethod:function(e){var t=e.rowIndex,n=e.columnIndex;if(t%2===0){if(1===n)return{rowspan:2,colspan:1};if(2===n)return{rowspan:1,colspan:2};if(3===n)return{rowspan:0,colspan:0}}}}},u=c,d=n("2877"),p=Object(d["a"])(u,a,o,!1,null,null,null);t["default"]=p.exports},5234:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("MutilpleHeader 多级表头")]),e._m(0),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",e._b({},"eff-table",e.tableOptions,!1))],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"hint"},[e._v(" 通过 "),n("span",{staticClass:"primary"},[e._v(" children ")]),e._v(" 属性配置多级表头 ")])}],i=n("76a1"),r=n("d369"),s='\n  <eff-table v-bind="tableOptions" />\n  ',l="\n  export default {\n    data() {\n      return {\n        tableOptions: {\n          maxHeight: 400,\n          border: true,\n          columns: [\n            {\n              prop: 'date',\n              title: '登记日期'\n            },\n            {\n              prop: 'base',\n              title: '基本信息',\n              children: [\n                {\n                  prop: 'name',\n                  title: '姓名'\n                },\n                {\n                  prop: 'injection',\n                  title: '疫苗注射情况',\n                  children: [\n                    {\n                      prop: 'one',\n                      title: '第一针'\n                    },\n                    {\n                      prop: 'tow',\n                      title: '第二针'\n                    },\n                    {\n                      prop: 'reinforce',\n                      title: '加强针'\n                    }\n                  ]\n                }\n              ]\n            }\n          ],\n          data: [\n            { date: '2021-10-15', name: '赵四', one: '已注射', tow: '已注射', reinforce: '已注射' },\n            { date: '2021-06-15', name: '王五', one: '已注射', tow: '已注射', reinforce: '未注射' },\n            { date: '2021-05-15', name: '老六', one: '已注射', tow: '未注射', reinforce: '未注射' }\n          ]\n        }\n      }\n    }\n  }\n  ",c={name:"MutilpleHeader",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){return{htmlCode:s,jsCode:l,tableOptions:{maxHeight:400,border:!0,columns:[{prop:"date",title:"登记日期"},{prop:"base",title:"基本信息",children:[{prop:"name",title:"姓名"},{prop:"injection",title:"疫苗注射情况",children:[{prop:"one",title:"第一针"},{prop:"tow",title:"第二针"},{prop:"reinforce",title:"加强针"}]}]}],data:[{date:"2021-10-15",name:"赵四",one:"已注射",tow:"已注射",reinforce:"已注射"},{date:"2021-06-15",name:"王五",one:"已注射",tow:"已注射",reinforce:"未注射"},{date:"2021-05-15",name:"老六",one:"已注射",tow:"未注射",reinforce:"未注射"}]}}}},u=c,d=n("2877"),p=Object(d["a"])(u,a,o,!1,null,null,null);t["default"]=p.exports},"5cdd":function(e,t,n){"use strict";(function(e){function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return h(e)||m(e,t)||v(e,t)||y()}function d(e){return p(e)||f(e)||v(e)||g()}function p(e){if(Array.isArray(e))return b(e)}function h(e){if(Array.isArray(e))return e}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function m(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var a,o,i=[],r=!0,s=!1;try{for(n=n.call(e);!(r=(a=n.next()).done);r=!0)if(i.push(a.value),t&&i.length===t)break}catch(l){s=!0,o=l}finally{try{r||null==n["return"]||n["return"]()}finally{if(s)throw o}}return i}}function v(e,t){if(e){if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var w="yyyy-MM-dd HH:mm:ss",x={treeOptions:{parentKey:"parentId",key:"id",children:"children"},formatDate:w+".SSSZ",formatString:w,dateDiffRules:[["yyyy",31536e6],["MM",2592e6],["dd",864e5],["HH",36e5],["mm",6e4],["ss",1e3],["S",0]]},C=x;function _(e,t,n){if(e)if(e.forEach)e.forEach(t,n);else for(var a=0,o=e.length;a<o;a++)t.call(n,e[a],a,e)}var S=_,k=Object.prototype.toString,I=k;function T(e){return function(t){return"[object "+e+"]"===I.call(t)}}var $=T,O=Array.isArray||$("Array"),j=O;function E(e,t){return!(!e||!e.hasOwnProperty)&&e.hasOwnProperty(t)}var R=E;function D(e,t,n){if(e)for(var a in e)R(e,a)&&t.call(n,e[a],a,e)}var F=D;function N(e,t,n){return e?(j(e)?S:F)(e,t,n):e}var P=N;function M(e){return function(t){return typeof t===e}}var q=M,L=q("function"),A=L;function B(e,t){var n=Object[e];return function(e){var a=[];if(e){if(n)return n(e);P(e,t>1?function(t){a.push([""+t,e[t]])}:function(){a.push(arguments[t])})}return a}}var H=B,V=H("keys",1),W=V;function z(e){return!!e&&e.constructor===Object}var K=z;function Q(e){return null===e}var U=Q;function X(e,t){return function(n){return U(n)?t:n[e]}}var Y=X;function G(e,t,n){var a={};if(e){if(!t)return e;A(t)||(t=Y(t)),P(e,(function(o,i){a[i]=t.call(n,o,i,e)}))}return a}var J=G;function Z(e,t,n){var a=[];if(e&&arguments.length>1){if(e.map)return e.map(t,n);P(e,(function(){a.push(t.apply(n,arguments))}))}return a}var ee=Z;function te(e,t,n){return e(t,n?function(e){return ae(e,n)}:function(e){return e})}function ne(e,t){if(t&&e){var n=e.constructor;switch(I.call(e)){case"[object Date]":case"[object RegExp]":return new n(e.valueOf());case"[object Set]":var a=new n;return e.forEach((function(e){a.add(e)})),a;case"[object Map]":var o=new n;return e.forEach((function(e,t){o.set(t,e)})),o}}return e}function ae(e,t){return K(e)?te(J,e,t):j(e)?te(ee,e,t):ne(e,t)}function oe(e,t){return e?ae(e,t):e}var ie=oe,re=Object.assign;function se(e,t,n){for(var a,o=t.length,i=1;i<o;i++)a=t[i],S(W(t[i]),n?function(t){e[t]=ie(a[t],n)}:function(t){e[t]=a[t]});return e}var le=function(e){if(e){var t=arguments;if(!0!==e)return re?re.apply(Object,t):se(e,t);if(t.length>1)return e=j(e[1])?[]:{},se(e,t,!0)}return e},ce=le;function ue(){}function de(){S(arguments,(function(e){P(e,(function(e,t){ue[t]=A(e)?function(){var t=e.apply(ue.$context,arguments);return ue.$context=null,t}:e}))}))}function pe(e){return ce(C,e)}ue.v="v3",ue.mixin=de,ue.setup=pe;var he=ue;function fe(e,t,n){for(var a=e.length-1;a>=0;a--)t.call(n,e[a],a,e)}var me=fe;function ve(e,t,n){me(W(e),(function(a){t.call(n,e[a],a,e)}))}var be=ve;function ge(e,t){return K(e)&&K(t)||j(e)&&j(t)?(P(t,(function(t,n){e[n]=ge(e[n],t)})),e):t}var ye=function(e){e||(e={});for(var t,n=arguments,a=n.length,o=1;o<a;o++)t=n[o],t&&ge(e,t);return e},we=ye;function xe(e,t,n,a,o){return function(i,r,s){if(i&&r){if(e&&i[e])return i[e](r,s);if(t&&j(i)){for(var l=0,c=i.length;l<c;l++)if(!!r.call(s,i[l],l,i)===a)return[!0,!1,l,i[l]][n]}else for(var u in i)if(R(i,u)&&!!r.call(s,i[u],u,i)===a)return[!0,!1,u,i[u]][n]}return o}}var Ce=xe,_e=Ce("some",1,0,!0,!1),Se=_e,ke=Ce("every",1,1,!1,!0),Ie=ke;function Te(e,t){return function(n,a){if(n){if("string"===typeof n||j(n))return n[e]?n[e](a):t(n,a);for(var o in n)if(R(n,o)&&a===n[o])return o}return-1}}var $e=Te;function Oe(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,a=e.length;n<a;n++)if(t===e[n])return n}var je=Oe,Ee=$e("indexOf",je),Re=Ee;function De(e,t){return-1!==Re(e,t)}var Fe=De;function Ne(e,t){var n,a=0;if(j(e)&&j(t)){for(n=t.length;a<n;a++)if(!Fe(e,t[a]))return!1;return!0}return Fe(e,t)}var Pe=Ne;function Me(e){var t=[];return P(e,(function(e){Fe(t,e)||t.push(e)})),t}var qe=Me;function Le(e){return ee(e,(function(e){return e}))}var Ae=Le;function Be(){for(var e=arguments,t=[],n=0,a=e.length;n<a;n++)t=t.concat(Ae(e[n]));return qe(t)}var He=Be,Ve="undefined",We=Ve,ze=q(We),Ke=ze;function Qe(e){return U(e)||Ke(e)}var Ue=Qe,Xe=/(.+)?\[(\d+)\]$/,Ye=Xe;function Ge(e){return e?e.splice&&e.join?e:(""+e).split("."):[]}var Je=Ge;function Ze(e,t,n){if(Ue(e))return n;var a=tt(e,t);return Ke(a)?n:a}function et(e,t){var n=t?t.match(Ye):"";return n?n[1]?e[n[1]]?e[n[1]][n[2]]:void 0:e[n[2]]:e[t]}function tt(e,t){if(e){var n,a,o,i=0;if(e[t]||R(e,t))return e[t];if(a=Je(t),o=a.length,o)for(n=e;i<o;i++)if(n=et(n,a[i]),Ue(n))return i===o-1?n:void 0;return n}}var nt=Ze,at="asc",ot="desc";function it(e,t){return Ke(e)?1:U(e)?Ke(t)?-1:1:e&&e.localeCompare?e.localeCompare(t):e>t?1:-1}function rt(e,t,n){return function(a,o){var i=a[e],r=o[e];return i===r?n?n(a,o):0:t.order===ot?it(r,i):it(i,r)}}function st(e,t,n,a){var o=[];return n=j(n)?n:[n],S(n,(function(n,i){if(n){var r,s=n;j(n)?(s=n[0],r=n[1]):K(n)&&(s=n.field,r=n.order),o.push({field:s,order:r||at}),S(t,A(s)?function(t,n){t[i]=s.call(a,t.data,n,e)}:function(e){e[i]=s?nt(e.data,s):e.data})}})),o}function lt(e,t,n){if(e){if(Ue(t))return Ae(e).sort(it);var a,o=ee(e,(function(e){return{data:e}})),i=st(e,o,t,n),r=i.length-1;while(r>=0)a=rt(r,i[r],a),r--;return a&&(o=o.sort(a)),ee(o,Y("data"))}return[]}var ct=lt,ut=ct,dt=ut;function pt(e,t){return e>=t?e:(e>>=0)+Math.round(Math.random()*((t||9)-e))}var ht=pt,ft=H("values",0),mt=ft;function vt(e){for(var t,n=[],a=mt(e),o=a.length-1;o>=0;o--)t=o>0?ht(0,o):0,n.push(a[t]),a.splice(t,1);return n}var bt=vt;function gt(e,t){var n=bt(e);return arguments.length<=1?n[0]:(t<n.length&&(n.length=t||0),n)}var yt=gt;function wt(e){return function(t){if(t){var n=e(t);if(!isNaN(n))return n}return 0}}var xt=wt,Ct=xt(parseFloat),_t=Ct;function St(e,t,n){var a=[],o=arguments.length;if(e){if(t=o>=2?_t(t):0,n=o>=3?_t(n):e.length,e.slice)return e.slice(t,n);for(;t<n;t++)a.push(e[t])}return a}var kt=St;function It(e,t,n){var a=[];if(e&&t){if(e.filter)return e.filter(t,n);P(e,(function(o,i){t.call(n,o,i,e)&&a.push(o)}))}return a}var Tt=It,$t=Ce("",0,2,!0),Ot=$t,jt=Ce("find",1,3,!0),Et=jt;function Rt(e,t,n){if(e){j(e)||(e=mt(e));for(var a=e.length-1;a>=0;a--)if(t.call(n,e[a],a,e))return e[a]}}var Dt=Rt;function Ft(e,t,n){if(e){var a,o,i=0,r=null,s=n,l=arguments.length>2,c=W(e);if(e.length&&e.reduce)return o=function(){return t.apply(r,arguments)},l?e.reduce(o,s):e.reduce(o);for(l&&(i=1,s=e[c[0]]),a=c.length;i<a;i++)s=t.call(r,s,e[c[i]],i,e);return s}}var Nt=Ft;function Pt(e,t,n,a){if(j(e)&&e.copyWithin)return e.copyWithin(t,n,a);var o,i,r=t>>0,s=n>>0,l=e.length,c=arguments.length>3?a>>0:l;if(r<l&&(r=r>=0?r:l+r,r>=0&&(s=s>=0?s:l+s,c=c>=0?c:l+c,s<c)))for(o=0,i=e.slice(s,c);r<l;r++){if(i.length<=o)break;e[r]=i[o++]}return e}var Mt=Pt;function qt(e,t){var n,a=[],o=t>>0||1;if(j(e))if(o>=0&&e.length>o){n=0;while(n<e.length)a.push(e.slice(n,n+o)),n+=o}else a=e.length?[e]:e;return a}var Lt=qt;function At(e,t){return ee(e,Y(t))}var Bt=At;function Ht(e){return function(t,n){var a,o;return t&&t.length?(S(t,(function(i,r){n&&(i=A(n)?n(i,r,t):nt(i,n)),Ue(i)||!Ue(a)&&!e(a,i)||(o=r,a=i)})),t[o]):a}}var Vt=Ht,Wt=Vt((function(e,t){return e<t})),zt=Wt;function Kt(e){var t,n,a,o=[];if(e&&e.length)for(t=0,n=zt(e,(function(e){return e?e.length:0})),a=n?n.length:0;t<a;t++)o.push(Bt(e,t));return o}var Qt=Kt;function Ut(){return Qt(arguments)}var Xt=Ut;function Yt(e,t){var n={};return t=t||[],P(mt(e),(function(e,a){n[e]=t[a]})),n}var Gt=Yt;function Jt(e,t){var n=[];return S(e,(function(e){n=n.concat(j(e)?t?Jt(e,t):e:[e])})),n}function Zt(e,t){return j(e)?Jt(e,t):[]}var en=Zt;function tn(e,t){var n=0,a=t.length;while(e&&n<a)e=e[t[n++]];return a&&e?e:0}function nn(e,t){for(var n,a=arguments,o=[],i=[],r=2,s=a.length;r<s;r++)o.push(a[r]);if(j(t)){for(s=t.length-1,r=0;r<s;r++)i.push(t[r]);t=t[s]}return ee(e,(function(e){if(i.length&&(e=tn(e,i)),n=e[t]||t,n&&n.apply)return n.apply(e,o)}))}var an=nn;function on(e,t){try{delete e[t]}catch(n){e[t]=void 0}}var rn=on;function sn(e,t,n){return e?(j(e)?me:be)(e,t,n):e}var ln=sn,cn=q("object"),un=cn;function dn(e,t,n){if(e){var a,o=arguments.length>1&&(U(t)||!un(t)),i=o?n:t;if(K(e))F(e,o?function(n,a){e[a]=t}:function(t,n){rn(e,n)}),i&&ce(e,i);else if(j(e)){if(o){a=e.length;while(a>0)a--,e[a]=t}else e.length=0;i&&e.push.apply(e,i)}}return e}var pn=dn;function hn(e){return function(t,n){return n===e}}function fn(e,t,n){if(e){if(!Ue(t)){var a=[],o=[];return A(t)||(t=hn(t)),P(e,(function(e,o,i){t.call(n,e,o,i)&&a.push(o)})),j(e)?ln(a,(function(t,n){o.push(e[t]),e.splice(t,1)})):(o={},S(a,(function(t){o[t]=e[t],rn(e,t)}))),o}return pn(e)}return e}var mn=fn;function vn(e,t){P(e,(function(e){e.children&&!e.children.length&&mn(e,t)}))}function bn(e,t){var n,a,o,i,r=ce({},C.treeOptions,t),s=r.strict,l=r.key,c=r.parentKey,u=r.children,d=r.sortKey,p=r.reverse,h=r.data,f=[],m={};return d&&(e=ct(ie(e),d),p&&(e=e.reverse())),n=ee(e,(function(e){return e[l]})),P(e,(function(e){a=e[l],h?(o={},o[h]=e):o=e,i=e[c],m[a]=m[a]||[],m[i]=m[i]||[],m[i].push(o),o[l]=a,o[c]=i,o[u]=m[a],(!s||s&&!i)&&(Fe(n,i)||f.push(o))})),s&&vn(e,u),f}var gn=bn;function yn(e,t,n){var a=n.children,o=n.data,i=n.clear;return P(t,(function(t){var r=t[a];o&&(t=t[o]),e.push(t),r&&r.length&&yn(e,r,n),i&&delete t[a]})),e}function wn(e,t){return yn([],e,ce({},C.treeOptions,t))}var xn=wn;function Cn(e){return function(t,n,a,o){var i=a||{},r=i.children||"children";return e(null,t,n,o,[],[],r,i)}}var _n=Cn;function Sn(e,t,n,a,o,i,r,s){var l,c,u,d,p,h;if(t)for(c=0,u=t.length;c<u;c++){if(l=t[c],d=o.concat([""+c]),p=i.concat([l]),n.call(a,l,c,t,d,e,p))return{index:c,item:l,path:d,items:t,parent:e,nodes:p};if(r&&l&&(h=Sn(l,l[r],n,a,d.concat([r]),p,r),h))return h}}var kn=_n(Sn),In=kn;function Tn(e,t,n,a,o,i,r,s){var l,c;P(t,(function(s,u){l=o.concat([""+u]),c=i.concat([s]),n.call(a,s,u,t,l,e,c),s&&r&&(l.push(r),Tn(s,s[r],n,a,l,c,r))}))}var $n=_n(Tn),On=$n;function jn(e,t,n,a,o,i,r,s){var l,c,u,d=s.mapChildren||r;return ee(t,(function(p,h){return l=o.concat([""+h]),c=i.concat([p]),u=n.call(a,p,h,t,l,e,c),u&&p&&r&&p[r]&&(u[d]=jn(p,p[r],n,a,l,c,r,s)),u}))}var En=_n(jn),Rn=En;function Dn(e,t,n,a){var o=[];return e&&t&&On(e,(function(e,n,i,r,s,l){t.call(a,e,n,i,r,s,l)&&o.push(e)}),n),o}var Fn=Dn;function Nn(e,t,n,a,o,i,r,s,l){var c,u,d,p,h,f=[],m=l.original,v=l.mapChildren||s;return S(n,(function(b,g){c=i.concat([""+g]),u=r.concat([b]),p=e||a.call(o,b,g,n,c,t,u),h=s&&b[s],(p||h)&&(d=m?b:ce({},b)),p||h?(d[v]=Nn(p,b,b[s],a,o,c,u,s,l),(p||d[v].length)&&f.push(d)):p&&f.push(d)})),f}var Pn=_n((function(e,t,n,a,o,i,r,s){return Nn(0,e,t,n,a,o,i,r,s)})),Mn=Pn;function qn(e,t){if(e.lastIndexOf)return e.lastIndexOf(t);for(var n=e.length-1;n>=0;n--)if(t===e[n])return n;return-1}var Ln=qn,An=q("number"),Bn=An;function Hn(e){return Bn(e)&&isNaN(e)}var Vn=Hn,Wn=q("string"),zn=Wn,Kn=$("Date"),Qn=Kn,Un=parseInt,Xn=Un;function Yn(e){return Date.UTC(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var Gn=Yn;function Jn(e){return e.getTime()}var Zn=Jn,ea=[{rules:[["yyyy",4]]},{rules:[["MM",2],["M",1]],offset:-1},{rules:[["dd",2],["d",1]]},{rules:[["HH",2],["H",1]]},{rules:[["mm",2],["m",1]]},{rules:[["ss",2],["s",1]]},{rules:[["SSS",3],["S",1]]},{rules:[["ZZ",5],["Z",6],["Z",5],["Z",1]]}];function ta(e,t){var n,a,o,i,r,s,l,c,u,d=[0,0,1,0,0,0,0];for(o=0,i=ea.length;o<i;o++)for(r=ea[o],l=0,s=r.rules,c=s.length;l<c;l++){if(n=s[l],a=t.indexOf(n[0]),a>-1&&(u=e.substring(a,a+n[1]),u&&u.length===n[1])){r.offset&&(u=Xn(u)+r.offset),d[o]=u;break}if(l===c-1)return d}return d}function na(e,t){var n,a;if(e)if(a=Qn(e),a||!t&&/^[0-9]{11,15}$/.test(e))n=new Date(a?Zn(e):Xn(e));else if(zn(e)){var o,i=ta(e,t||C.formatDate),r=i[7];i[0]&&(r?"z"===r[0]||"Z"===r[0]?n=new Date(Gn(i)):(o=r.match(/([-+]{1})(\d{2}):?(\d{2})/),o&&(n=new Date(Gn(i)-("-"===o[1]?-1:1)*Xn(o[2])*36e5+6e4*Xn(o[3])))):n=new Date(i[0],i[1],i[2],i[3],i[4],i[5],i[6]))}return n||new Date("")}var aa=na;function oa(){return new Date}var ia=oa;function ra(e){var t,n=e?aa(e):ia();return!!Qn(n)&&(t=n.getFullYear(),t%4===0&&(t%100!==0||t%400===0))}var sa=ra;function la(e,t,n){if(e)if(j(e)){for(var a=0,o=e.length;a<o;a++)if(!1===t.call(n,e[a],a,e))break}else for(var i in e)if(R(e,i)&&!1===t.call(n,e[i],i,e))break}var ca=la;function ua(e,t,n){var a,o;if(e)if(j(e)){for(a=e.length-1;a>=0;a--)if(!1===t.call(n,e[a],a,e))break}else for(o=R(e),a=o.length-1;a>=0;a--)if(!1===t.call(n,e[o[a]],o[a],e))break}var da=ua,pa=$e("lastIndexOf",Ln),ha=pa;function fa(e){var t=0;return zn(e)||j(e)?e.length:(P(e,(function(){t++})),t)}var ma=fa;function va(e){return Bn(e)&&isFinite(e)}var ba=va,ga=function(e){return!U(e)&&!isNaN(e)&&!j(e)&&e%1===0},ya=ga;function wa(e){return!U(e)&&!isNaN(e)&&!j(e)&&!ya(e)}var xa=wa,Ca=q("boolean"),_a=Ca,Sa=$("RegExp"),ka=Sa,Ia=$("Error"),Ta=Ia;function $a(e){return!!e&&e.constructor===TypeError}var Oa=$a;function ja(e){for(var t in e)return!1;return!0}var Ea=ja,Ra=typeof Symbol!==We;function Da(e){return Ra&&Symbol.isSymbol?Symbol.isSymbol(e):"symbol"===typeof e}var Fa=Da,Na=$("Arguments"),Pa=Na;function Ma(e){return!!(e&&zn(e.nodeName)&&Bn(e.nodeType))}var qa=Ma,La=typeof document===We?0:document,Aa=La;function Ba(e){return!(!e||!Aa||9!==e.nodeType)}var Ha=Ba,Va=typeof window===We?0:window,Wa=Va;function za(e){return Wa&&!(!e||e!==e.window)}var Ka=za,Qa=typeof FormData!==We;function Ua(e){return Qa&&e instanceof FormData}var Xa=Ua,Ya=typeof Map!==We;function Ga(e){return Ya&&e instanceof Map}var Ja=Ga,Za=typeof WeakMap!==We;function eo(e){return Za&&e instanceof WeakMap}var to=eo,no=typeof Set!==We;function ao(e){return no&&e instanceof Set}var oo=ao,io=typeof WeakSet!==We;function ro(e){return io&&e instanceof WeakSet}var so=ro;function lo(e){return function(t,n,a){if(t&&A(n)){if(j(t)||zn(t))return e(t,n,a);for(var o in t)if(R(t,o)&&n.call(a,t[o],o,t))return o}return-1}}var co=lo,uo=co((function(e,t,n){for(var a=0,o=e.length;a<o;a++)if(t.call(n,e[a],a,e))return a;return-1})),po=uo;function ho(e,t,n,a,o,i,r){if(e===t)return!0;if(e&&t&&!Bn(e)&&!Bn(t)&&!zn(e)&&!zn(t)){if(ka(e))return n(""+e,""+t,o,i,r);if(Qn(e)||_a(e))return n(+e,+t,o,i,r);var s,l,c,u=j(e),d=j(t);if(u||d?u&&d:e.constructor===t.constructor)return l=W(e),c=W(t),a&&(s=a(e,t,o)),l.length===c.length&&(Ke(s)?Ie(l,(function(o,i){return o===c[i]&&ho(e[o],t[c[i]],n,a,u||d?i:o,e,t)})):!!s)}return n(e,t,o,i,r)}var fo=ho;function mo(e,t){return e===t}var vo=mo;function bo(e,t){return fo(e,t,vo)}var go=bo;function yo(e,t){var n=W(e),a=W(t);return!a.length||(Pe(n,a)?Se(a,(function(a){return po(n,(function(n){return n===a&&go(e[n],t[a])}))>-1})):go(e,t))}var wo=yo;function xo(e,t,n){return A(n)?fo(e,t,(function(e,t,a,o,i){var r=n(e,t,a,o,i);return Ke(r)?vo(e,t):!!r}),n):fo(e,t,vo)}var Co=xo;function _o(e){return U(e)?"null":Fa(e)?"symbol":Qn(e)?"date":j(e)?"array":ka(e)?"regexp":Ta(e)?"error":typeof e}var So=_o,ko=0;function Io(e){return[e,++ko].join("")}var To=Io,$o=co((function(e,t,n){for(var a=e.length-1;a>=0;a--)if(t.call(n,e[a],a,e))return a;return-1})),Oo=$o;function jo(e){if(un(e))return e;if(zn(e))try{return JSON.parse(e)}catch(t){}return{}}var Eo=jo;function Ro(e){return JSON.stringify(e)||""}var Do=Ro,Fo=H("entries",2),No=Fo;function Po(e,t){return function(n,a){var o,i,r={},s=[],l=this,c=arguments,u=c.length;if(!A(a)){for(i=1;i<u;i++)o=c[i],s.push.apply(s,j(o)?o:[o]);a=0}return P(n,(function(o,i){((a?a.call(l,o,i,n):po(s,(function(e){return e===i}))>-1)?e:t)&&(r[i]=o)})),r}}var Mo=Po,qo=Mo(1,0),Lo=qo,Ao=Mo(0,1),Bo=Ao;function Ho(e){return mt(e)[0]}var Vo=Ho;function Wo(e){var t=mt(e);return t[t.length-1]}var zo=Wo;function Ko(e,t){if(e){if(R(e,t))return!0;var n,a,o,i,r,s,l=Je(t),c=0,u=l.length;for(r=e;c<u;c++){if(s=!1,n=l[c],i=n?n.match(Ye):"",i?(a=i[1],o=i[2],a?r[a]&&R(r[a],o)&&(s=!0,r=r[a][o]):R(r,o)&&(s=!0,r=r[o])):R(r,n)&&(s=!0,r=r[n]),!s)break;if(c===u-1)return!0}}return!1}var Qo=Ko,Uo=/(.+)\[(\d+)\]$/;function Xo(e,t,n,a){if(!e[t]){var o,i=t?t.match(Uo):null,r=n?a:{};return i?(o=Xn(i[2]),e[i[1]]||(e[i[1]]=new Array(o+1)),e[i[1]][o]=r):e[t]=r,r}return n&&(e[t]=a),e[t]}function Yo(e,t,n){if(e)if(e[t]||R(e,t))e[t]=n;else for(var a=e,o=Je(t),i=o.length,r=0;r<i;r++)a=Xo(a,o[r],r===i-1,n);return e}var Go=Yo;function Jo(e){return function(){return Ea(e)}}function Zo(e,t,n){var a,o={};return e&&(t&&un(t)?t=Jo(t):A(t)||(t=Y(t)),P(e,(function(i,r){a=t?t.call(n,i,r,e):i,o[a]?o[a].push(i):o[a]=[i]}))),o}var ei=Zo;function ti(e,t,n){var a=ei(e,t,n||this);return F(a,(function(e,t){a[t]=e.length})),a}var ni=ti;function ai(e,t,n){var a,o,i=[],r=arguments;if(r.length<2&&(t=r[0],e=0),a=e>>0,o=t>>0,a<t)for(n=n>>0||1;a<o;a+=n)i.push(a);return i}var oi=ai;function ii(e,t){if(e&&t){var n=ce.apply(this,[{}].concat(kt(arguments,1))),a=W(n);S(W(e),(function(t){Fe(a,t)&&(e[t]=n[t])}))}return e}var ri=ii,si=Vt((function(e,t){return e>t})),li=si;function ci(e,t){if(e.repeat)return e.repeat(t);var n=isNaN(t)?[]:new Array(Xn(t));return n.join(e)+(n.length>0?e:"")}var ui=ci;function di(e,t){return e.substring(0,t)+"."+e.substring(t,e.length)}var pi=di;function hi(e){var t=""+e,n=t.match(/^([-+]?)((\d+)|((\d+)?[.](\d+)?))e([-+]{1})([0-9]+)$/);if(n){var a=e<0,o=a?"-":"",i=n[3]||"",r=n[5]||"",s=n[6]||"",l=n[7],c=n[8],u=c-s.length,d=c-i.length,p=c-r.length;return"+"===l?i?o+i+ui("0",c):u>0?o+r+s+ui("0",u):o+r+pi(s,c):i?d>0?o+"0."+ui("0",Math.abs(d))+i:o+pi(i,d):p>0?o+"0."+ui("0",Math.abs(p))+r+s:o+pi(r,p)+s}return t}var fi=hi;function mi(e){return function(t,n){var a=_t(t);if(a){n>>=0;var o=fi(a),i=o.split("."),r=i[0],s=i[1]||"";if(a=r+"."+s.substring(0,n+1),n>=s.length)return _t(a);if(n>0){var l=Math.pow(10,n);return Math[e](a*l)/l}return Math[e](a)}return a}}var vi=mi,bi=vi("round"),gi=bi,yi=vi("ceil"),wi=yi,xi=vi("floor"),Ci=xi;function _i(e){return Bn(e)?fi(e):""+(Ue(e)?"":e)}var Si=_i;function ki(e,t){t>>=0;var n=Si(gi(e,t)),a=n.split("."),o=a[0],i=a[1]||"",r=t-i.length;return t?r>0?o+"."+i+ui("0",r):o+pi(i,Math.abs(r)):o}var Ii=ki;function Ti(e,t){var n,a,o,i,r,s=t||{},l=s.digits,c=Bn(e);return c?(n=(s.ceil?wi:s.floor?Ci:gi)(e,l),a=fi(l?Ii(n,l):n).split("."),i=a[0],r=a[1],o=i&&n<0,o&&(i=i.substring(1,i.length))):(n=Si(e).replace(/,/g,""),a=n?[n]:[],i=a[0]),a.length?(o?"-":"")+i.replace(new RegExp("(?=(?!(\\b))(.{"+(s.spaceNumber||3)+"})+$)","g"),s.separator||",")+(r?"."+r:""):n}var $i=Ti,Oi=xt(Xn),ji=Oi;function Ei(e){return(e.split(".")[1]||"").length}var Ri=Ei;function Di(e,t){var n=_t(e),a=_t(t),o=fi(n),i=fi(a);return parseInt(o.replace(".",""))*parseInt(i.replace(".",""))/Math.pow(10,Ri(o)+Ri(i))}var Fi=Di;function Ni(e,t){var n=fi(e),a=fi(t),o=Math.pow(10,Math.max(Ri(n),Ri(a)));return(Fi(e,o)+Fi(t,o))/o}var Pi=Ni;function Mi(e,t){return Pi(_t(e),_t(t))}var qi=Mi;function Li(e,t){var n=_t(e),a=_t(t),o=fi(n),i=fi(a),r=Ri(o),s=Ri(i),l=Math.pow(10,Math.max(r,s)),c=r>=s?r:s;return parseFloat(Ii((n*l-a*l)/l,c))}var Ai=Li;function Bi(e,t){var n=fi(e),a=fi(t),o=Ri(n),i=Ri(a),r=i-o,s=r<0,l=Math.pow(10,s?Math.abs(r):r);return Fi(n.replace(".","")/a.replace(".",""),s?1/l:l)}var Hi=Bi;function Vi(e,t){return Hi(_t(e),_t(t))}var Wi=Vi;function zi(e,t,n){var a=0;return P(e,t?A(t)?function(){a=Pi(a,t.apply(n,arguments))}:function(e){a=Pi(a,nt(e,t))}:function(e){a=Pi(a,e)}),a}var Ki=zi;function Qi(e,t,n){return Hi(Ki(e,t,n),ma(e))}var Ui=Qi,Xi="first",Yi=Xi,Gi="last",Ji=Gi;function Zi(e){return e.getFullYear()}var er=Zi;function tr(e){return e.getMonth()}var nr=tr;function ar(e){return Qn(e)&&!isNaN(Zn(e))}var or=ar;function ir(e,t,n){var a=t&&!isNaN(t)?t:0;if(e=aa(e),or(e)){if(n===Yi)return new Date(er(e),nr(e)+a,1);if(n===Ji)return new Date(Zn(ir(e,a+1,Yi))-1);Bn(n)&&e.setDate(n),a&&e.setMonth(nr(e)+a)}return e}var rr=ir;function sr(e,t,n){var a;if(e=aa(e),or(e)&&(t&&(a=t&&!isNaN(t)?t:0,e.setFullYear(er(e)+a)),n||!isNaN(n))){if(n===Yi)return new Date(er(e),0,1);if(n===Ji)return e.setMonth(11),rr(e,0,Ji);e.setMonth(n)}return e}var lr=sr;function cr(e,t,n){if(e=aa(e),or(e)&&!isNaN(t)){if(e.setDate(e.getDate()+Xn(t)),n===Yi)return new Date(er(e),nr(e),e.getDate());if(n===Ji)return new Date(Zn(cr(e,1,Yi))-1)}return e}var ur=cr;function dr(e){return e.toUpperCase()}var pr=dr,hr=864e5,fr=hr;function mr(e){if(e=aa(e),or(e)){e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return Math.round(((e.getTime()-t.getTime())/fr+(t.getDay()+6)%7-3)/7)+1}return NaN}var vr=mr;function br(e){return new Date(er(e),nr(e),e.getDate())}var gr=br;function yr(e){return Zn(gr(e))}var wr=yr;function xr(e){return e=aa(e),or(e)?Math.floor((wr(e)-wr(lr(e,0,Yi)))/fr)+1:NaN}var Cr=xr;function _r(e,t,n){var a=Si(e);return t>>=0,n=Ke(n)?" ":""+n,a.padStart?a.padStart(t,n):t>a.length?(t-=a.length,t>n.length&&(n+=ui(n,t/n.length)),n.slice(0,t)+a):a}var Sr=_r;function kr(e,t,n,a){var o=t[n];return o?A(o)?o(a,n,e):o[a]:a}function Ir(e){return 0===e?7:e}var Tr=/\[([^\]]+)]|y{2,4}|M{1,2}|d{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|S{1,3}|Z{1,2}|W{1,2}|D{1,3}|[aAeEq]/g;function $r(e,t,n){if(e){if(e=aa(e),or(e)){var a=t||C.formatString,o=e.getHours(),i=o<12?"am":"pm",r=ce({},C.formatStringMatchs,n?n.formats:null),s=function(t,n){return(""+er(e)).substr(4-n)},l=function(t,n){return Sr(nr(e)+1,n,"0")},c=function(t,n){return Sr(e.getDate(),n,"0")},u=function(e,t){return Sr(o,t,"0")},d=function(e,t){return Sr(o<=12?o:o-12,t,"0")},p=function(t,n){return Sr(e.getMinutes(),n,"0")},h=function(t,n){return Sr(e.getSeconds(),n,"0")},f=function(t,n){return Sr(e.getMilliseconds(),n,"0")},m=function(t,n){var a=e.getTimezoneOffset()/60*-1;return kr(e,r,t,(a>=0?"+":"-")+Sr(a,2,"0")+(1===n?":":"")+"00")},v=function(t,n){return Sr(kr(e,r,t,vr(e)),n,"0")},b=function(t,n){return Sr(kr(e,r,t,Cr(e)),n,"0")},g={yyyy:s,yy:s,MM:l,M:l,dd:c,d:c,HH:u,H:u,hh:d,h:d,mm:p,m:p,ss:h,s:h,SSS:f,S:f,ZZ:m,Z:m,WW:v,W:v,DDD:b,D:b,a:function(t){return kr(e,r,t,i)},A:function(t){return kr(e,r,t,pr(i))},e:function(t){return kr(e,r,t,e.getDay())},E:function(t){return kr(e,r,t,Ir(e.getDay()))},q:function(t){return kr(e,r,t,Math.floor((nr(e)+3)/3))}};return a.replace(Tr,(function(e,t){return t||(g[e]?g[e](e,e.length):e)}))}return"Invalid Date"}return""}var Or=$r,jr=Date.now||function(){return Zn(ia())},Er=jr,Rr=function(e,t){if(e){var n=aa(e,t);return Qn(n)?Zn(n):n}return Er()},Dr=Rr;function Fr(e,t,n){return!(!e||!t)&&(e=Or(e,n),"Invalid Date"!==e&&e===Or(t,n))}var Nr=Fr,Pr=7*fr,Mr=Pr;function qr(e,t,n){var a,o,i,r;return e=aa(e),or(e)?(r=Xn(/^[0-7]$/.test(n)?n:e.getDay()),i=e.getDay(),a=Zn(e),o=a+((0===r?7:r)-(0===i?7:i))*fr,t&&!isNaN(t)&&(o+=t*Mr),new Date(o)):e}var Lr=qr;function Ar(e){var t,n,a=aa(e);return or(a)?(t=rr(a,0,Yi),n=Lr(t,0,1),n<t&&(n=Lr(t,1,1)),a>=n?Math.floor((wr(a)-wr(n))/Mr)+1:Ar(Lr(a,0,1))):NaN}var Br=Ar;function Hr(e,t){return e=aa(e),or(e)?sa(lr(e,t))?366:365:NaN}var Vr=Hr;function Wr(e,t){return e=aa(e),or(e)?Math.floor((Zn(rr(e,t,Ji))-Zn(rr(e,t,Yi)))/fr)+1:NaN}var zr=Wr;function Kr(e,t,n){var a,o,i,r,s,l,c,u={done:!1,time:0};if(e=aa(e),t=t?aa(t):ia(),or(e)&&or(t)&&(a=Zn(e),o=Zn(t),a<o))for(r=u.time=o-a,s=n&&n.length>0?n:C.dateDiffRules,u.done=!0,c=0,l=s.length;c<l;c++)i=s[c],r>=i[1]?c===l-1?u[i[0]]=r||0:(u[i[0]]=Math.floor(r/i[1]),r-=u[i[0]]*i[1]):u[i[0]]=0;return u}var Qr=Kr;function Ur(e,t,n){var a=Si(e);return t>>=0,n=Ke(n)?" ":""+n,a.padEnd?a.padEnd(t,n):t>a.length?(t-=a.length,t>n.length&&(n+=ui(n,t/n.length)),a+n.slice(0,t)):a}var Xr=Ur;function Yr(e,t){return ui(Si(e),t)}var Gr=Yr;function Jr(e){return e&&e.trimRight?e.trimRight():Si(e).replace(/[\s\uFEFF\xA0]+$/g,"")}var Zr=Jr;function es(e){return e&&e.trimLeft?e.trimLeft():Si(e).replace(/^[\s\uFEFF\xA0]+/g,"")}var ts=es;function ns(e){return e&&e.trim?e.trim():Zr(ts(e))}var as=ns,os={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},is=os;function rs(e){var t=new RegExp("(?:"+W(e).join("|")+")","g");return function(n){return Si(n).replace(t,(function(t){return e[t]}))}}var ss=rs,ls=ss(is),cs=ls,us={};P(is,(function(e,t){us[is[t]]=t}));var ds=ss(us),ps=ds;function hs(e,t,n){return e.substring(t,n)}var fs=hs;function ms(e){return e.toLowerCase()}var vs=ms,bs={};function gs(e){if(e=Si(e),bs[e])return bs[e];var t=e.length,n=e.replace(/([-]+)/g,(function(e,n,a){return a&&a+n.length<t?"-":""}));return t=n.length,n=n.replace(/([A-Z]+)/g,(function(e,n,a){var o=n.length;return n=vs(n),a?o>2&&a+o<t?pr(fs(n,0,1))+fs(n,1,o-1)+pr(fs(n,o-1,o)):pr(fs(n,0,1))+fs(n,1,o):o>1&&a+o<t?fs(n,0,o-1)+pr(fs(n,o-1,o)):n})).replace(/(-[a-zA-Z])/g,(function(e,t){return pr(fs(t,1,t.length))})),bs[e]=n,n}var ys=gs,ws={};function xs(e){if(e=Si(e),ws[e])return ws[e];var t=e.replace(/([a-z]?)([A-Z]+)([a-z]?)/g,(function(e,t,n,a,o){var i=n.length;return i>1&&(t&&(t+="-"),a)?(t||"")+vs(fs(n,0,i-1))+"-"+vs(fs(n,i-1,i))+a:(t||"")+(o?"-":"")+vs(n)+(a||"")}));return t=t.replace(/([-]+)/g,(function(e,n,a){return a&&a+n.length<t.length?"-":""})),ws[e]=t,t}var Cs=xs;function _s(e,t,n){var a=Si(e);return 0===(1===arguments.length?a:a.substring(n)).indexOf(t)}var Ss=_s;function ks(e,t,n){var a=Si(e),o=arguments.length;return o>1&&(o>2?a.substring(0,n).indexOf(t)===n-1:a.indexOf(t)===a.length-1)}var Is=ks;function Ts(e,t,n){return Si(e).replace((n||C).tmplRE||/\{{2}([.\w[\]\s]+)\}{2}/g,(function(e,n){return nt(t,as(n))}))}var $s=Ts;function Os(){}var js=Os;function Es(e,t){var n=kt(arguments,2);return function(){return e.apply(t,kt(arguments).concat(n))}}var Rs=Es;function Ds(e,t){var n=!1,a=null,o=kt(arguments,2);return function(){return n||(a=e.apply(t,kt(arguments).concat(o)),n=!0),a}}var Fs=Ds;function Ns(e,t,n){var a=0,o=[];return function(){var i=arguments;a++,a<=e&&o.push(i[0]),a>=e&&t.apply(n,[o].concat(kt(i)))}}var Ps=Ns;function Ms(e,t,n){var a=0,o=[];return n=n||this,function(){var i=arguments;a++,a<e&&(o.push(i[0]),t.apply(n,[o].concat(kt(i))))}}var qs=Ms;function Ls(e,t,n){var a,o,i=n||{},r=!1,s=0,l=!("leading"in i)||i.leading,c="trailing"in i&&i.trailing,u=function(){r=!0,e.apply(o,a),s=setTimeout(d,t)},d=function(){s=0,r||!0!==c||u()},p=function(){var e=0!==s;return clearTimeout(s),r=!1,s=0,e},h=function(){a=arguments,o=this,r=!1,0===s&&(!0===l?u():!0===c&&(s=setTimeout(d,t)))};return h.cancel=p,h}var As=Ls;function Bs(e,t,n){var a,o,i=n||{},r=!1,s=0,l="boolean"===typeof n,c="leading"in i?i.leading:l,u="trailing"in i?i.trailing:!l,d=function(){r=!0,s=0,e.apply(o,a)},p=function(){!0===c&&(s=0),r||!0!==u||d()},h=function(){var e=0!==s;return clearTimeout(s),s=0,e},f=function(){r=!1,a=arguments,o=this,0===s?!0===c&&d():clearTimeout(s),s=setTimeout(p,t)};return f.cancel=h,f}var Hs=Bs;function Vs(e,t){var n=kt(arguments,2),a=this;return setTimeout((function(){e.apply(a,n)}),t)}var Ws=Vs,zs=decodeURIComponent,Ks=zs;function Qs(e){var t,n={};return e&&zn(e)&&S(e.split("&"),(function(e){t=e.split("="),n[Ks(t[0])]=Ks(t[1]||"")})),n}var Us=Qs,Xs=encodeURIComponent,Ys=Xs;function Gs(e,t,n){var a,o=[];return P(e,(function(e,i){a=j(e),K(e)||a?o=o.concat(Gs(e,t+"["+i+"]",a)):o.push(Ys(t+"["+(n?"":i)+"]")+"="+Ys(U(e)?"":e))})),o}function Js(e){var t,n=[];return P(e,(function(e,a){Ke(e)||(t=j(e),K(e)||t?n=n.concat(Gs(e,a,t)):n.push(Ys(a)+"="+Ys(U(e)?"":e)))})),n.join("&").replace(/%20/g,"+")}var Zs=Js,el=typeof location===We?0:location,tl=el;function nl(){return tl?tl.origin||tl.protocol+"//"+tl.host:""}var al=nl;function ol(e){return Us(e.split("?")[1]||"")}function il(e){var t,n,a,o,i=""+e;return 0===i.indexOf("//")?i=(tl?tl.protocol:"")+i:0===i.indexOf("/")&&(i=al()+i),a=i.replace(/#.*/,"").match(/(\?.*)/),o={href:i,hash:"",host:"",hostname:"",protocol:"",port:"",search:a&&a[1]&&a[1].length>1?a[1]:""},o.path=i.replace(/^([a-z0-9.+-]*:)\/\//,(function(e,t){return o.protocol=t,""})).replace(/^([a-z0-9.+-]*)(:\d+)?\/?/,(function(e,t,a){return n=a||"",o.port=n.replace(":",""),o.hostname=t,o.host=t+n,"/"})).replace(/(#.*)/,(function(e,t){return o.hash=t.length>1?t:"",""})),t=o.hash.match(/#((.*)\?|(.*))/),o.pathname=o.path.replace(/(\?|#.*).*/,""),o.origin=o.protocol+"//"+o.host,o.hashKey=t&&(t[2]||t[1])||"",o.hashQuery=ol(o.hash),o.searchQuery=ol(o.search),o}var rl=il;function sl(){if(tl){var e=tl.pathname,t=ha(e,"/")+1;return al()+(t===e.length?e:e.substring(0,t))}return""}var ll=sl;function cl(){return tl?rl(tl.href):{}}var ul=cl;function dl(e,t){var n=parseFloat(t),a=ia(),o=Zn(a);switch(e){case"y":return Zn(lr(a,n));case"M":return Zn(rr(a,n));case"d":return Zn(ur(a,n));case"h":case"H":return o+60*n*60*1e3;case"m":return o+60*n*1e3;case"s":return o+1e3*n}return o}function pl(e){return(Qn(e)?e:new Date(e)).toUTCString()}function hl(e,t,n){if(Aa){var a,o,i,r,s,l,c=[],u=arguments;return j(e)?c=e:u.length>1?c=[ce({name:e,value:t},n)]:un(e)&&(c=[e]),c.length>0?(S(c,(function(e){a=ce({},C.cookies,e),i=[],a.name&&(o=a.expires,i.push(Ys(a.name)+"="+Ys(un(a.value)?JSON.stringify(a.value):a.value)),o&&(o=isNaN(o)?o.replace(/^([0-9]+)(y|M|d|H|h|m|s)$/,(function(e,t,n){return pl(dl(n,t))})):/^[0-9]{11,13}$/.test(o)||Qn(o)?pl(o):pl(dl("d",o)),a.expires=o),S(["expires","path","domain","secure"],(function(e){Ke(a[e])||i.push(a[e]&&"secure"===e?e:e+"="+a[e])}))),Aa.cookie=i.join("; ")})),!0):(r={},s=Aa.cookie,s&&S(s.split("; "),(function(e){l=e.indexOf("="),r[Ks(e.substring(0,l))]=Ks(e.substring(l+1)||"")})),1===u.length?r[e]:r)}return!1}function fl(e){return Fe(gl(),e)}function ml(e,t){return hl(e,t)}function vl(e,t,n){return hl(e,t,n),hl}function bl(e,t){hl(e,0,ce({expires:-1},C.cookies,t))}function gl(){return W(hl())}ce(hl,{has:fl,set:vl,setItem:vl,get:ml,getItem:hl,remove:bl,removeItem:bl,keys:gl,getJSON:hl});var yl=hl;function wl(e){try{var t="__xe_t";return e.setItem(t,1),e.removeItem(t),!0}catch(n){return!1}}function xl(e){return navigator.userAgent.indexOf(e)>-1}function Cl(){var t,n,a,o=!1,i={isNode:!1,isMobile:o,isPC:!1,isDoc:!!Aa};return Wa||typeof e===We?(a=xl("Edge"),n=xl("Chrome"),o=/(Android|webOS|iPhone|iPad|iPod|SymbianOS|BlackBerry|Windows Phone)/.test(navigator.userAgent),i.isDoc&&(t=Aa.body||Aa.documentElement,S(["webkit","khtml","moz","ms","o"],(function(e){i["-"+e]=!!t[e+"MatchesSelector"]}))),ce(i,{edge:a,firefox:xl("Firefox"),msie:!a&&i["-ms"],safari:!n&&!a&&xl("Safari"),isMobile:o,isPC:!o,isLocalStorage:wl(Wa.localStorage),isSessionStorage:wl(Wa.sessionStorage)})):i.isNode=!0,i}var _l=Cl;ce(he,{assign:ce,objectEach:F,lastObjectEach:be,objectMap:J,merge:we,uniq:qe,union:He,sortBy:dt,orderBy:ct,shuffle:bt,sample:yt,some:Se,every:Ie,slice:kt,filter:Tt,find:Et,findLast:Dt,findKey:Ot,includes:Fe,arrayIndexOf:je,arrayLastIndexOf:Ln,map:ee,reduce:Nt,copyWithin:Mt,chunk:Lt,zip:Xt,unzip:Qt,zipObject:Gt,flatten:en,toArray:Ae,includeArrays:Pe,pluck:Bt,invoke:an,arrayEach:S,lastArrayEach:me,toArrayTree:gn,toTreeArray:xn,findTree:In,eachTree:On,mapTree:Rn,filterTree:Fn,searchTree:Mn,hasOwnProp:R,eqNull:Ue,isNaN:Vn,isFinite:ba,isUndefined:Ke,isArray:j,isFloat:xa,isInteger:ya,isFunction:A,isBoolean:_a,isString:zn,isNumber:Bn,isRegExp:ka,isObject:un,isPlainObject:K,isDate:Qn,isError:Ta,isTypeError:Oa,isEmpty:Ea,isNull:U,isSymbol:Fa,isArguments:Pa,isElement:qa,isDocument:Ha,isWindow:Ka,isFormData:Xa,isMap:Ja,isWeakMap:to,isSet:oo,isWeakSet:so,isLeapYear:sa,isMatch:wo,isEqual:go,isEqualWith:Co,getType:So,uniqueId:To,getSize:ma,indexOf:Re,lastIndexOf:ha,findIndexOf:po,findLastIndexOf:Oo,toStringJSON:Eo,toJSONString:Do,keys:W,values:mt,entries:No,pick:Lo,omit:Bo,first:Vo,last:zo,each:P,forOf:ca,lastForOf:da,lastEach:ln,has:Qo,get:nt,set:Go,groupBy:ei,countBy:ni,clone:ie,clear:pn,remove:mn,range:oi,destructuring:ri,random:ht,min:li,max:zt,commafy:$i,round:gi,ceil:wi,floor:Ci,toFixed:Ii,toNumber:_t,toNumberString:fi,toInteger:ji,add:qi,subtract:Ai,multiply:Fi,divide:Wi,sum:Ki,mean:Ui,now:Er,timestamp:Dr,isValidDate:or,isDateSame:Nr,toStringDate:aa,toDateString:Or,getWhatYear:lr,getWhatMonth:rr,getWhatWeek:Lr,getWhatDay:ur,getYearDay:Cr,getYearWeek:vr,getMonthWeek:Br,getDayOfYear:Vr,getDayOfMonth:zr,getDateDiff:Qr,trim:as,trimLeft:ts,trimRight:Zr,escape:cs,unescape:ps,camelCase:ys,kebabCase:Cs,repeat:Gr,padStart:Sr,padEnd:Xr,startsWith:Ss,endsWith:Is,template:$s,toString:Si,noop:js,property:Y,bind:Rs,once:Fs,after:Ps,before:qs,throttle:As,debounce:Hs,delay:Ws,unserialize:Us,serialize:Zs,parseUrl:rl,getBaseURL:ll,locat:ul,browse:_l,cookie:yl});var Sl=he,kl={computed:{widths:function(){var e=this.bodyColumns,t=this.getColumnWidth;return e.reduce((function(e,n){var a=n.width||0,o=n.minWidth||0,i=n.type,r=t({width:a,minWidth:o,type:i});return e.columnWidths.push(r),e.allMinWidth+=r,"left"===n.fixed&&(e.leftWidth+=r),"right"===n.fixed&&(e.rightWidth+=r),e}),{columnWidths:[],allMinWidth:0,leftWidth:0,rightWidth:0})},minWidth:function(){return this.bodyColumns.reduce((function(e,t){return t.width?e+(t.width||0):e}),0)},minWidths:function(){return this.bodyColumns.reduce((function(e,t){return t.width?e:e+t.minWidth}),0)},spaceWidth:function(){var e=this.bodyWrapperWidth,t=this.scrollYwidth,n=this.minWidth,a=this.minWidths;return n>e?0:Sl.toFixed((e-2-n-t)/a,4)},showSpace:function(){var e=this.widths.allMinWidth,t=this.bodyWrapperWidth,n=this.scrollYwidth;return e+11<t-2-n}},methods:{isTypeColumn:function(e){return["selection","expand","row-drag","radio"].includes(e.type)},getColumnWidth:function(e){if(this.isTypeColumn(e))return 30;var t=e.width,n=e.minWidth;return Math.max(t||Math.max(n*this.spaceWidth,n))}}},Il={data:function(){return{selecteds:[],disableds:[],filterList:[],selectionAll:!1,indeterminate:!1,isCopyFunc:!1}},created:function(){Object.assign(this,{checkedsSet:new Set})},computed:{checkeds:function(){var e=this.tableDataMap,t=this.selecteds;return t.reduce((function(t,n){var a=e.get(n);return a?t.concat([a]):t}),[])}},watch:{selecteds:function(){var e=this.checkeds,t=this.selecteds;this.updateSelecteds(),this.$emit("selection-change",e,t)},tableData:function(){this.updateSelecteds(),this.dataChange()}},methods:{setFilterList:function(e){this.filterList=e},updateSelecteds:function(){var e=this.selecteds,t=this.tableSourceData,n=this.rowId,a=this.disableds,o=this.filterList,i=e.length,r=t.filter((function(e){return!a.concat(o).includes(e[n])})).length;this.selectionAll=Boolean(i)&&i===r,this.indeterminate=Boolean(i&&i<r)},copyFromChecked:function(){this.isCopyFunc=!0,document.execCommand("copy")},getCheckRows:function(){return Sl.clone(this.checkeds,!0)},clearSelection:function(){this.checkedsSet.clear(),this.selectionChange()},toggleRowSelection:function(e,t){var n=this.tableDataMap,a=this.rowId,o=this.toggleSelection,i=this.checkedsSet,r=e[a];n.has(r)?o(e,i.has(r),t):console.error("methods toggleRowSelection (row) is not find")},toggleAllSelection:function(){this.selectionAll=!this.selectionAll,this.allselectionChange(this.selectionAll)},rowSelectionChange:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.checkeds,o=this.tableDataMap,i=this.rowId,r=this.toggleSelection,s=this.selectionChange,l=e[i];n&&this.checkedsSet.clear(),r(e,!t),this.$emit("select",a,o.get(l)),s()},allselectionChange:function(e){var t=this.tableDataMap,n=this.selectionChange,a=this.disableds,o=this.filterList;this.selectionAll=e,this.indeterminate=!1,e?this.checkedsSet=new Set(d(t.keys()).filter((function(e){return!a.concat(o).includes(e)}))):this.checkedsSet.clear(),n(),this.$emit("select-all",this.checkeds)},toggleSelection:function(e,t,n){var a=e[this.rowId];n?this.checkedsSet.add(a):t?this.checkedsSet.delete(a):this.checkedsSet.add(a),this.selectionChange()},setCurrentRow:function(e){var t=this.tableDataMap,n=this.rowId,a=this.selectionChange,o=e[n];this.checkedsSet.clear(),t.has(o)&&this.checkedsSet.add(o),a()},selectionChange:function(){this.selecteds=d(this.checkedsSet),this.$forceUpdate()},isChecked:function(e){var t=this.selecteds,n=this.rowId;return t.includes(e[n])}}},Tl=function(){return document.addEventListener?function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e&&t&&n&&e.addEventListener(t,n,a)}:function(e,t,n){e&&t&&n&&e.attachEvent("on"+t,n)}}(),$l=function(){return document.removeEventListener?function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e&&t&&e.removeEventListener(t,n,a)}:function(e,t,n){e&&t&&e.detachEvent("on"+t,n)}}(),Ol=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")};function jl(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}function El(e,t){if(e){for(var n=e.className,a=(t||"").split(" "),o=0,i=a.length;o<i;o++){var r=a[o];r&&(e.classList?e.classList.add(r):jl(e,r)||(n+=" "+r))}e.classList||(e.className=n)}}function Rl(e,t){if(e&&t){for(var n=t.split(" "),a=" "+e.className+" ",o=0,i=n.length;o<i;o++){var r=n[o];r&&(e.classList?e.classList.remove(r):jl(e,r)&&(a=a.replace(" "+r+" "," ")))}e.classList||(e.className=Ol(a))}}var Dl=function(e){e||console.error("获取id节点失败");var t=e.getBoundingClientRect(),n=t.top,a=t.bottom,o=t.left,i=t.right,r=t.width,s=t.height,l=r||i-o,c=s||a-n;return{width:l,height:c,top:n,right:i,bottom:a,left:o,centerX:o+l/2,centerY:n+c/2}},Fl=function(e,t){var n=e.$refs[t];n&&n.$el&&n.$el.parentNode===document.body?document.body.removeChild(n.$el):n&&n.parentNode===document.body&&document.body.removeChild(n)},Nl=function(e){var t=e.target;while(t&&"HTML"!==t.tagName.toUpperCase()){if(jl(t,"eff-table__column")||jl(t,"eff-table__header-group"))return t;t=t.parentNode}return null},Pl=function(e){var t=e.start,n=e.moveing,a=e.end;t&&t();var o=0,i=0,r=0,s=0;document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};var l=function(e){e&&(!o&&(o=e.clientX),!r&&(r=e.clientY),i=e.clientX-o,s=e.clientY-r),n&&n(i,s)},c=function e(){a&&a(i,s),$l(document,"mousemove",l),$l(document,"mouseup",e),document.onselectstart=null,document.ondragstart=null};Tl(document,"mousemove",l),Tl(document,"mouseup",c)},Ml=function(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)},ql=function(e){var t=document.createRange();t.setStart(e,0),t.setEnd(e,e.childNodes.length);var n=t.getBoundingClientRect().width,a=parseInt(Ml(e,"padding-left"))+parseInt(Ml(e,"padding-right"));return a+n},Ll=function(e){return ql(e)-.3>e.getBoundingClientRect().width},Al=function(e){return""===e||Sl.eqNull(e)},Bl=function(e,t,n){var a=Sl.get(e,n),o=Sl.get(t,n);return!(!Al(a)||!Al(o))||(Sl.isString(a)||Sl.isNumber(a)?a==o:Sl.isEqual(a,o))},Hl={data:function(){return{tableRect:null,bodyWidth:0,bodyHeight:0,bodyWrapperWidth:0,screenfullHeight:0,offset:0,overflowX:!1,headerLoad:!1,bodyLoad:!1,toolbarHeight:0,formHeight:0}},created:function(){Tl(window,"resize",this.resize,{passive:!0})},watch:{isScreenfull:function(e){var t=this;e?(this.tableMaxHeight=window.screen.height,this.layoutTimer=setTimeout((function(){t.resize(),e&&t.$nextTick((function(){t.screenfullHeight=t.$el.getBoundingClientRect().height}))}),0)):(this.tableMaxHeight=this.maxHeight,this.layoutTimer=null)}},computed:{isRowHeightAuto:function(){return"auto"===this.rowHeight},tableClass:function(){var e="eff-table__container",t=this.stripe,n=this.heights,a=n.bodyHeight,o=n.dataHeight;return t&&(e+=" is--stripe"),a===o&&(e+=" is-bottom--coincide"),e},tableStyle:function(){var e={},t=this.$scopedSlots.table,n=this.heights;return t&&(e.height=n.tableWrapperHeight+"px"),e},bodyRenderWidth:function(){var e=this.columnIsVirtual,t=this.widths.columnWidths,n=this.columnRenderIndex,a=this.columnRenderEndIndex,o=this.bodyWidth;return e&&a?t.slice(n,a).reduce((function(e,t){return e+t}),0):o},fixedHeight:function(){var e=this.heights,t=this.overflowX,n=e.headerHeight,a=e.bodyHeight,o=e.searchHeight,i=n+a+o;return t&&(i-=17),i+"px"},scrollYwidth:function(){return this.overflowY?17:0},scrollXwidth:function(){return this.overflowX?17:0},isScrollRightEnd:function(){var e=this.bodyWrapperWidth,t=this.scrollLeft,n=this.bodyWidth,a=this.scrollYwidth;return e+t>n+a},headerRanked:function(){function e(e){function t(e,n){return e.reduce((function(e,a){var o,i=a.children;return Array.isArray(i)&&(o=t(i,n+1)),o>e?o:e}),n)}return t(e,1)}return e(this.visibleColumns)},overflowY:function(){var e=this.isRowHeightAuto,t=this.bodyHeight,n=this.scrollXwidth,a=this.heights,o=a.bodyHeight,i=a.tableMaxHeight,r=a.dataHeight,s=e?t:r;return o&&(i?s-2>o:s-2>o-n)},expandsHeight:function(){return this.expands.reduce((function(e,t){return t.expanded?e+t.height:e}),0)},autoHeight:function(){var e=this.tableRect,t=this.height;return Sl.toFixed(e?window.innerHeight-e.top-20:t,2)},rowsHeight:function(){var e=this.rowConfig||{},t=e.rows||[];return t.length?t.reduce((function(e,t){return e+(t.height||30)}),0):0},calcRowHeight:function(){var e=this._rowHeight,t=this.rowsHeight;return e+t},heights:function(){var e=this.height,t=this.isRowHeightAuto,n=this.tableMaxHeight,a=this.autoHeight,o=this.isScreenfull,i=this.screenfullHeight,r=this.afterData,s=this._rowHeight,l=this.baseHeight,c=this.headerRowHeight,u=this.headerRanked,d=this.search,p=this.headerLoad,h=this.bodyLoad,f=this.overflowX,m=this.treeNum,v=this.subtotalData,b=this.expandsHeight,g=this.formHeight,y=this.toolbarHeight,w=this.$EFF.HeaderRowHeight,x=this.calcRowHeight,C=this.$refs,_=C.toolbar,S=C.header,k=C.footer,I=C.footerAction,T=_?y:0,$=p&&S?(36===c&&w||c||l)*u:0,O=d?l:0,j=k?l:0,E=I?l:0,R=t?this.bodyHeight:r.length?r.length*x+(m+v.length)*s+b:s,D=f?17:0,F=o?i:"100%"===e?a:n||e||g+T+$+O+j+E+R,N=h?F-g-T-$-j-E-O:0;(n&&R+D<=N||!e&&!n)&&(N=R+D);var P=F-g-T-j-E;return{formHeight:g,toolbarHeight:T,tableWrapperHeight:P,tableHeight:F,dataHeight:R,tableMaxHeight:n,headerHeight:$,searchHeight:O,footerHeight:j,footerActionHeight:E,bodyHeight:Math.max(N-2,s)}},bodyRect:function(){var e=this.columnIsVirtual,t=this.bodyWrapper;if(!e||!t)return{};var n=t.getBoundingClientRect(),a=n.left,o=n.right,i=this.widths,r=i.leftWidth,s=i.rightWidth;return{bodyLeft:a+r,bodyRight:o+s}}},methods:{getFixedStyle:function(e){var t={},n=this.isVirtual,a=this.rowHeight,o=this.fixedHeight,i=this.bodyWidth,r=this.widths,s=this.scrollYwidth,l=n||"auto"!==a?r[e+"Width"]:i+s;return t.width=l+s+"px",t.height=o,t},getBodyWidth:function(){var e=this.$el;while(e&&e.parentNode&&0===e.getBoundingClientRect().width)e=e.parentNode||this.$el;return e.getBoundingClientRect().width},resize:function(){var e=this;this.$nextTick((function(){var t=e.setOverflowX,n=e.scrollLeft,a=e.scrollTop,o=e.handleScroll,i=(e.isRowHeightAuto,e.$refs.body);i?(e.bodyWrapper=i.$el,e.bodyWrapperWidth=e.getBodyWidth(),t(),o(n+.01,a+.01,"#")):!e.$scopedSlots.table&&e.resize();var r=setTimeout((function(){e.setTableRect(),clearTimeout(r)}),100)}))},setOverflowX:function(){var e=this.bodyWrapperWidth,t=this.scrollYwidth,n=this.minWidth,a=this.widths.allMinWidth;this.bodyWidth=Math.max(e-2,n,a)-t,this.overflowX=n>e-1-t||a>n&&a>e-1-t},doLayout:function(){this.resize()},setTableRect:function(){var e=this.$refs.tableWrapper;e&&(this.tableRect=e.getBoundingClientRect())}},activated:function(){this.resize()},mounted:function(){this.resize()},beforeDestroy:function(){$l(window,"resize",this.resize,{passive:!0}),clearTimeout(this.timer)}},Vl=function(e){return Object.prototype.toString.call(e).match(/ (\w+)]/)[1]},Wl=function(e,t){return Sl.isFunction(e)?e(t):e},zl=function(e){if(e){var t=e.key.toLowerCase(),n=new Set,a=[{key:"alt",down:e["altKey"]},{key:"control",down:e["ctrlKey"]},{key:"shift",down:e["shiftKey"]}];return a.forEach((function(e){e.down&&n.add(e.key.toLowerCase())})),n.add(t),Array.from(n).sort().toString()}console.error("getKeysStr(event) 方法必须传入 event 参数")};function Kl(e){var t=Object.prototype.toString;if(!e||"object"!==i(e))return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if("[object Date]"===t.call(e))return new Date(e.getTime());if("[object RegExp]"===t.call(e)){var n=[];return e.global&&n.push("g"),e.multiline&&n.push("m"),e.ignoreCase&&n.push("i"),new RegExp(e.source,n.join(""))}var a=Array.isArray(e)?[]:e.constructor?new e.constructor:{};for(var o in e)a[o]=Kl(e[o]);return a}var Ql=function(e){var t=e||{},n=t.editable,a=t.edit,o=t.type,i=t.config;i=void 0===i?{}:i;var r=i.name;return!o&&(!0===n||a&&!1!==n)&&"ciphertext"!==r},Ul=function(e,t,n){var a=t.split("."),o=function e(t,a){var o=u(a,2),i=o[0],r=o[1];Sl.isNaN(Number(i))?r?(Sl.isNaN(Number(r))?n.$set(t,i,{}):n.$set(t,i,[]),e(t[i],a.slice(1))):n.$set(t,i,null):(t[i]={},e(t[i],a.slice(1)))};return a.length>1?o(e,a):void 0===e[t]&&n.$set(e,t,null),Promise.resolve(e)},Xl=function(e,t){return t?t.split(".").filter((function(e){return e||0===e})).reduce((function(e,t){return Jl(e[t])?"":e[t]}),e):""},Yl=function(e,t,n){var a=t.split(".");while(a.length>1)e=e[a.shift()];this.$set(e,a[0],n)},Gl=function(e){return Boolean(e&&e.tag&&e.tag.indexOf("vue-component")>-1)},Jl=function(e){return Sl.isArray(e)?!e.length:null===e||void 0===e||""===e},Zl=function(e){return e.reduce((function(e,t){return e[t.fixed||"center"].push(t),e}),{left:[],center:[],right:[]})},ec=function(e){return Object.values(Zl(e)).reduce((function(e,t){return e.concat(t)}),[])};function tc(e,t){return!!e&&t}function nc(e,t){var n=(e.find((function(e){return e.required}))||{required:!1}).required;he.isFunction(n)&&(n=n(t));var a=e.map((function(e){return new Promise((function(a,o){var i=e.validator,r=e.min,s=e.max,l=e.pattern,c=e.message,u=t.id,d=t.prop,p=t.value,h=t.row,f=t.rowIndex,m=t.column,v=t.columnIndex,b=Jl(p);if("function"===typeof i){b&&(t.value="",n||a({id:u,prop:d,message:!1,row:h,rowIndex:f,column:m,columnIndex:v}));var g=i(t);"Promise"===Vl(g)?g.then((function(e){a({id:u,prop:d,message:e,row:h,rowIndex:f,column:m,columnIndex:v})})).catch((function(e){return o(e)})):a({id:u,prop:d,message:g,row:h,rowIndex:f,column:m,columnIndex:v})}else{var y=(""+p).length,w="".concat(r&&s?"长度必须在"+r+"到"+s:r?"长度不能小于"+r:s?"长度不能大于"+s:"","个字符"),x=[{type:"required",rule:function(){return b},message:"不能为空"},{type:"min",rule:function(){return y<Number(r)||y>Number(s)},message:w},{type:"max",rule:function(){return y<Number(r)||y>Number(s)},message:w},{type:"pattern",rule:function(){return!l.test(p)},message:"校验不通过"},{type:"email",rule:function(){return!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(p)},message:"请输入正确的邮箱"},{type:"phone",rule:function(){return!/^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$/.test(p)},message:"请输入正确的手机号"}],C=!1,_=e.required,S=x.find((function(n){return("required"===n.type?he.isFunction(_)?_(t):_:Object.keys(e).includes(n.type))||e.type===n.type}));S&&(C=tc(S.rule(),c||S.message||"校验不通过"),"required"!==S.type&&!n&&b&&(C=!1)),a({id:u,prop:d,message:C,row:h,rowIndex:f,column:m,columnIndex:v})}}))}));return Promise.all(a).then((function(e){return e.find((function(e){return e.message}))||{}}))}function ac(e,t,n){return new Promise((function(a,o){var i=e.reduce((function(e,a){return e.concat(t.reduce((function(e,t){var o=t.prop,i=t.rules,r=void 0===i?[]:i;return o&&r.length?e.concat(n(o,r,a)):e}),[]))}),[]);Promise.all(i).then((function(e){var t=e.filter((function(e){return e.message}));t.length?o(t):a(!0)})).catch((function(e){o(e)}))}))}var oc={data:function(){return{validators:[]}},methods:{validateField:function(e,t,n){var a=this;if(!e)return console.warn("需要校验的字段，必须具有 prop 属性"),Promise.resolve({});var o=this.edit,i=this.columns,r=this.validators,s=this.rowId,l=this.$createElement,c=n[e],u=n[s],d=i.find((function(t){return t.prop===e}))||{},p=d.edit,h=d.editable,f=d.edit||{},m=f.render,v=null;if(v="function"===typeof m?m(l,{row:n,column:d}):m,v&&v.prop&&(c=n[v.prop]),!t){var b=d.rules,g=void 0===b?[]:b;Array.isArray(g)&&(t=g)}return o&&!1!==h&&!1!==p||(t=[]),nc(t,{value:c,row:n,column:d,rowid:u,id:u,prop:e}).then((function(t){var o=r.findIndex((function(t){return t.prop===e&&t.id===n[s]}));return t.message?-1===o?r.push(t):r.splice(o,1,t):o>-1&&r.splice(o,1),a.$emit("validate",t,r),t}))},validate:function(e,t){this.table;var n=this.tableData,a=this.columns,o=this.editStore,i=this.tableTreeConfig;i=void 0===i?{}:i;var r,s=i.children,l=o.insertList,c=o.updateList,u=o.pendingList;r=!0===e?n:e?Array.isArray(e)?e:[e]:t?n:l.concat(c);var p=function e(t){return t.reduce((function(t,n){return u.some((function(e){return e===n}))?t:t.concat([n].concat(d(e(n[s]||[]))))}),[])};return r=p(r),ac(r,a,this.validateField)},clearValidate:function(e){var t=this,n=function(e){var n=t.validators,a=n.findIndex((function(t){return t.prop===e}));a>-1?n.splice(a,1):console.error("clearValidate: 请传入正确的参数")};e?Array.isArray(e)?e.forEach((function(e){n(e)})):n(e):this.validators=[]}}},ic=["desc","asc",""],rc=0,sc={data:function(){return{order:"",customColumns:[],sorts:(this.sortConfig||{}).sorts||[]}},computed:{sortColumns:function(){var e=this.tableColumns,t=this.customColumns;return e.concat(t)}},methods:{sort:function(e,t){var n=this.sortColumns.find((function(t){return t.prop===e}));n.order=t,this.sortChange(n)},toggleSort:function(e){var t=this.sortColumns,n=this.customColumns,a=t.find((function(t){return t.prop===e}));a||(a={prop:e,order:""},n.push(a)),this.handleClickSort(a)},handleClickSort:function(e){var t=e.order||"",n=ic.findIndex((function(e){return e===t}));rc=n+1,e.order=ic[rc%3],rc++,this.sortChange(e)},handleSort:function(e,t){e.order=e.order&&e.order===t?"":t,this.sortChange(e)},clearSort:function(){this.sortColumns.forEach((function(e){e.order=""})),this.customColumns=[],this.sorts=[],this.$emit("sort-change",{})},getSorts:function(e){var t=this;return e.reduce((function(e,n){var a=n.order,o=n.children;return o?e.concat(t.getSorts(o)):a?e.concat([n]):e}),[])},getColumn:function(e){var t=e.split("-");return t.reduce((function(e,t){var n=e,a=n.children;return e=a?a[+t-1]:e[+t-1],e}),this.sortColumns)},sortChange:function(e,t){var n=this.sortConfig;n=void 0===n?{}:n;var a=n.multiple,o=n.remote,i=this.getSorts;if(a||t)this.sorts=i(this.sortColumns),this.$emit("sort-change",this.sorts);else{if(this.sorts.length&&!this.sorts.some((function(t){return t===e}))){var r=this.sorts[0];if(r){var s=r,l=s.columnId;l&&(r=this.getColumn(l)),r.order=""}}this.sorts=e.order?[e]:[],this.$emit("sort-change",this.sorts)}return o&&this.commitProxy("query"),this.$nextTick()}}},lc=100,cc={mounted:function(){var e=this.proxyConfig||{},t=e.request;t&&this.commitProxy("query")},methods:{commitProxy:function(){for(var e=this,t=this.add,n=this.insert,a=this.focus,o=this.triggerPending,i=this.checkoutSelectType,r=this.proxyConfig||{},s=r.request,l=s||{},c=l.query,u=l.delete,d=l.save,p=l.queryTemplate,h=l.saveTemplate,f=l.deleteTemplate,m=arguments.length,v=new Array(m),b=0;b<m;b++)v[b]=arguments[b];var g=v[0],y=[{code:"add",fn:function(){return t()}},{code:"add_focus",fn:function(){return t().then((function(e){return a(e)}))}},{code:"insert",fn:function(){return n()}},{code:"insert_focus",fn:function(){return n().then((function(e){return a(e)}))}},{code:"delete",fn:function(){return e.delete(u)}},{code:"mark_cancel",fn:function(){return o()}},{code:"remove_check_row",fn:function(){return e.removeCheckRow()}},{code:"query",fn:function(){return c&&"function"===typeof c?e.query(c):e.loadTableData()}},{code:"save",fn:function(){return d&&"function"===typeof d&&e.save(d)}},{code:"query_template",fn:function(){return p&&"function"===typeof p&&e.queryTemplate(p)}},{code:"save_template",fn:function(){return h&&"function"===typeof h&&e.saveTemplate(h)}},{code:"delete_template",fn:function(){return f&&"function"===typeof f&&e.deleteTemplate(f)}},{code:"checkout_select_type",fn:function(){return i()}},{code:"refresh",fn:function(){return e.refresh()}}],w=y.find((function(e){return e.code===g}));return w&&w.fn(v)},loadingOpen:function(){this.isLoading=!0},loadingClose:function(){this.isLoading=!1},query:function(e){var t=this;return this.loadingOpen(),this.getList(e).then((function(e){if(e||(e=[]),Array.isArray(e))t.reloadData(e);else{var n=e,a=n.pageNum,o=n.pageSize,i=n.total;t.reloadData(e.list||[]),t.pager&&Object.assign(t.pager,{pageNum:a,pageSize:o,total:i})}t.loadingClose()})).catch((function(e){return t.reloadData([]),t.loadingClose(),e})).finally((function(){t.doLayout()}))},getList:function(e){var t=this.pager,n=this.sorts,a=this.filters,o=this.tForm,r=this.searchForm,s=this.seniorQuery;if("object"===i(e)){var l=Object.assign({},{form:r}),c=n[0];c&&(l.sort=c.prop,l.order=c.order),a.forEach((function(e){var t=e.prop,n=e.values;l[t]=n.join(",")}));var u=e.getMethos,d=e.url;return this.$EFF.request({getMethos:u,url:"".concat(d,"/").concat(t.pageSize,"/").concat(t.pageNum),formData:l})}if("function"===typeof e){var p={};for(var h in o)if(h.indexOf("filter_")<0){var f=o["filter_"+h];p[h]=f&&f.length?f:o[h]}var m=e({page:t,sorts:n,filters:a,form:p,lineForm:r,seniorQuery:s});return"Promise"===Vl(m)?m:new Promise((function(e){return e(m)}))}},removeCheckRow:function(){var e=this;return this.remove(this.checkeds).then((function(t){return e.clearSelection(),t}))},remove:function(e){var t=this,n=this.tableData,a=this.rowId,o=this.editStore,i=this.checkeds,r=o.insertList,s=o.updateList,l=o.pendingList,c=o.removeList,u=[];e=e?Array.isArray(e)?d(e):[e]:Sl.clone(n);var p=null,h=[];return n.length===e.length?(u=n.slice(0),Object.assign(this.editStore,{editRow:{},insertList:[],removeList:this.editStore.removeList.concat(e),updateList:[],pendingList:[]}),this.updateCache(),this.clearSelection()):(h=Sl.clone(n),e.forEach((function(e){var n=e[a];if(c.push(e),i.length){var o=i.findIndex((function(e){return e[a]===n}));o>-1&&i.splice(o,1)}var d=r.indexOf(e);d>-1?r.splice(d,1):(clearTimeout(p),p=setTimeout((function(){t.$message.success("成功删除所选记录!"),clearTimeout(p)}),50));var f=s.findIndex((function(e){return e[a]===n}));f>-1&&s.splice(f,1);var m=l.findIndex((function(e){return e[a]===n}));m>-1&&l.splice(m,1);var v=h.findIndex((function(e){return e[a]===n}));if(v>-1){var b=h.splice(v,1);u.push(b[0])}}))),this.tableData=Object.freeze(h),this.$nextTick().then((function(){return t.resize(),{rows:u}}))},delete:function(e){var t=this,n=this.checkeds,a=n.length;if(a)return this.$confirm("确定要删除所选记录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return"function"===typeof e?(t.isLoading=!0,e({table:t,body:n}).then((function(e){e.success?(t.$message.success("成功删除所选记录!"),t.updateCache(),t.clearSelection(),t.resize(),t.isLoading=!1):t.$message.error(e.message)})).catch((function(e){console.error(e),t.updateCache(),t.clearSelection(),t.resize(),t.isLoading=!1}))):t.removeCheckRow()}));this.$message.warning("请至少选择一条记录！")},checkoutSelectType:function(){this.tableColumns.forEach((function(e){"radio"===e.type?e.type="selection":"selection"===e.type&&(e.type="radio")})),this.clearSelection()},triggerPending:function(){var e=this.checkeds,t=this.rowId,n=e.length;if(n){var a=d(this.editStore.pendingList);e.forEach((function(e){a=a.some((function(t){return t===e}))?a.filter((function(n){return!(n[t]===e[t])})):a.concat(e)}));var o=a.map((function(e){return e[t]}));return this.validators=d(this.validators.filter((function(e){return-1===o.indexOf(e.rowId)}))),this.editStore.pendingList=d(a),this.clearSelection(),this.$nextTick()}this.$message.warning("请至少选择一条记录！")},save:function(e){var t=this,n=this.tableData,a=this.editStore,o=this.rowId,i=this.validate,r=a.insertList,s=a.updateList,l=a.pendingList;if(r.length||s.length||l.length){var c=r.concat(s).reduce((function(e,t){return t=n.find((function(e){return e[o]===t[o]})),t&&!l.some((function(e){return e===t}))?e.concat(t):e}),[]);return i(c).catch((function(e){var a=e[0],i=a.id,r=a.prop,s=n.findIndex((function(e){return e[o]===i}));t.focus(s,r)})).then((function(n){if(n)return t.isLoading=!0,e({body:{insertList:r,updateList:s,pendingList:l}}).then((function(e){t.isLoading=!1,t.$message.success("保存成功！")})).catch((function(e){console.error(e),t.isLoading=!1}))}))}this.$message.info("数据未改动！")},add:function(){return this.insert(null,-1)},insert:function(e,t){var n,a=this,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.checkeds,r=this.columns,s=this.tableData,l=this.rowId,c=this.beforeInsert,u=Sl.clone(s),p=r.reduce((function(e,t){var n=t.type,a=t.prop;if(["expand","selection","radio"].indexOf(n)>-1||!a)return e;var o=t.config,i=void 0===o?{}:o,r=t.edit,s=void 0===r?{}:r,l=Object.assign({},i,s.render),c=l.defaultValue;return e[a]=void 0!==c?c:null,e}),{}),h=!1;Sl.isArray(e)?e=e.map((function(e){return Object.assign({},p,e)})):(e=[Object.assign({},p,e)],h=!0),e.forEach((function(t,n){(!t[l]||u.find((function(e){return e[l]===t[l]}))||e.find((function(e,a){return n!==a&&e[l]===t[l]})))&&a.$set(t,l,"row_id_".concat(++lc))}));var f=i.length;o&&f&&(t=u.findIndex((function(e){return e[l]===i[f-1][l]}))+1);var m=function(){return c(h?e[0]:e,t)};return t?-1===t?(t=u.length,m(),u.push.apply(u,d(e))):(m(),u.splice.apply(u,[t,0].concat(d(e)))):(t=0,m(),u.unshift.apply(u,d(e))),this.tableData=Object.freeze(u),(n=this.editStore.insertList).push.apply(n,d(e)),this.updateCache(),this.resize(),this.$nextTick().then((function(){return t}))},refresh:function(){this.$set(this.pager,"pageNum",1),this.commitProxy("query")},getInsertList:function(){var e=this.rowId,t=this.editStore,n=t.insertList,a=t.pendingList;return n.filter((function(t){return!a.find((function(n){return n[e]===t[e]}))}))},getRemoveList:function(){return this.editStore.removeList},getUpdateList:function(){var e=this.rowId,t=this.editStore,n=t.updateList,a=t.pendingList;return n.filter((function(t){return!a.find((function(n){return n[e]===t[e]}))}))},getPendingList:function(){return this.editStore.pendingList}}},uc={data:function(){return{treeIds:{}}},computed:{treeNum:function(){var e=this.tableData,t=this.rowId,n=this.treeIds,a=this.tableTreeConfig;a=void 0===a?{}:a;var o=a.children,i=0,r=[],s=function(a){var s=n[a];if(s){var l=Sl.findTree(e,(function(e){return"".concat(e[t])==="".concat(a)}),o),c=l.item;c&&!r.find((function(e){return a.startsWith(e)}))&&c[o]&&(i+=c[o].length)}else r.push(a)};for(var l in n)s(l);return i}},methods:{setTreeExpand:function(e){this.$set(this.treeIds,e,!0)},setTreeExpandAll:function(e,t){var n=this;if(Array.isArray(e)){var a=this.tableTreeConfig.children,o=this.treeIds,i=this.rowId;e.forEach((function(e){var r=e[a];n.$set(o,e[i],t),r&&r.length&&n.setTreeExpandAll(r,t)}))}else console.error("setTreeExpandAll方法第一个参数必须是数组")},treeExpandAll:function(){this.setTreeExpandAll(this.tableData||[],!0)},clearTreeExpand:function(){this.setTreeExpandAll(this.tableData||[],!1)},removeTreeExpand:function(e){var t=this,n=this.rowId,a=this.tableData,o=this.tableTreeConfig.children,i=e[n],r=Sl.findTree(a,(function(e){return e[n]===i}),o);if(r){var s=r.path,l=s.length,c=function(e){e&&e.conditionConnector&&Object.assign(e,{conditionConnector:""}),t.tableData=Object.freeze(t.tableData),t.$emit("data-change",{tableData:t.tableData})};1===l?(delete this.treeIds[i],this.remove(e).then((function(){c(t.tableData[0])}))):s.reduce((function(e,n,a){return a===s.length-1?(delete t.treeIds[i],e.splice(n,1),c(e[0]),e):e[n]}),a)}}}},dc={data:function(){return{renderIndex:0,columnRenderIndex:0,columnRenderEndIndex:0,scrollType:"",scrollLeft:0,scrollTop:0,bodyMarginTop:0,bodyMarginLeft:0,scrollList:{},scrolling:!1,scrollTimer:null}},computed:{isVirtual:function(){var e=this.tableData;e=void 0===e?[]:e;var t=e.length,n=this.renderSize,a=this.useExpand,o=this.useGroupColumn,i=this.isSpanMethod,r=this.isRowHeightAuto;return!(r||i||a||o)&&(t>30&&t>n)},renderData:function(){var e=this.isVirtual,t=this.afterData,n=this.renderIndex,a=this.renderSize;return e?t.slice(n,a+n):t},renderSize:function(){var e=this.heights.bodyHeight,t=this.calcRowHeight;return parseInt(e/t+6)},columnVisibleWidth:function(){var e=this.bodyWrapperWidth,t=this.scrollYwidth;return e-t},columnIsVirtual:function(){var e=this.isRowHeightAuto,t=this.useGroupColumn,n=this.useExpand,a=this.bodyWidth,o=this.isSpanMethod,i=this.columnVisibleWidth;return!(e||o||n||t)&&a>2*i},renderColumn:function(){var e=this.columnIsVirtual,t=this.bodyColumns,n=this.columnRenderIndex,a=this.columnRenderEndIndex;return e&&a?t.slice(n,a):t},columnAccWidths:function(){if(this.columnIsVirtual)return this.widths.columnWidths.reduce((function(e,t){return e.num+=t,e.widths.push(e.num),e}),{num:0,widths:[]}).widths},dataAccHeight:function(){var e=this;if(this.isVirtual)return this.tableData.reduce((function(t,n){return t.num+=e.calcRowHeight,t.heights.push(t.num),t}),{num:0,heights:[]}).heights}},watch:{isVirtual:function(e){e||(this.renderIndex=0,this.bodyMarginTop="")},columnIsVirtual:function(e){e||(this.columnRenderIndex=0,this.bodyMarginLeft="")},scrolling:function(e){e&&this.$refs.popovers.tipClose()}},beforeDestroy:function(){this.scrollList=null,this.scrollTimer=null},methods:{handleScroll:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scrollLeft,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scrollTop,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.scrolling=!0,clearTimeout(this.scrollTimer);for(var o=this.scrollList,i=this.isVirtual,r=this.columnIsVirtual,s=this.calcRowHeight,l=function(){var e=u(d[c],2),o=e[0],i=e[1];return o===a?"continue":i?(i.onscroll=null,["","header","footer"].includes(o)&&(i.scrollLeft=t),void(["","left","right"].includes(o)&&(i.scrollTop=n,clearTimeout(i.timer),i.timer=setTimeout((function(){i.onscroll=i._onscroll,clearTimeout(i.timer)}),200)))):"continue"},c=0,d=Object.entries(o);c<d.length;c++)l();if(this.scrollTop!==n&&(this.scrollTop=n,i)){var p=this.dataAccHeight.findIndex((function(e){return e>n}));this.renderIndex=p,this.bodyMarginTop=(p>0?this.dataAccHeight[p-1]:0)+"px",n<s&&(this.renderIndex=0,this.bodyMarginTop="")}if(this.scrollLeft!==t&&(this.scrollLeft=t,r)){var h=this.columnAccWidths,f=this.columnVisibleWidth,m=h.findIndex((function(e){return e>t})),v=h.findIndex((function(e){return e>h[m]+f})),b=v>-1?v:h.length,g=Math.max(m-2,0);this.columnRenderIndex=g,this.columnRenderEndIndex=Math.min(b+2,h.length),this.bodyMarginLeft=(g>0?this.columnAccWidths[g-1]:0)+"px"}this.scrollTimer=setTimeout((function(){e.scrolling=!1,clearTimeout(e.scrollTimer),e.scrollTimer=null}),300)},toScroll:function(e){var t=this.renderSize,n=this.calcRowHeight;return e<t/2?this.scrollTop=0:this.$refs.body.$el.scrollTop=this.scrollTop=(e-t/2)*n,this.$nextTick()},clearScroll:function(){return this.scrollLeft=0,this.scrollTop=0,this.$nextTick()}}},pc={data:function(){return{expands:[],expandSlot:null}},computed:{useExpand:function(){var e=this.visibleColumns,t=this.$slots,n=this.expands;return Boolean(e.find((function(e){return"expand"===e.type}))&&t.expand||n.length)}},mounted:function(){var e=this;this.$nextTick((function(){var t=e.$scopedSlots,n=e.$slots,a=e.scopedSlots,o=a||t||n,i=o.expand;e.expandSlot=i}))},methods:{toggleRowExpand:function(e,t){var n=this,a=this.rowId,o=this.expands,i=e[a],r=o.find((function(e){return e.rowId===i}));r?this.$set(r,"expanded",void 0!==t?t:!r["expanded"]):o.push({rowId:i,height:0,expanded:!0}),this.$nextTick((function(){var e=o.find((function(e){return e.rowId===i})),t=document.querySelector(".expandid-"+i);e&&e.expanded&&t&&(e.height=t.offsetHeight),n.$emit("expand-change",n.expands)}))},getRowExpandRecords:function(){var e=this.tableData,t=this.expands,n=this.rowId;return e.filter((function(e){return t.find((function(t){return t.rowId===e[n]}))}))},isRowExpand:function(e){var t=this.rowId,n=this.expands.find((function(n){return n.rowId===e[t]}));return Boolean(n&&n.expanded)},setRowExpand:function(e,t){var n=this;e.forEach((function(e){n.toggleRowExpand(e,t)}))},setAllRowExpand:function(e){this.setRowExpand(this.tableData,e)},clearRowExpand:function(){this.expands=[]}}},hc={data:function(){return{inRoot:!1,searchShow:!0}},mounted:function(){Tl(window,"mousedown",this.handleWindowMousedown),Tl(window,"keyup",this.handleWindowKeyup),Tl(window,"click",this.handleWindowClick)},beforeDestroy:function(){$l(window,"mousedown",this.handleWindowMousedown),$l(window,"keyup",this.handleWindowKeyup),$l(window,"click",this.handleWindowClick)},methods:{closeEdit:function(){var e=this.$refs.edit;e&&e.close()},closeSelectRange:function(){var e=this.$refs.selectRange;e&&e.close()},rootMouseenter:function(e){this.$emit("table-mouse-enter",{event:e}),this.inRoot=!0},rootMouseleave:function(e){this.$emit("table-mouse-leave",{event:e}),this.inRoot=!1},handleWindowMousedown:function(e){if(this.edit&&this.$refs.edit.handleWindowMousedown(e),this.headerCheckedColumns.length){var t=this.$refs,n=t.header,a=t.leftHeader,o=t.rightHeader,i=[n,a,o];i.forEach((function(t){t&&t.handleWindowMousedown(e)}))}},handleWindowKeyup:function(e){var t=zl(e);this.edit&&this.$refs.edit.handleWindowKeyup(e,t),this.inRoot&&this.search&&"b,control"===t&&(this.searchShow=!this.searchShow,!1===this.searchShow&&(this.clearSearch(),this.searchChange([])))},handleWindowClick:function(e){var t=e.target;if(this.edit){var n=this.$refs,a=n.edit,o=n.popovers,i=n.body,r=n.leftBody,s=n.rightBody;[i,r,s].find((function(e){return e&&e.$el.querySelector(".eff-table__body").contains(t)}))||a.$el.contains(t)||o.$refs.editPopover.$el.contains(t)||a.show&&this.closeEdit()}(this.selectRange||this.copy)&&(!document.contains(t)||this.$refs.body.$el.querySelector(".eff-table__body").contains(t)||this.$refs.header.$el.querySelector(".eff-table__header").contains(t)&&(!this.$refs.header.$el.querySelector(".eff-table__header").contains(t)||this.headerCheckedColumns.length)||this.closeSelectRange());var l=document.getElementById(this.tableId+"filter");!this.useFilter||l.contains(t)||jl(t,"eff-icon-filter")||this.$refs.filter.filterTipClose()}}},fc={data:function(){return{tForm:{}}},methods:{clearForm:function(e){this.$refs.tableForm.clear(e)},setFormFiled:function(e,t){this.$set(this.tForm,e,t)},setForm:function(e){this.$refs.tableForm.setForm(e)}}},mc={name:"Checkbox",props:{value:Boolean,indeterminate:Boolean,disabled:Boolean,checked:Boolean,rowid:{type:[String,Number],default:""},label:{type:[String,Number],default:""},labelWidth:{type:Number,default:0}},inject:{transferPanel:{default:null},table:{default:null}},data:function(){return{isChecked:this.value}},watch:{value:function(e){this.isChecked=e},disabled:{handler:function(e){var t=this.table,n=this.rowid;if(t&&n)if(e)t.disableds.includes(n)||t.disableds.push(n);else if(t.disableds.includes(n)){var a=t.disableds.findIndex((function(e){return e===n}));a>-1&&t.disableds.splice(a,1)}},immediate:!0}},methods:{handleChange:function(){this.disabled||(this.isChecked=!this.isChecked,this.$emit("input",this.isChecked),this.$emit("change",this.isChecked))},handleMouseenter:function(e){var t=this.transferPanel,n=this.label,a=this.labelWidth,o=e.target;o&&ql(o)>a&&t.tipShow({reference:o,effect:"dark",message:n,isFixed:!0})},handleMouseleave:function(){this.transferPanel.tipClose()}},render:function(e){var t=this.disabled,n=this.isChecked,a=this.indeterminate,o=this.label,i=this.labelWidth,r=this.transferPanel,s=this.handleChange,l=this.handleMouseenter,c=this.handleMouseleave,u=this.$slots,d=u.default||o,p={},h={};return i&&(p.width=i+"px",r&&(h={mouseenter:l,mouseleave:c})),e("div",{class:{"eff-table__checkbox":!0,"is--disabled":t,"is-checked":n,"is-indeterminate":a},on:{click:s}},[e("span",{class:"eff-table__checkbox-icon"}),d?e("span",{ref:"label",class:"eff-table__checkbox-label",style:p,on:h},d):""])}};function vc(e,t,n,a,o,i,r,s,l,c){"boolean"!==typeof r&&(l=s,s=r,r=!1);const u="function"===typeof n?n.options:n;let d;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),a&&(u._scopeId=a),i?(d=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=d):t&&(d=r?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),d)if(u.functional){const e=u.render;u.render=function(t,n){return d.call(n),e(t,n)}}else{const e=u.beforeCreate;u.beforeCreate=e?[].concat(e,d):[d]}return n}var bc=mc,gc=void 0,yc=void 0,wc=void 0,xc=void 0,Cc=vc({},gc,bc,yc,xc,wc,!1,void 0,void 0,void 0);Cc.install=function(e){e.component(Cc.name,Cc)};var _c={functional:!0,render:function(e,t){var n=t.data;return n.class=["eff-icon-fixed",n.class,n.staticClass],e("span",n,[e("span",{class:"eff-icon-fixed__item"})])}},Sc={functional:!0,render:function(e,t){var n=t.data;return n.class=["eff-icon-clear-search",n.class,n.staticClass],e("span",n,[e("span",{class:"eff-icon-clear-search-container"},[e("span",{class:"eff-icon-clear-search--top"}),e("span",{class:"eff-icon-clear-search--center"}),e("span",{class:"eff-icon-clear-search--bottom"})])])}},kc={functional:!0,render:function(e,t){var n=t.data;return n.class=["eff-icon-drag",n.class,n.staticClass],e("span",n,[e("span",{class:"eff-icon-drag__stub"})])}},Ic={name:"ColumnBatchCtrl",functional:!0,render:function(e,t){var n=t.data;return n.class=["eff-icon-batch-control",n.class,n.staticClass],e("span",n,[e("span"),e("span")])}},Tc={functional:!0,render:function(e,t){var n=t.data;return n.class=["eff-icon-column-ctrl",n.class,n.staticClass],e("span",n,[e("span",{class:"eff-icon-column-ctrl__front"}),e("span",{class:"eff-icon-column-ctrl__end"})])}},$c={functional:!0,render:function(e,t){var n=t.data;return n.class=["eff-icon-subtotal",n.class,n.staticClass],e("span",n,[e("span",{class:"eff-icon-subtotal-container"},[e("span",{class:"eff-icon-subtotal-plus"}),e("span",{class:"eff-icon-subtotal-line"}),e("span",{class:"eff-icon-subtotal-equal"})])])}},Oc={functional:!0,render:function(e,t){var n=t.data;return n.class=["eff-icon-eye",n.class,n.staticClass],e("span",n,[e("span",{class:"eff-icon-eye__box"},[e("span",{class:"eff-icon-eye__top"}),e("span",{class:"eff-icon-eye__bottom"})])])}},jc={name:"Delete",functional:!0,render:function(e,t){var n=t.data;return n.class=["eff-icon-delete",n.class,n.staticClass],e("span",n,[e("span",{class:"eff-icon-delete-top"}),e("span",{class:"eff-icon-delete-bottom"})])}},Ec={functional:!0,render:function(e,t){var n=t.data;return n.class=["eff-icon-refresh",n.class,n.staticClass],e("div",n,[e("span",{class:"eff-icon-refresh-icon"},[e("span",{class:"eff-icon-refresh-blank"}),e("span",{class:"eff-icon-refresh-round"})]),e("span",{class:"eff-icon-refresh-icon symmetry"},[e("span",{class:"eff-icon-refresh-blank"}),e("span",{class:"eff-icon-refresh-round"})])])}},Rc={functional:!0,render:function(e,t){var n=t.data;return n.class=["eff-icon-replace",n.class,n.staticClass],e("span",n,[e("span",{class:"eff-icon-replace-icon"},[e("span",{class:"eff-icon-replace-round"}),e("span",{class:"eff-icon-replace-range"})]),e("span",{class:"eff-icon-replace-icon symmetry"},[e("span",{class:"eff-icon-replace-round"}),e("span",{class:"eff-icon-replace-range"})])])}},Dc={functional:!0,render:function(e,t){var n=t.data;return n.class=["eff-icon-query",n.class,n.staticClass],e("span",n,[e("span",{class:"eff-icon-query-round"}),e("span",{class:"eff-icon-query-line"})])}},Fc={name:"Icon",functional:!0,components:{Fixed:_c,SearchClear:Sc,RowDrag:kc,ColumnCtrl:Tc,ColumnBatchCtrl:Ic,Subtotal:$c,Eye:Oc,Deleted:jc,Refresh:Ec,Replace:Rc,Query:Dc},props:{icon:{type:String,default:"like"}},render:function(e,t){var n=t.props,a=t.data,o=n.icon,i={fixed:_c,"clear-search":Sc,"row-drag":kc,"column-ctrl":Tc,"column-batch-ctrl":Ic,subtotal:$c,eye:Oc,delete:jc,refresh:Ec,replace:Rc,query:Dc};return i[o]?e(i[o],a):(a.class=["eff-icon-"+("like"===o?"search":o),a.class,a.staticClass],e("i",a))},install:function(e){e.component(Fc.name,Fc)}},Nc={name:"TableHeaderColumn",props:{column:{type:Object,default:function(){}},columnIndex:{type:Number,default:0},bodyColumnIndex:{type:Number,default:0},colid:{type:String,default:""},isLastColumn:Boolean,isChecked:Boolean},inject:["table"],functional:!0,render:function(e,t){var n=t.props,a=t.data,o=t.injections,i=o.table,r=i.drag,s=i.edit,l=i.tableId,c=i.isSpanMethod,u=i.tableData,p=i.checkboxConfig,h=i.border,f=i.tableColumnConfig,m=n.column,v=n.columnIndex,b=n.bodyColumnIndex,g=n.colid,y=n.isChecked,w=n.isLastColumn,x=m.sortable,C=m.title,_=m.titleSort,S=m.titlePrefix,k=m.titleSuffix,I=m.type,T=m.rules,$=void 0===T?[]:T,O=m.headerAlign,j=m.titleRender,E=x&&(f.titleSort||_),R=S||{},D=R.icon,F=void 0===D?"question":D,N=k||{},P=N.icon,M=void 0===P?"question":P,q="header-column-".concat(l,"-").concat(g),L=Boolean($.find((function(e){return e.required}))),A={},B=i.getColumnWidth(m);A.flex="0 0 ".concat(B,"px"),A["--width"]=B+"px";var H=m.titleClassName,V=m.drag,W=m.edit,z=m.fixed,K=m.prop,Q=m.filter,U=m.filters,X="eff-table__column";h&&(X+=" is--border"),0===b&&(X+=" is--start"),O&&(X+=" is--align-".concat(O||"left")),H&&(X+=" ".concat(H)),W&&(X+=" col-edit");var Y=r&&!1!==V;z&&Y&&(X+=" col-fixed",!1!==V&&K||(X+=" fixed-hidden")),!Y||z||c||(X+=" col-drag"),I&&(X+=" col-"+I),y&&(X+=" is--checked"),i.isTypeColumn(m)&&(X+=" is--type-column"),w&&(X+=" is--last-column");var G=function(e){var t=i.sorts.find((function(e){return[e].some((function(e){return e===m}))}));return t&&t.order===e},J=function(e){return!1===(p||{}).showHeader?"":e(Cc,{props:{value:i.selectionAll,indeterminate:i.indeterminate,disabled:!i.tableData.length},key:v,on:{change:i.allselectionChange}})},Z=function(){var e=document.getElementById(q),t=e.querySelector(".eff-cell--title");e&&(!e.classList.contains("eff-cell")&&e.childNodes.length||Ll(t)&&i.$refs.popovers.tipShow({reference:e.parentNode,effect:"dark",message:t.innerText}))},ee=function(){i.$refs.popovers.tipClose()};Q&&(i.useFilter=!0);var te,ne=i.tableId+g+"filter",ae=function(){var e=document.getElementById(ne),t=[];U?t=U.map((function(e){var t=e.label,n=e.value;return n&&t?e:null})):(t=d(new Set(u.map((function(e){return Xl(e,K)})))).map((function(e){var t=e.toString();return t?{label:t,value:t,checked:!1}:null})),m.filters=t.filter((function(e){return e})),i.tableColumns=d(i.tableColumns)),i.$refs.filter.toggleTipShow({reference:e,showAllways:!0,placement:"bottom",column:m})};try{te="expand"===I?"":j?j(e,{title:C,column:m,columnIndex:v}):"selection"===I?J(e):"index"===I?C||"#":C}catch(ie){te=C,console.error(ie)}var oe=function(t,n){var a=t||{},o=a.message;return o?e("help",{class:"eff-cell--title-help",props:{effect:"dark",message:o}},[e(Fc,{props:{icon:n}})]):""};return e("div",Sl.merge(a,{key:g,class:X,style:A,attrs:{"data-colid":g,"data-colidx":v},on:{mouseenter:function(e){return Z()},mouseleave:function(e){return ee()}}}),[e("div",{attrs:{id:q},class:{"eff-cell":!0,sortable:x}},[L?e("i",{class:"eff-cell--required"}):"",s&&Ql(m)?e("i",{class:"eff-icon-edit",attrs:{title:"可编辑列"}}):"",Sl.isFunction(S)?S(e,{column:m,title:C,prop:K}):oe(S,F),e("span",{class:["eff-cell--title",E&&"is--cursor"],on:{click:function(){return E&&!j&&i.handleClickSort(m)}}},[te]),Sl.isFunction(k)?k({column:m,title:C,prop:K}):oe(k,M),x?e("span",{class:"eff-cell--sort"},[e("i",{class:{"eff-cell--sort-asc":!0,"is--active":G("asc")},on:{click:function(){return i.handleSort(m,"asc")}}}),e("i",{class:{"eff-cell--sort-desc":!0,"is--active":G("desc")},on:{click:function(){return i.handleSort(m,"desc")}}})]):"",Q?e("icon",{attrs:{id:ne,icon:"filter"},style:{color:Q&&(m.filters||[]).find((function(e){return e.checked}))?"#409eff":""},on:{click:ae}}):""])])}},Pc={name:"Popover",props:{effect:{type:[String,Object],default:"light"},data:{type:[String,Object,Array],default:""},placement:{type:String,default:"top"},borderColor:{type:String,default:"#ddd"},popoverClass:{type:String,default:""},trigger:{type:String,default:"hover"},reference:HTMLElement,message:{type:[String,Array],default:""},enterable:Boolean,hideDelay:{type:Number,default:200},offset:{type:Number,default:0},vslot:{type:[Object,Array],default:function(){}},addToBody:Boolean,isFixed:Boolean,showAlways:Boolean,disabled:Boolean},data:function(){return{show:!1,addedBody:!1,momentPlacement:this.placement,arrowStyle:{left:null}}},computed:{isVisible:function(){var e=this.showAlways,t=this.show,n=this.disabled,a=this.message,o=this.$slots,i=this.vslot;return(e||t)&&!n&&(i||a||o.default)},pClass:function(){var e=this.effect,t=this.momentPlacement,n=this.popoverClass,a=this.isFixed,o=this.isVisible;return"".concat(e?"is-".concat(e):"is-light","  eff-table__popover-").concat(t," ").concat(n," ").concat(o?"eff-table__popover--visible":"eff-table__popover--hidden"," ").concat(a?"is--fixed":"")},popoverStyle:function(){var e=this.effect,t={"--borderColor":"#ddd","--bgColor":"#fff","--color":"#303133"};if(!e)return t;if("string"===typeof e)switch(e){case"light":t["--borderColor"]="#ddd",t["--bgColor"]="#fff",t["--color"]="#303133";break;case"dark":t["--borderColor"]="#303133",t["--bgColor"]="#303133",t["--color"]="#fff";break;case"info":t["--borderColor"]="#e6a23c",t["--bgColor"]="#e6a23c",t["--color"]="#fff";break;case"error":t["--borderColor"]="#f56c6c",t["--bgColor"]="#f56c6c",t["--color"]="#fff";break;default:t["--borderColor"]=e,t["--bgColor"]=e,t["--color"]="#fff";break}else"object"===i(e)?Array.isArray(e)?console.error("effect 只能是对象或字符串"):(t["--borderColor"]=e.borderColor?e.borderColor:"#ddd",t["--bgColor"]=e.backgroundColor?e.backgroundColor:"#fff",t["--color"]=e.color?e.color:"#303133"):console.error("effect 只能是对象或字符串");return t}},watch:{showAlways:function(e){e&&(this.timer=setTimeout(this.calculateCoordinate,0))},show:function(e){var t=this;this.timer=e?setTimeout((function(){t.popoverAddedBody(),t.calculateCoordinate()}),0):null},placement:function(e){this.momentPlacement=e}},inject:{table:{default:null},form:{default:null},transferPanel:{default:null}},mounted:function(){},beforeDestroy:function(){this.addedBody&&Fl(this,"popover"),this.addedBody=!1,this.timer=null,this.timeoutPending=null},methods:{popoverAddedBody:function(){var e=this.addToBody,t=this.addedBody,n=this.show,a=this.$el;!t&&n&&(e&&document.body.appendChild(a),this.addedBody=!0)},doShow:function(){var e=this.timeoutPending;e?(clearTimeout(e),this.show=!0):this.show=!0},doHide:function(){var e=this;this.enterable?this.timeoutPending=setTimeout((function(){e.show=!1}),this.hideDelay):this.show=!1},mouseenterWrap:function(){var e=this.enterable,t=this.timeoutPending;e?clearTimeout(t):this.show=!0},mouseleaveWrap:function(){var e=this;this.enterable?this.timeoutPending=setTimeout((function(){e.show=!1}),200):this.show=!1},calculateCoordinate:function(){var e=this.addedBody,t=this.$el,n=this.reference,a=this.isFixed,o=this.table,i=this.form,r=this.transferPanel,s=this.offset,l=this.popoverAddedBody,c=this.changeDirection;!e&&l();var u,d=t,p=Dl(n),h=Dl(d);c(h,p,d);var f=p.centerX-h.width/2;switch(this.momentPlacement){case"top":u=p.top-h.height-10+s;break;case"bottom":u=p.bottom+10-s;break;default:console.error("Wrong placement must top/bottom");break}var m=Dl((r||i||o).$el),v=m.left,b=m.top;!a&&(f-=v),d.style.left=f+"px",d.style.top=u-(a?0:b)+"px",this.arrowStyle.left=h.width/2-2+"px"},changeDirection:function(e,t,n){var a=t.bottom+e.height+5;switch(this.placement){case"top":t.top-e.height-5<10?this.momentPlacement="bottom":this.momentPlacement="top";break;case"bottom":window.innerHeight-a<10?this.momentPlacement="top":this.momentPlacement="bottom";break}}},render:function(e){var t=this.pClass,n=this.popoverStyle,a=this.mouseenterWrap,o=this.mouseleaveWrap,i=this.$slots,r=this.message,s=this.vslot,l=this.arrowStyle;return e("transition",{attrs:{name:"effFade"}},[e("div",{ref:"popover",class:"eff-table__popover "+t,style:n,on:{mouseenter:a,mouseleave:o}},[s||i.default||(Array.isArray(r)?r:[{message:r}]).map((function(t,n){return e("div",{key:n,class:"eff-table__popover-item is--".concat(t.type)},[Sl.isArray(t.message)?t.message.map((function(t){return e("div",[t])})):t.message])})),e("div",{ref:"arrow",style:l,class:"eff-table__popover-arrow"})])])},install:function(e){e.component(Pc.name,Pc)}},Mc={name:"Operator",props:{type:{type:String,default:"like"},data:{type:Array,default:function(){return[]}}},data:function(){return{active:this.type}},watch:{type:function(e){this.active=e}},methods:{typeChange:function(e){this.active=e,this.$emit("change",e)}}},qc=Mc,Lc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"eff-operator"},e._l(e.data,(function(t,a){return n("div",{key:a,staticClass:"eff-operator-item",class:{"is--active":t.type===e.active&&"like"!==t.type},on:{click:function(n){return e.typeChange(t.type)}}},[n("div",{staticClass:"eff-operator-icon"},[e._v(e._s(t.label))])])})),0)},Ac=[];Lc._withStripped=!0;var Bc=void 0,Hc=void 0,Vc=void 0,Wc=!1,zc=vc({render:Lc,staticRenderFns:Ac},Bc,qc,Hc,Wc,Vc,!1,void 0,void 0,void 0),Kc={props:{value:{type:[String,Number,Array],default:""}},data:function(){return{form:{start:"",end:""},show:!1,style:{}}},computed:{date:{get:function(){return this.getValue()},set:function(e){this.$emit("input",e)}}},methods:{getValue:function(){var e=this.value;if(!e)return"";if(Array.isArray(e)){var t=u(e,2),n=t[0],a=t[1];return n&&a?"".concat(n," - ").concat(a):[]}return e},handleInput:function(e){this.data=e.target.value,this.$emit("input",this.data)},handleChange:function(e){this.data=e.target.value,this.$emit("change",this.data)},blur:function(){this.$refs.input.blur()},focus:function(){this.$refs.input.focus()}}},Qc=Kc,Uc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("input",{directives:[{name:"model",rawName:"v-model",value:e.date,expression:"date"}],ref:"input",staticClass:"eff-search--input",attrs:{placeholder:"请输入"},domProps:{value:e.date},on:{input:[function(t){t.target.composing||(e.date=t.target.value)},e.handleInput],focus:function(t){return e.$emit("focus")},blur:function(t){return e.$emit("blur")},change:e.handleChange}})},Xc=[];Uc._withStripped=!0;var Yc=void 0,Gc=void 0,Jc=void 0,Zc=!1,eu=vc({render:Uc,staticRenderFns:Xc},Yc,Qc,Gc,Zc,Jc,!1,void 0,void 0,void 0),tu={components:{EffInput:eu},props:{value:{type:[Array,String],default:function(){return[]}},column:{type:Object,default:function(){}}},data:function(){return{curValue:this.value,form:{start:"",end:""},show:!1,style:{}}},watch:{show:function(e){this.$emit(e?"show":"close",this.column)},value:function(e){this.curValue=e}},inject:["table"],mounted:function(){Tl(window,"mousedown",this.windowHandleMousedown)},beforeDestroy:function(){$l(window,"mousedown",this.windowHandleMousedown)},methods:{handleFocus:function(){var e=this.$refs,t=e.input,n=e.start,a=t.$el.getBoundingClientRect(),o=a.left,i=a.top,r=a.width;this.style={left:o+"px",top:i+"px",width:r+"px"},this.show=!0,n.focus()},change:function(){var e=this.form,t=e.start,n=e.end;t&&(t=t.replace(/[a-zA-Z]/,"")),n&&(n=n.replace(/[a-zA-Z]/,"")),this.curValue=t&&n?[t,n]:[],this.$emit("change",this.curValue)},windowHandleMousedown:function(e){this.$el.contains(e.target)||(this.show=!1,this.$refs.input.blur())},reset:function(){this.form={start:"",end:""},this.change()},clear:function(){var e=this.column,t=this.prop,n=this.table,a=this.reset;n.$emit("search-clear-filed",{column:e,prop:t}),a()}}},nu=tu,au=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"eff-search__range"},[n("EffInput",{ref:"input",attrs:{placeholder:"开始"},on:{focus:e.handleFocus},model:{value:e.curValue,callback:function(t){e.curValue=t},expression:"curValue"}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"range",staticClass:"eff-search__range-wrapper",style:e.style},[n("EffInput",{ref:"start",attrs:{placeholder:"开始"},on:{change:e.change},model:{value:e.form.start,callback:function(t){e.$set(e.form,"start",t)},expression:"form.start"}}),e._v(" "),n("EffInput",{attrs:{placeholder:"结束"},on:{change:e.change},model:{value:e.form.end,callback:function(t){e.$set(e.form,"end",t)},expression:"form.end"}})],1),e._v(" "),e.form.start&&e.form.end?n("i",{staticClass:"eff-icon--close",on:{click:e.clear}}):e._e()],1)},ou=[];au._withStripped=!0;var iu=void 0,ru=void 0,su=void 0,lu=!1,cu=vc({render:au,staticRenderFns:ou},iu,nu,ru,lu,su,!1,void 0,void 0,void 0),uu={input:"el-input","input-number":"el-input-number",textarea:"el-textarea",select:"el-select",option:"el-option","date-picker":"el-date-picker",button:"el-button",link:"el-link",tag:"el-tag",image:"el-image",popover:"el-popover",tooltip:"el-tooltip",dropdown:"el-dropdown",dialog:"el-dialog",switch:"el-switch",checkbox:"el-checkbox","checkbox-group":"el-checkbox-group",pagination:"el-pagination",radio:"el-radio","radio-group":"el-radio-group",cascader:"el-cascader",popup:"popup",help:"help",layout:"layout",panel:"panel",form:"v-form","form-item":"v-form-item",ciphertext:"ciphertext"},du={get:function(e){var t=uu[e];return t||console.warn("[".concat(e,"] 该组件没有在映射表注册")),t||e}};function pu(e,t,n,a){if(t){var o=Sl.clone(t);if(o.on&&(o.on=vu({},o.on,n)),Gl(o))return o;if(Sl.isFunction(o))return pu(e,o(e,n),n);if(Sl.isArray(o))return o.map((function(t,a){return pu(e,t,n,a)}));if(Sl.isObject(o)){var i=o.children,r=pu(e,i,n),s=Object.assign({},o,{key:a,children:r});return fu(e,s,n).render()}return o}}var hu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,e);var o=n.children;this.h=t,this.params=a,this.opts=n,this.children=pu(t,o,a)}return l(e,[{key:"mergeOpts",value:function(e){for(var t in e){var n=e[t];this.opts[t]=Object.assign({},this.opts[t],n)}return this}},{key:"setOpts",value:function(e,t){return this.opts[e]=t,this}},{key:"set",value:function(e,t){return this[e]=t,this}},{key:"render",value:function(){var e=this.h,t=this.opts,n=this.params,a=this.children,o=t.name,i=t.tag,r=t.defaultSlot,s=t.disabled,l=t.help,c=t.autoWidth,u=n.vue,d=void 0===u?{}:u,p=d&&d.$EFF||{},h=p.renderMap,f=void 0===h?{}:h;s&&(t.props.disabled=Boolean(Sl.isFunction(s)?s(n):s)),c&&(t.directives=[{name:"auto-width"}]);var m=e(i||f[o]||du.get(o),t,[a,r]),v=e("Help",{props:l},[m]);return l?v:m}}]),e}();function fu(e,t,n){n&&"function"===typeof n._beforeRender_&&n._beforeRender_(t,e);var a=t.props;return a&&"function"===typeof a&&(t.props=a(n)),new hu(e,t,n)}var mu=null;function vu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("object"!==i(e))return t;var a=Object.assign({},e,t),o=function(o){a[o]=function(){for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];t[o]&&t[o].apply(t,i.concat([n])),e[o]&&e[o].apply(e,i.concat([n]))}};for(var r in a)o(r);return a}function bu(e,t){var n=e.options,a=e.props,o=void 0===a?{}:a,i=n||o.options||[],r="function"===typeof i?i(t):i;return(Array.isArray(r)?r:[r]).filter((function(e){return e})).slice(0,1e3)}function gu(e,t,n,a){var o=t.label,i=void 0===o?"label":o,r=t.value,s=void 0===r?"value":r;return bu(t,n).map((function(t){return e(du.get(a),{key:t.value,props:{label:t[i],value:t[s],disabled:Boolean(t.disabled)}})}))}function yu(e,t,n){var a=vu(t.on,{},n);return fu(e,t,n).mergeOpts({on:a}).render()}function wu(e,t,n){var a=n||{},o=a.data,i=a.prop;return Xl(o,i)}function xu(e,t,n){var a=n.vue,o=n.root,i=n.data,r=n.table,s=n.row,l=n.column,c=n.prop,u=n.searchChange,d=n.rowIndex,p=n.columnIndex;if(!i||!c)return yu(e,t,n);var h={value:Xl(i,c)},f=t.props||{},m=f.placeholder,v={placeholder:m||Wl(l.title,r||i)||"请输入"};n.row&&(mu=null===mu?n.row[n.fieldProp]:mu);var b={oldData:mu,row:s,columnIndex:p,rowIndex:d},g=vu(t.on,{input:function(e){Yl.call(a,i,c,e),r&&["radio","switch","radio-group","checkbox","checkbox-group"].indexOf(t.name)>-1&&r.editField([{row:s,rowIndex:d,columnIndex:p,content:e}])},change:function(e){u&&u(e)},blur:function(e){mu=null},"visible-change":function(e,t){o.setEditStop(e)}},b);return fu(e,t,n).mergeOpts({props:h,attrs:v,on:g}).render()}function Cu(e,t,n){var a=n.vue,o=n.data,i=n.prop,r={value:Xl(o,i)||null,type:"textarea"};n.row&&(mu=null===mu?n.row[n.prop]:mu);var s={oldData:mu,row:n.row,columnIndex:n.columnIndex,rowIndex:n.rowIndex},l=vu(t.on,{input:function(e){Yl.call(a,o,i,e)},blur:function(e){mu=null}},s);return fu(e,t,n).setOpts("name","input").mergeOpts({props:r,on:l}).render()}function _u(e,t,n){try{var a=t||{},o=a.props,i=n||{},r=i.data,s=i.prop,l=Xl(r,s),c=o||{},u=c.labelKey,d=void 0===u?"label":u,p=c.valueKey,h=void 0===p?"value":p,f=function(e){var a=bu(t,n).find((function(t){return!Jl(t[h])&&""+t[h]===""+e}))||{};return a[d]||e};return Sl.isArray(l)?l.reduce((function(e,t){return e?e+"，"+f(t):f(t)}),""):f(l)}catch(m){console.error(m)}}function Su(e,t,n,a){var i,r=t.props,s=void 0===r?{}:r,l=n.vue,u=n.data,d=void 0===u?{}:u,p=n.root,h=n.column,f=n.prop,m=n.searchChange,v=o({value:void 0===d[f]?null:Xl(d,f),placeholder:s.placeholder||Wl(h.title,d)||"请选择"},s),b=v.multiple,g=(i={},c(i,b?"change":"input",(function(e){Yl.call(l,d,f,e),m&&m(e)})),c(i,"blur",(function(e){mu=null})),i);a&&(Object.assign(v,{filterable:!0,clearable:!0}),"edit"===a&&(Object.assign(v,{automaticDropdown:!0,defaultFirstOption:!0}),Object.assign(g,{"visible-change":function(e,t){p.setEditStop(e)}}))),n.row&&(mu=null===mu?n.row[n.prop]:mu);var y={oldData:mu,row:n.row,columnIndex:n.columnIndex,rowIndex:n.rowIndex},w=vu(t.on,g,y),x=gu(e,t,n,"option");return fu(e,t,n).mergeOpts({props:v,on:w}).set("children",x).render()}function ku(e,t,n){return Su(e,t,n,"search")}function Iu(e,t,n){return Su(e,t,n,"edit")}function Tu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=t.props,o=void 0===a?{}:a,i=o.type,r=o.format||("datetime"===i?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd"),s=n.row,l=n.prop,c=s&&l&&s[l]||"";if(Sl.isArray(c)){var d=u(c,2),p=d[0],h=d[1];return[Sl.toDateString(p,r),"~",Sl.toDateString(h,r)]}return Sl.toDateString(c,r)}function $u(e,t,n,a){var o=n.vue,i=n.root,r=n.data,s=n.prop,l=n.searchChange,c=t.props,u=void 0===c?{}:c,d=u["value-format"]||u["valueFormat"]||"yyyy-MM-dd",p={value:Sl.toDateString(Xl(r,s),d)},h={input:function(e){Yl.call(o,r,s,e),l&&l(e)},blur:function(e){mu=null}};a&&("search"===a?Object.assign(p,{type:"daterange"}):"edit"===a&&Object.assign(h,{focus:function(){return i.setEditStop(!0)},blur:function(){return i.setEditStop(!1)}})),n.row&&(mu=null===mu?n.row[n.prop]:mu);var f={oldData:mu,row:n.row,columnIndex:n.columnIndex,rowIndex:n.rowIndex},m=vu(t.on,h,f);return fu(e,t,n).mergeOpts({props:p,on:m}).render()}function Ou(e,t,n){return $u(e,t,n,"edit")}function ju(e,t,n){return $u(e,t,n,"search")}function Eu(e,t,n){var a=n.data,o=n.prop,i=t.props,r=void 0===i?{}:i,s={type:r.type||"primary"};return fu(e,t,n).mergeOpts({props:s}).set("children",Xl(a,o)).render()}function Ru(e,t,n){var a=n.data,o=n.prop,i={src:Xl(a,o)};return fu(e,t,n).mergeOpts({props:i}).render()}function Du(e,t,n){var a=t.props,o=void 0===a?{}:a,i={palcement:o.palcement||"top"};return fu(e,t,n).mergeOpts({props:i}).render()}function Fu(e,t,n){var a={addToBody:!1,palcement:"bottom"};return fu(e,t,n).mergeOpts({props:a}).render()}function Nu(e,t,n){var a=t.children,o=t.on;o=void 0===o?{}:o;var i=o.save,r=n.root,s=n.column,l=n.edit,c={visible:l.dialogVisible,modal:!1,title:Wl(s.title,m),addendToBody:!0};function u(){i&&i(),d()}function d(){l.dialogVisible=!1,r.setEditStop(!1)}l.dialogVisible&&r.setEditStop(!0);var p=vu(t.on,{close:d}),h=[pu(e,a,n),e("span",{slot:"footer"},[fu(e,{name:"button",key:"cancel",children:"取 消",on:{click:d}},n).render(),fu(e,{name:"button",key:"submit",props:{type:"primary"},children:"确 定",on:{click:u}},n).render()])],f=e("div",{attrs:{class:"eff-modal"},style:{display:l.dialogVisible?"block":"none"}}),m=n.data,v=n.prop;return[e("div",{attrs:{class:"eff-table__popup"}},Xl(m,v)),fu(e,t,n).mergeOpts({props:c,on:p}).set("children",h).render(),f]}function Pu(e,t,n){var a={};return fu(e,t,n).mergeOpts({props:a}).render()}function Mu(e,t,n){var a=n.vue,o=n.table,i=n.row,r=n.rowIndex,s=n.columnIndex,l=n.data,c=n.prop,u="boolean"===typeof Xl(l,c),d={value:u?Xl(l,c):""+Xl(l,c),activeValue:!!u||"1",inactiveValue:!u&&"0"};n.row&&(mu=null===mu?n.row[n.prop]:mu);var p={oldData:mu,row:i,columnIndex:s,rowIndex:r},h=vu(t.on,{input:function(e){Yl.call(a,l,c,u?e:""+e)},change:function(e){o&&["radio","switch","radio-group","checkbox","checkbox-group"].indexOf(t.name)>-1&&o.editField([{row:i,rowIndex:r,columnIndex:s,content:e}])},blur:function(e){mu=null}},p);return fu(e,t,n).mergeOpts({props:d}).setOpts("on",h).render()}function qu(e,t,n){var a=Object.assign({options:[{value:"1",label:"开"},{value:"0",label:"关"}]},t,{name:"select"});return Iu(e,a,n)}function Lu(e,t,n){var a=Object.assign({options:[{value:"1",label:"开"},{value:"0",label:"关"}]},t,{name:"select"});return ku(e,a,n)}function Au(e,t,n){var a=t.children,o=void 0===a?[]:a,i=n.data,r=n.vue,s=n.prop,l={value:Xl(i,s)||[]};n.row&&(mu=null===mu?n.row[n.prop]:mu);var c={oldData:mu,row:n.row,columnIndex:n.columnIndex,rowIndex:n.rowIndex},u=vu(t.on,{input:function(e){Yl.call(r,i,s,e)},blur:function(e){mu=null}},c),d=o.map((function(t,a){var o=t.props||{},i=o.label,r=Object.assign({},{children:i},t);return fu(e,r,n).render()}));return fu(e,t,n).mergeOpts({props:l,on:u}).set("children",d).render()}function Bu(e,t,n){try{var a=t.label,o=void 0===a?"label":a,i=n||{},r=i.data,s=i.prop,l=Xl(r,s);return l?(Sl.isArray(l)?l:[l]).map((function(a){var i=(bu(t,n).find((function(e){return!Jl(e[o])&&""+e[o]===""+a}))||{})[o];return fu(e,t,n).set("children",i).render()})):""}catch(c){console.error(c)}}function Hu(e,t,n){try{var a=n||{},o=a.data,i=a.prop,r=t.props,s=void 0===r?{}:r,l=s.props||{},c=l.label,u=void 0===c?"label":c,d=l.value,p=void 0===d?"value":d,h=l.children,f=void 0===h?"children":h,m=Xl(o,i)||[];if(!Sl.isArray(m))return[];var v=bu(t,n);return m.reduce((function(e,t,n){var a=v.find((function(e){return e[p]===t}));return a?(v=a[f],!1===s["show-all-levels"]?n===m.length-1?e.concat([a[u]]):e:e.concat([a[u]])):e}),[]).join("/")}catch(b){return console.error(b),[]}}function Vu(e,t,n){return t.props.options=bu(t,n),xu(e,t,n)}var Wu=["radio","radio-group","checkbox"],zu=["default","button","tooltip","layout","dropdown","help","ciphertext"],Ku=Object.assign({input:{renderDefault:wu,renderEdit:xu,renderSearch:xu},"input-number":{renderDefault:wu,renderEdit:xu,renderSearch:xu},textarea:{renderDefault:wu,renderEdit:Cu,renderSearch:xu},select:{renderDefault:_u,renderEdit:Iu,renderSearch:ku},"date-picker":{renderDefault:Tu,renderEdit:Ou,renderSearch:$u,renderSearchRange:ju},link:{renderDefault:Eu,renderEdit:yu},tag:{renderDefault:Bu,renderEdit:Iu},image:{renderDefault:Ru,renderEdit:Nu},popup:{renderDefault:Du,renderEdit:Fu},dialog:{renderDefault:Nu,renderEdit:Nu},form:{renderDefault:Pu},switch:{renderDefault:Mu,renderEdit:qu,renderSearch:Lu},"checkbox-group":{renderDefault:Au},cascader:{renderDefault:Hu,renderEdit:Vu}},zu.reduce((function(e,t){return e[t]={renderDefault:yu},e}),{}),Wu.reduce((function(e,t){return e[t]={renderDefault:xu},e}),{})),Qu={get:function(e){return Ku[e]||null}},Uu=function(e){return"Date"===Vl(e)},Xu={name:"TableSearchColumn",components:{Icon:Fc,Popover:Pc,Operator:zc,Input:eu,RangeInput:cu},props:{value:{type:Object,default:function(){}},prop:{type:String,default:""},column:{type:Object,default:function(){}},columnIndex:{type:Number,default:0},operators:{type:Array,default:function(){return[]}}},data:function(){var e;return{form:(e={},c(e,this.prop,""),c(e,"type",""),e),show:!1,reference:null}},inject:["table"],computed:{columnClass:function(){var e=this.table.border,t=this.column.titleClassName,n=this.columnIndex,a="eff-table__column";return e&&(a+=" is--border"),0===n&&(a+=" is--start"),t&&(a+=" ".concat(t)),a},columnStyle:function(){var e=this.table,t=this.column,n={},a=e.getColumnWidth(t);return n.flex="0 0 ".concat(a,"px"),n}},mounted:function(){var e=this;this.init(),this.unwatch&&this.unwatch();var t=this.column.search||{},n=t.operator;this.$nextTick((function(){e.unwatch=e.$watch("table.tableForm.".concat(e.prop),e.formChange),n&&(e.reference=e.$refs.dropdown)}))},beforeDestroy:function(){this.unwatch()},methods:{formChange:function(e){var t=this.prop;this.$set(this.form,t,e),this.change()},searchChange:function(e){var t=this.prop;this.$set(this.form,t,e),this.updateForm()},updateForm:function(){var e=this.table,t=this.form,n=this.prop,a=e.tableForm;this.$set(e.tableForm,n,t[n]),e.$emit("update:form",a)},change:function(){var e=this.form,t=this.prop,n=this.column,a=e.type,o=this.form[t];Array.isArray(o)&&Uu(o[0])?o=o.map((function(e){return new Date(e).getTime()})):Uu(o)&&(o=new Date(o).getTime());var i=n.search.type||null;this.$emit("change",{column:n,prop:t,operator:a,content:o,type:i})},init:function(){var e=this.prop;if(e){var t=this.table.tableForm[e],n=this.column.search;n=void 0===n?{}:n;var a=n.operatorDefault;this.form[e]=t||"",this.form.type=this.value.operator||a||"like"}},handleMouseenter:function(e){var t;null!==(t=this.table)&&void 0!==t&&t.scrolling||this.$refs.popover.doShow()},handleMouseleave:function(){var e;null!==(e=this.table)&&void 0!==e&&e.scrolling||this.$refs.popover.doHide()},operatorChange:function(e){var t=this.prop,n=this.column,a=(n.search||{}).operatorDefault;if("like"===e&&a&&(e=a),this.form.type!==e){var o=!1;"like"===e||"range"===this.form.type?(this.form[t]="",this.updateForm(),o=!0):"range"===e&&(this.form[t]=[],this.updateForm(),o=!0),this.form.type=!e&&n.search.operatorDefault||e,(o||this.form[t])&&this.change(),this.$refs.popover.doHide()}},searchRender:function(e){var t=this,n=this.column,a=n.search;if(a){var o=this.table,i=this.form,r=this.prop,s=this.columnIndex,l=this.searchChange,c=n.config,u=a||{},d=u.operator,p=u.rangeRender,h=i[r],f=i.type,m=a||{},v=m.render,b=null,g=null;if("function"===typeof v)b=v(e,{prop:r,row:i,column:n,columnIndex:s});else{var y=Sl.merge({},c,v||{}),w=y.name,x=Qu.get(w);b=x&&"function"===typeof x.renderSearch?x.renderSearch(e,y,{root:o,vue:this,data:i,column:n,columnIndex:s,prop:r,searchChange:l})||"":e(eu,{attrs:{value:h},on:{input:function(e){return t.$set(t.form,r,e)},change:l}})}if(d&&"range"===f)if("function"===p)g=p(e,{prop:r,column:n,columnIndex:s});else{var C=Sl.merge({},c,v),_=C.name,S=C.type,k=Qu.get(_||S);g=k&&k.renderSearchRange?k.renderSearchRange(e,C,{root:o,vue:this,data:i,column:n,columnIndex:s,prop:r,searchChange:l})||"":e(cu,{attrs:{value:h,column:n},on:{change:l}})}return{slot:b,rangeSlot:g}}return{}}},render:function(e){var t=this.column,n=this.columnIndex,a=this.columnClass,o=this.columnStyle,i=this.table,r=this.form,s=this.operators,l=this.reference,c=this.searchRender,u=this.handleMouseenter,d=this.handleMouseleave,p=this.operatorChange,h=t.search,f=h||{},m=f.operator,v=r.type,b=c(e),g=b.slot,y=b.rangeSlot;return e("div",{class:a,key:n,attrs:{"data-colid":n},style:o},[e("div",{ref:"item",class:"eff-table__search-item"},[m?e("div",{ref:"dropdown",class:"eff-table__search-dropdown",on:{mouseenter:u,mouseleave:d}},[e(Fc,{attrs:{icon:v}}),e(Pc,{ref:"popover",attrs:{placement:"bottom",reference:l,enterable:!0,isFixed:!0}},[e(zc,{attrs:{data:s,type:v},on:{change:p}})])]):"",g?e("div",{class:"eff-table__search-element",attrs:{hidden:"range"===v}},[g]):"",y?e("div",{class:"eff-table__search-element",attrs:{hidden:"range"!==v}},[y]):"",i.search&&!h&&e("div",{class:"eff-table__search-empty"})||""])])}},Yu={name:"TableSearch",components:{SearchColumn:Xu},props:{value:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},showSpace:Boolean},data:function(){return{tableSearchRange:{},searchData:[],operators:[{type:"equals",label:"等于",icon:"="},{type:"unequals",label:"不等于",icon:"="},{type:"less",label:"小于",icon:"<"},{type:"greater",label:"大于",icon:">"},{type:"lessthan",label:"小于等于",icon:"<"},{type:"greaterthan",label:"大于等于",icon:">"},{type:"range",label:"之间",icon:"~"},{type:"like",label:"重置"}]}},inject:["table"],provide:function(){return{tableSearch:this}},watch:{value:function(e){this.searchData=e}},created:function(){this.searchData=this.value},methods:{change:function(e){var t=e.prop,n=this.searchData,a=n.findIndex((function(e){return e.prop===t}));a>-1?n.splice(a,1,e):n.push(e),this.$emit("input",n),this.$emit("change",n.filter((function(e){var t=e.content;return Boolean(Array.isArray(t)?t.length:t)})))},handleShow:function(e){this.table.$emit("rangeShow",e)},handleClose:function(e){this.table.$emit("rangeClose",e)}},render:function(e){var t=this.table,n=this.columns,a=this.searchData,o=this.operators,i=this.change,r=this.showSpace,s=t.baseHeight+"px";return e("div",{class:"eff-table__search",style:{height:s,"--rowHeight":s}},[n.map((function(t,n){var r=t.search||{},s=r.prop,l=s||t.prop;return e(Xu,{attrs:{value:a.find((function(e){return e.prop===l}))||{value:"",type:""},prop:l,column:t,"column-index":n,operators:o},on:{change:i}})})),r?e("div",{class:"eff-table__column is--space"}):""])}},Gu={name:"Contextmenu",props:{list:{type:Array,default:function(){return[]}},listMethod:{type:Function,default:function(){}},disabled:Boolean},data:function(){return{show:!1,handleIndex:null,pos:{x:0,y:0}}},mounted:function(){this.disabled||(Tl(window,"mousedown",this.windowMousedown),Tl(window,"mousewheel",this.close))},beforeDestroy:function(){this.disabled||($l(window,"mousedown",this.windowMousedown),$l(window,"mousewheel",this.close))},methods:{windowMousedown:function(e){e.which&&this.$refs.contextmenu&&!this.$refs.contextmenu.contains(e.target)&&this.close()},handleMouseenter:function(){document.oncontextmenu=function(){return!1}},handleMouseleave:function(){document.oncontextmenu=null},handleMouseup:function(e){if(3===e.which){this.handleIndex=d(this.$el.children).findIndex((function(t){return t.contains(e.target)}));var t=this.handleIndex,n=this.listMethod,a=this.open,o=e.x,i=e.y;this.pos={x:o,y:i},n&&n(t),a()}},handleClickItem:function(e,t,n){if(e.disabled)return!1;this.$emit("item-click",this.handleIndex,e,t,n),this.close()},open:function(){this.show=!0},close:function(){this.show=!1}},render:function(e){var t=this.handleMouseenter,n=this.handleMouseleave,a=this.handleMouseup,o=this.list,i=this.handleClickItem,r=this.show,s=this.pos,l=this.disabled;return l?e("div",[this.$slots.default]):e("div",{class:"eff-contextmenu",on:{mouseenter:t,mouseleave:n,contextmenu:function(){return!1},mouseup:a}},[this.$slots.default,e("div",{ref:"contextmenu",class:"eff-contextmenu--list",style:{display:r?"block":"none",left:s.x+"px",top:s.y+"px"}},[o.filter((function(e){return e.show})).map((function(t,n){return e("div",{class:["eff-contextmenu--list-item",t.disabled?"is--disabled":""],on:{click:function(e){return i(t,n,e)}}},[t.title])}))])])},install:function(e){e.component(Gu.name,Gu)}},Ju={name:"TableHeader",props:{visibleColumns:{type:Array,default:function(){return[]}},bodyColumns:{type:Array,default:function(){return[]}},fixed:{type:String,default:""}},components:{TableHeaderColumn:Nc,Search:Yu,Contextmenu:Gu},data:function(){return{dragingTarget:null,isDraging:!1,isColumnsChange:!1,searchData:[],marginLeft:"",contextmenuList:[{title:"前移一列",disabled:!1,show:!0},{title:"后移一列",disabled:!1,show:!0},{title:"移到首列",disabled:!1,show:!0},{title:"移到尾列",disabled:!1,show:!0},{title:"设为左固定列",disabled:!1,show:!0},{title:"设为右固定列",disabled:!1,show:!0},{title:"取消固定列",disabled:!1,show:!0},{title:"隐藏列",disabled:!1,show:!0}]}},watch:{"table.tableForm":function(e){"[]"===JSON.stringify(e)&&(this.searchData=[])},"table.tableColumns":function(){var e=this;this.isColumnsChange=!0,this.$nextTick((function(){e.isColumnsChange=!1}))}},computed:{dragStyle:function(){var e=this.dragingTarget,t=this.table,n=e&&e.getBoundingClientRect()||{},a=n.top,o=n.left,i=n.width;return{display:e?"block":"none",height:t.heights.headerHeight+"px",top:a+"px",left:o+i-8+"px"}},checkedColumnGroup:function(){var e=[],t=0,n=d(this.table.headerCheckedColumns).sort((function(e,t){return e.columnId-t.columnId}));return n.forEach((function(a,o){0===o?e[0]=[a.columnId]:parseInt(a.columnId)-parseInt(n[o-1].columnId)===1?e[t].push(a.columnId):e[++t]=[a.columnId]})),e.filter((function(e){return e.length>1}))},getColumnsStore:function(){var e=this.table,t=this.fixed,n=this.visibleColumns,a=e.columnIsVirtual,o=e.columnRenderIndex,i=e.columnRenderEndIndex,r=e.columnAccWidths;if(!t&&a){for(var s=0,l=0,c=0,u=[],d=0;d<n.length;d++){var p=n[d];if(s+=p.columnLen,s>=o&&(u.length||(l=d,c=s-p.columnLen),u.push(p),i&&s>=i))break}return this.marginLeft=(c>0?r[c-1]:0)+"px",{columns:u,startIndex:l}}return this.marginLeft="",{columns:n,startIndex:0}},xSpaceWidth:function(){var e=this.table,t=e.widths,n=t.leftWidth,a=t.rightWidth,o=e.bodyWidth,i=this.fixed;return"left"===i?n:"right"===i?a:o}},inject:["table"],methods:{renderColumns:function(){var e=this.$createElement,t=this.table,n=this.bodyColumns,a=t.baseHeight,o=t.border,i=this.getColumnsStore,r=i.columns,s=void 0===r?[]:r,l=i.startIndex,c=l,u=function i(r){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return r.reduce((function(r,d,p){var h=p+l,f=d.children,m=void 0===f?[]:f,v=s?"".concat(s,"-").concat(h+1):"".concat(h+1);return u.length&&(d.parent=u),d.columnId=v,m.length?r.push(e("div",{class:["eff-table__header-group",t.headerCheckedColumns.some((function(e){return e===d}))?"is--checked":""],attrs:{"data-colid":v}},[e("div",{class:["eff-table__header-group-title",o?"is--border":""],style:{maxHeight:a+"px",borderLeft:d.parent||0!==h?"":0}},[d.title]),e("div",{class:"eff-table__header-group-children"},[i(m,v,u.concat([d.columnId]))])])):(r.push(e(Nc,{attrs:{colid:v,column:d,columnIndex:h,bodyColumnIndex:c,isLastColumn:h===n.length-1,isChecked:t.headerCheckedColumns.some((function(e){return e===d}))}})),c+=1),r}),[])};return u(s)},handleClick:function(e){var t=this.table,n=Nl(e);if(n){var a=n.getAttribute("data-colid"),o=a.split("-").reduce((function(e,t,n){var a=+t-1;return e=0===n?e[a]:e.children[a],e}),d(t.visibleColumns));o&&(this.checkedColumn({column:o,event:e}),t.$emit("header-click",{column:o,event:e}))}},checkedColumn:function(e){var t=e.column,n=e.event,a=this.table;if(n.ctrlKey){var o=t.parent,i=o?a.visibleColumns[+o[0]-1]:t,r=a.headerCheckedColumns.findIndex((function(e){return[e].some((function(e){return e===i}))}));-1===r?a.headerCheckedColumns.push(i):a.headerCheckedColumns.splice(r,1)}},handleWindowMousedown:function(e){var t=this,n=e.target,a=document.querySelector(".table-drag--card");if(!this.$el.contains(n)&&(a&&a.contains(n)||!a)){clearTimeout(o);var o=setTimeout((function(){t.table.headerCheckedColumns=[],clearTimeout(o)}),100)}},handleMousemove:function(e){var t=this,n=this.$refs,a=this.dragingTarget,o=this.isDraging,i=e.target;while(i&&!jl(i,"eff-table__column"))i=i.parentNode;if(i){var r=n.header.$el,s=n.dragMove;i.contains(r)||i===s||a===i||o||(this.dragingTarget=jl(i,"is--space")?null:i,this.$nextTick((function(){var e=t.table,n=t.visibleColumns,a=t.dragingTarget,o=a&&a.dataset.colidx,i=n[o];i&&e.isTypeColumn(i)&&(t.dragingTarget=null)})))}},handleMouseleave:function(){var e=this;!this.isDraging&&setTimeout((function(){e.dragingTarget=null}),110)},moveMousedown:function(){var e=this.start,t=this.moveing,n=this.end;Pl({start:e,moveing:t,end:n})},start:function(e){var t=this.table,n=this.dragingTarget,a=this.visibleColumns,o=n.dataset.colidx,i=a[o];if(!t.isTypeColumn(i)&&n){t.lineShow=!0;var r=n.getBoundingClientRect(),s=r.right;this.startX=s+2,this.moveing()}},moveing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.dragingTarget){this.isDraging=!0;var t=this.dragingTarget.dataset.colidx,n=this.visibleColumns[t],a=this.table,o=a.$refs.line,i=a.$refs.table,r=i.getBoundingClientRect(),s=r.left,l=r.height,c=r.top,u=this.dragingTarget.getBoundingClientRect(),d=u.left,p=d+n.minWidth;p<=this.startX+e&&(this.moveX=e);var h=this.startX+this.moveX,f=Math.max(p,h,s);o.style.cssText="left:".concat(f,"px;top:").concat(c,"px;height:").concat(l,"px;")}},end:function(){var e=this;this.table.lineShow=!1,this.isDraging=!1;var t=this.visibleColumns,n=this.dragingTarget,a=this.moveX,o=n.getAttribute("data-colid"),i=n.getAttribute("data-colidx"),r=n.offsetWidth+a,s={},l=o.split("-").map((function(e){return+e})),c=u(l,2),d=c[1];if(d){var p=l.reduce((function(e,n,a){var o=+n-1;return 0===a?(s=t[o],s):e.children[o]}),{});p.width=r}else s=t[i],s.width=r;this.$emit("dragend",s),setTimeout((function(){if(e.dragingTarget){var t=e.$refs.dragMove,n=e.dragingTarget.getBoundingClientRect(),a=n.right;t.style.left=a-t.offsetWidth+"px",e.dragingTarget=null}}),100)},contextmenuClick:function(e,t){var n=this.table,a=this.getContextmenuItem,o=d(n.tableColumns),i=a(e),r=i.column,s=i.columnIndex,l=0;switch(t.title){case"前移一列":l=s-o.slice(0,s).reverse().findIndex((function(e){return!1!==e.show}))-1,o.splice(s,1),o.splice(l,0,r);break;case"后移一列":l=s-o.slice(s).findIndex((function(e){return!1!==e.show}))+1,o.splice(s,1),o.splice(l,0,r);break;case"移到首列":l=s-o.slice(s).findIndex((function(e){return!1!==e.show}))+1,o.splice(s,1),o.unshift(r);break;case"移到尾列":l=s-o.slice(s).findIndex((function(e){return!1!==e.show}))+1,o.splice(s,1),o.push(r);break;case"设为左固定列":o[s].fixed="left";break;case"设为右固定列":o[s].fixed="right";break;case"取消固定列":o[s].fixed="";break;case"隐藏列":o[s].show=!1;break}this.table.tableColumns=d(o)},getContextmenuItem:function(e){var t=this.fixed,n=this.table,a=n.tableColumns,o=n.visibleColumns,i=n.fixedColumns,r=o[e];return t&&(r=i[t][e],e=a.findIndex((function(e){return[e].some((function(e){return e===r}))}))),{column:r,columnIndex:e}},contextmenuListMethod:function(e){var t=this.fixed,n=this.table,a=this.getContextmenuItem,o=n.tableColumns,i=n.overflowX,r=a(e),s=r.column,l=r.columnIndex,c=s.type,u=o.slice(0,l).filter((function(e){return!1!==e.show})),d=o.slice(l+1).filter((function(e){return!1!==e.show})),p=!c,h=p&&!s.fixed&&u.find((function(e){return!e.fixed})),f=p&&!s.fixed&&d.find((function(e){return!e.fixed}));this.contextmenuList=[{title:"前移一列",fixed:t,disabled:!1,show:h},{title:"后移一列",fixed:t,disabled:!1,show:f},{title:"移到首列",fixed:t,disabled:!1,show:h},{title:"移到尾列",fixed:t,disabled:!1,show:f},{title:"设为左固定列",fixed:t,disabled:!1,show:i&&"left"!==s.fixed},{title:"设为右固定列",fixed:t,disabled:!1,show:i&&"right"!==s.fixed},{title:"取消固定列",fixed:t,disabled:!1,show:i&&s.fixed},{title:"隐藏列",fixed:t,disabled:!1,show:!0}]}},mounted:function(){var e=this,t=this.table,n=this.fixed,a=this.$refs,o=this.$el;this.table.headerLoad=!0,this.$nextTick((function(){var i=a.header;i&&(e.height=i.offsetHeight,n||t.scrollList.header||(t.scrollList.header=o))}))},render:function(e){var t=this,n=this.table,a=this.bodyColumns,o=this.isDraging,i=this.handleClick,r=this.handleMousemove,s=this.handleMouseleave,l=this.renderColumns,c=this.dragStyle,u=this.moveMousedown,d=this.isColumnsChange,p=this.searchData,h=this.marginLeft,f=this.xSpaceWidth,m=this.contextmenuList,v=this.contextmenuListMethod,b=this.contextmenuClick,g=n.showSpace,y=n.search,w=n.drag,x=n.headerContextmenu,C=n.heights.headerHeight,_=n.overflowY,S="eff-table__header-wrapper";_&&(S+=" is-overflow--y");var k=C+"px",I=l();return this.checkedColumnGroup.length&&this.checkedColumnGroup.forEach((function(t){var n=e("div",{class:"eff-table__header-checked"},[t.reduce((function(e,t){return e.concat(I[+t-1])}),[])]);I.splice(+t[0]-1,t.length,n)})),e("div",{class:S},[e("div",{class:"eff-table__body--x-space",style:{width:f+"px"}}),e("Contextmenu",{props:{list:m,listMethod:v,disabled:!w||!x},class:{"eff-table__header":!0,"is--move":o},ref:"header",style:{height:k,marginLeft:h},nativeOn:{click:i,mousemove:r,mouseleave:s},on:{"item-click":b}},[I,g?e("div",{class:"eff-table__column is--space",style:k}):"",e("div",{ref:"dragMove",class:"header-drag-move",style:c,on:{mousedown:u}})]),y&&!d&&n.searchShow?e(Yu,{attrs:{value:p,columns:a,showSpace:g},on:{input:function(e){return t.searchData=e},change:n.searchChange}}):""])}},Zu={name:"Radio",props:{value:Boolean,disabled:Boolean,checked:Boolean},data:function(){return{isChecked:this.value}},watch:{value:function(e){this.isChecked=!1,this.disabled||(this.isChecked=e)}},methods:{handleChange:function(){this.disabled||(this.isChecked=!this.isChecked,this.$emit("input",this.isChecked),this.$emit("change",this.isChecked))}}},ed=Zu,td=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"eff-table__radio",class:[{"is--disabled":e.disabled},{"is-checked":e.isChecked}],on:{click:e.handleChange}},[n("span",{staticClass:"eff-table__radio-icon"})])},nd=[];td._withStripped=!0;var ad=void 0,od=void 0,id=void 0,rd=!1,sd=vc({render:td,staticRenderFns:nd},ad,ed,od,rd,id,!1,void 0,void 0,void 0);sd.install=function(e){e.component(sd.name,sd)};var ld={name:"TableBodyColumn",components:{Icon:Fc},props:{row:{type:Object,default:function(){}},rowIndex:{type:Number,default:0},column:{type:Object,default:function(){}},columnIndex:{type:Number,default:0},rowspan:{type:Number,default:0},colspan:{type:Number,default:0},message:{type:Object,default:function(){}},fixed:{type:String,default:""},rowid:{type:String,default:""},disabled:Boolean,treeFloor:{type:Number,default:0},treeIndex:{type:Number,default:0},vue:{type:Object,default:null},summary:Boolean,subtotal:Boolean},inject:["table"],functional:!0,render:function(e,t){var n=t.props,a=t.data,o=t.injections,i=o.table,r=n.vue,s=n.row,l=n.rowid,c=n.rowIndex,u=n.column,d=n.fixed,p=n.columnIndex,h=n.rowspan,f=n.colspan,m=n.disabled,v=n.treeIndex,b=n.treeFloor,g=n.summary,y=n.subtotal,w=u.type,x=u.prop,C=u.className,_=u.align,S=u.showOverflow,k=i.rowId,I=i.cellClassName,T=i.editStore.updateList,$=i.copy,O=i.tableId,j=i.bodyColumns,E=i.rowHeight,R=i._rowHeight,D=i.isSpanMethod,F=i.tableExpandConfig,N=i.keyword,P=i.border,M=i.getColumnWidth,q=i.scrolling,L=s[k];r&&x&&!(x in s)&&!u.initField&&void 0===Xl(s,x)&&(Ul(s,x,r),u.initField=!0);var A={},B=M(u),H=0;if(f>1){for(var V=0,W=0;W<f;W++){var z=j[p+W];V+=M(z)}B=V,i.isSpanMethod=!0}if(h>1){for(var K=0,Q=0;Q<h;Q++)K+=R;H=K,i.isSpanMethod=!0}A.flex="0 0 ".concat(B,"px"),A["--width"]=B+"px",H&&(A.height=H+"px",A.zIndex=1),y&&(A.backgroundColor="#FDF6EC");var U="eff-table__column";P&&(U+=" is--border"),0===p&&(U+=" is--start"),_&&(U+=" is--align-".concat(_||"left"," "));var X=i.$refs.selectRange;if($&&!g&&!y&&X){var Y=X.selectRengeStore||{},G=Y.startRow,J=Y.endRow,Z=Y.startColumn,ee=Y.endColumn,te=Y.borderStyle,ne="2px ".concat(te," #409eff"),ae="".concat(i.tableId,"_").concat(c+1,"-").concat(p+1),oe=function(){return X.setRowMap({id:ae,row:s,rowIndex:c,column:u,columnIndex:p,prop:x})},ie=!1;p===Z&&c>=G&&c<=J&&(oe(),ie=!0,"dashed"===te?U+=" border-move-left":A.borderLeft=ne),c===G&&p>=Z&&p<=ee&&(oe(),ie=!0,"dashed"===te?U+=" border-move-top":A.borderTop=ne),p===ee&&c>=G&&c<=J&&(oe(),ie=!0,"dashed"===te?U+=" border-move-right":A.borderRight=ne),c===J&&p>=Z&&p<=ee&&(oe(),ie=!0,"dashed"===te?U+=" border-move-bottom":A.borderBottom=ne),ie||i.$refs.selectRange.deleteRowMap(ae)}var re=T.find((function(e){return e.$old[k]===L})),se=n.message||{},le=se.message;if(x&&re&&!Bl(re.$old,s,x)&&(U+=" is--dirty"),le&&(U+=" is--message"),C)if("function"===typeof C){var ce=C({row:s,column:u,rowIndex:c,columnIndex:p});ce&&(U+=" ".concat(ce))}else U+=" ".concat(C);if(I)if("function"===typeof I){var ue=I({row:s,column:u,rowIndex:c,columnIndex:p});ue&&(U+=" ".concat(ue))}else U+=" ".concat(I);p!==v||D||(A.paddingLeft=28*b+"px");var de,pe="".concat(O,"-").concat(L,"-").concat(u.columnId),he=u.selectable,fe=!!Sl.isFunction(he)&&!0===he({row:s,rowIndex:c,column:u,columnIndex:p,rowid:L,cellId:pe}),me=function(){return y?"":e(Cc,{props:{value:i.isChecked(s),disabled:fe,rowid:L},key:L,on:{change:function(e){return i.rowSelectionChange(s,e)}}})},ve=function(e){return y?"":e(sd,{props:{value:i.isChecked(s),disabled:fe},key:L,on:{change:function(e){return i.rowSelectionChange(s,e,!0)}}})},be=function(e){var t=r.$createElement("span",""),n=t.constructor;return e instanceof n},ge=function(){var t=u.prop,n=u.config,a=void 0===n?{}:n,o=u.type,d=u.edit;d=void 0===d?{}:d;var h=d.render,f=u.cellRender,m=function(n){var d={};if(Sl.isFunction(h)){var f=h(e,{row:s,sourceRow:w,rowIndex:c,column:u,columnIndex:p,prop:t});be(f)||Object.assign(d,f)}var m=Sl.merge({},a,d,n),v=m.name,b=m.tag,g=m.format,y=Qu.get(d.name||v)||b&&Qu.get("default"),w=i.tableDataMap.get(L)||{},x={root:i,table:i,vue:r,data:s,row:s,rowid:L,sourceRow:w,rowIndex:c,column:u,columnIndex:p,prop:d.prop||t,renderCell:!0};if(Sl.isFunction(g))return g(x);var C=m.props;if(C&&"function"===typeof C&&(m.props=C(x)),y)return y.renderDefault(e,m,x);if("index"===o)return l||t;var _=Xl(s,t),S=(_+"").toLowerCase(),k=(N+"").toLowerCase();if(!Jl(N)&&!Jl(_)){var I=S.indexOf(k);if(I>-1){var T=_.substr(I,N.length);_=_.split(T),_.splice(1,0,e("span",{class:"keyword-lighten"},T))}}return _};if(Sl.isFunction(f)){var v=f(e,{row:s,rowIndex:c,column:u,columnIndex:p,prop:t});return be(v)?[v]||!1:Sl.isObject(v)?m(v):v}return m(f)},ye=i.expands.find((function(e){return e.rowId===L}))||{},we=function(e){!m&&i.toggleRowExpand(s)},xe=function(){var t=e("span",{class:"eff-table--expand-handle",on:{click:function(e){return we()}}},[e(Fc,{attrs:{icon:ye.expanded?"caret-bottom":"caret-right"},class:{"is--disabled":m}})]);return t},Ce=function(e,t){if(!(q||g||y)){var n=document.getElementById(pe),a=n.querySelector(".eff-cell--label");if(i.$emit("cell-mouse-enter",{row:s,column:u,rowIndex:c,columnIndex:p,cell:n,event:e,slot:t}),n&&(n.classList.contains("eff-cell")||!n.childNodes.length)){var o="top";!1!==S&&Ll(a)&&(i.$refs.popovers.tipShow({reference:n.parentNode,placement:o,effect:"dark",message:a.innerText,isFixed:!0,offset:10}),o="bottom"),le&&i.$refs.popovers.validTipShow({reference:n.parentNode,placement:o,effect:"error",message:le,isFixed:!0})}}},_e=function(e){if(!(q||g||y)){var t=document.getElementById(pe);i.$emit("cell-mouse-move",{column:u,columnIndex:p,cell:t,event:e,rowIndex:c})}},Se=function(e,t){if(!(q||g||y)){var n=document.getElementById(pe);i.$emit("cell-mouse-leave",{row:s,column:u,rowIndex:c,columnIndex:p,cell:n,event:e,slot:t}),i.$refs.popovers.tipClose(),le&&i.$refs.popovers.validTipClose()}},ke=function(e){if(!g&&!y){var t=document.getElementById(pe);i.$emit("cell-mouse-up",{column:u,columnIndex:p,cell:t,event:e,rowIndex:c})}},Ie=function(e){if(!g&&!y){var t=document.getElementById(pe);i.$emit("cell-mouse-down",{column:u,columnIndex:p,cell:t,event:e,rowIndex:c})}},Te=i.tableTreeConfig,$e=Te.lazy,Oe=Te.loadMethod,je=Te.children,Ee="",Re=s[je]||[],De=function(e){$e&&!Re.length&&Sl.isFunction(Oe)?(r.$set(i.treeIds,L,!1),Oe({row:s,rowIndex:c}).then((function(e){r.$set(i.treeIds,L,!0),r.$set(s,je,e),i.loadTableData(i.tableData)}))):r.$set(i.treeIds,L,!i.treeIds[L])};"right"===d||!Re.length&&!s.hasChild||p!==v||D||(Ee=e("span",{class:"eff-table--expand-handle",on:{click:function(e){return De()}}},[$e&&!1===i.treeIds[L]&&!Re.length?e(Fc,{attrs:{icon:"refresh"},class:"tree-loading"}):e(Fc,{attrs:{icon:i.treeIds[L]?"caret-bottom":"caret-right"}})]));try{if("expand"===w){var Fe=F.onlyField,Ne=function(e){return!Fe||Fe&&e[Fe]};de=Ne(s)?xe(e):""}else de="row-drag"===w?e(kc):void 0!==s[p]?s[p]:"selection"===w?me(e):"radio"===w?ve(e):ge(e)}catch(Me){console.error(Me),de=""}var Pe={};return"auto"===E&&(Pe["white-space"]="pre-wrap"),e("div",Object.assign(a,{key:b+"-"+c+"-"+p,class:U,style:Object.assign(u.style||{},A),on:q?{}:{mouseenter:function(e){return Ce(e,de)},mouseleave:function(e){return Se(e,de)},mouseup:function(e){return ke(e)},mousedown:function(e){return Ie(e)},mousemove:function(e){return _e(e)}}}),[Ee,e("div",{attrs:{id:pe},class:"eff-cell"},[e("span",{class:"eff-cell--label",style:Pe},[de])])])}},cd={name:"TableBodyRow",components:{TableBodyColumn:ld},props:{bodyColumns:{type:Array,default:function(){return[]}},row:{type:Object,default:function(){}},rowid:{type:String,default:""},messages:{type:Array,default:function(){return[]}},fixed:{type:String,default:""},rowIndex:Number,summary:Boolean,subtotal:Boolean,treeFloor:{type:Number,default:0},treeIndex:{type:Number,default:0},vue:{type:Object,default:null}},functional:!0,inject:["table"],render:function(e,t){var n=t.props,a=t.injections,o=a.table,i=n.bodyColumns,r=n.row,s=n.rowid,l=n.rowIndex,c=n.messages,d=n.fixed,p=n.summary,h=n.subtotal,f=n.treeFloor,m=n.treeIndex,v=n.vue,b=o.rowId,g=o.showSpace,y=o.columnRenderIndex,w=o.currentRow,x=o.rowClassName,C=o.editStore,_=o.edit,S=o.copy,k=o.rowHeight,I=o.tableEditConfig,T=o.spanMethod,$=o.isSpanMethod,O=o.scrolling,j=Boolean(C.pendingList.find((function(e){return e[b]===r[b]}))),E=function(){O||$||(o.hoverRowid=s)},R=function(){O||$||(o.hoverRowid=null)},D=function(e,t){var n=Nl(e),a=null;if(n){var i=n.getAttribute("data-colid");if(i){var c=i.split("-"),d=u(c,2),p=d[1];if(a=o.bodyColumns[p-1],a){var h={row:r,rowid:s,column:a,prop:a.prop,rowIndex:l,columnIndex:p,cell:n,event:e},f=o.$refs.edit;if(_&&f){var m=n.querySelector(".eff-table--expand-handle"),v=n.querySelector(".eff-table--ciphertext");j||t!==(S?"dblclick":I.trigger)||m&&(!m||m.contains(e.target))||v||f.handleEditCell(h)}o.$emit("cell-".concat(t),h)}}}o.$emit("row-".concat(t),{row:r,column:a,rowIndex:l,event:e})},F=function(e){p||h||(o.highlightCurrentRow&&(o.currentRow=l),D(e,"click"))},N=function(e){p||h||D(e,"dblclick")},P=["eff-table__body-row",{"current-row":w===l,"is--hover":o.hoverRowid===s,"is--new":C.insertList.find((function(e){return e[b]===r[b]})),"is--pending":j},x?"function"===typeof x?x({row:r,rowIndex:l}):x:""],M={},q=o.overflowX,L=o.bodyRenderWidth,A=o._rowHeight,B=o.baseHeight;return M.height=p?B+"px":"auto"===k?"":A+"px",q&&!d&&(M.width=L+"px"),e("div",{class:P,style:M,attrs:{"data-rowid":s},key:s,on:{click:F,dblclick:N,mouseenter:E,mouseleave:R}},[i.reduce((function(t,n,a){a=d?a:y+a;var i="".concat(l+1,"-").concat(a+1),u=c.find((function(e){return e.prop===n.prop}))||{},b=Sl.isFunction(T)?T({row:r,rowIndex:l,column:n,columnIndex:a}):null,g=1,w=1;if(b){var x=b.rowspan,C=b.colspan;if(!x&&!C)return t;g=x,w=C}return t.concat(e(ld,{attrs:{id:p?"":o.tableId+"_"+i,"data-colid":i,"data-rowid":s,row:r,rowid:s,rowIndex:l,column:n,columnIndex:a,rowspan:g,colspan:w,message:u,fixed:d,vue:v,disabled:j,summary:p,subtotal:h,treeFloor:f,treeIndex:m}}))}),[]),g?e("div",{class:"eff-table__column is--space"}):""])}},ud={name:"TableBody",components:{TableBodyRow:cd},props:{data:{type:Array,default:function(){return[]}},bodyColumns:{type:Array,default:function(){return[]}},validators:{type:Array,default:function(){return[]}},messages:{type:Array,default:function(){return[]}},fixed:{type:String,default:""}},data:function(){return{height:null,ticking:!1}},inject:["table"],computed:{columns:function(){var e=this.fixed,t=this.bodyColumns,n=this.table.renderColumn;return e?t:n},bodyStyle:function(){var e=this.table,t=e.bodyMarginTop,n=e.bodyMarginLeft,a=e.bodyRenderWidth,o={};return o.marginTop=t,this.fixed||(o.marginLeft=n,o.width=a+"px"),o},formatValidators:function(){return(this.validators.concat(this.messages)||[]).reduce((function(e,t,n){var a="".concat(t.id);return e[a]||(e[a]=[]),e[a].push(t),e}),{})},emptyStyle:function(){var e=this.table,t=e.bodyWidth,n=e._rowHeight;return{width:t+"px",height:n+"px"}},xSpaceWidth:function(){var e=this.table,t=e.widths,n=t.leftWidth,a=t.rightWidth,o=e.bodyWidth,i=this.fixed;return"left"===i?n:"right"===i?a:o},treeIndex:function(){return this.table.bodyColumns.findIndex((function(e){return!["selection","radio","expand"].find((function(t){return e.type===t}))}))}},watch:{"table.minWidth":function(e){var t=this.table,n=t.bodyWrapperWidth,a=t.scrollYwidth;e<=n-a&&(this.$el.scrollLeft=0)},height:function(e){this.table.bodyHeight=e}},updated:function(){var e=this;this.$nextTick((function(){e.height=e.$refs.body.offsetHeight}))},mounted:function(){var e=this.table,t=this.$el,n=this.scrollEvent,a=this.fixed;e.bodyLoad=!0,this.$nextTick((function(){e.scrollList[a]||(t.onscroll=n,t._onscroll=n,e.scrollList[a]=t)}))},beforeDestroy:function(){var e=this.$el;e.onscroll=null,e._onscroll=null},methods:{scrollEvent:function(e){var t=this;return e.preventDefault(),this.ticking||(requestAnimationFrame((function(){return t.realFunc(e)})),this.ticking=!0),!1},realFunc:function(e){var t=this.table,n=this.fixed,a=e.target,o=a.scrollLeft,i=a.scrollTop;t.handleScroll(n?void 0:o,i,n),this.ticking=!1},getTrees:function(e,t){var n=this,a=this.$createElement,o=this.table,i=o.rowId,r=o.treeIds,s=o.tableTreeConfig.children;if(!(e[s]&&e[s].length&&r[e[i]]))return[];var l=this.table,c=this.fixed,u=this.bodyColumns,d=this.formatValidators,p=this.treeIndex,h=this.renderExpand,f=l.renderColumn,m=[],v=1,b=function e(o,l,v){o.forEach((function(o,b){var g="".concat(v?v+".":"").concat(b+1),y=[a(cd,{key:"tree-"+l+t+b,attrs:{row:o,rowid:"".concat(t+1,".").concat(g),treeFloor:l,treeIndex:p,"row-index":t,"body-columns":c?u:f,fixed:c,vue:n,messages:d[o[i]]}}),h?h(o,t):""];m.push(y),o[s]&&o[s].length&&r[o[i]]&&e(o[s],l+1,g)}))};return b(e[s],v),m},renderExpand:function(e,t){var n=this.table,a=this.fixed,o=this.$createElement,i=n.bodyRenderWidth,r=n.edit,s=n.rowId,l=n.editStore,c=n.expands,u=n.expandSlot,d=n.widths,p=d.leftWidth,h=d.rightWidth,f=u&&c.find((function(t){return t.rowId===e[s]}))||{},m=f.expanded,v=f.height,b="eff-table__expanded expandid-".concat(e[s]),g={padding:"15px"};a?(g.width=i+"px",g.height=v+"px"):(g.paddingLeft=p+15+"px",g.paddingRight=Math.max(h,15)+"px");var y=r?{mouseenter:function(){return l.editRow=e}}:{};return m?o("div",{class:b,style:g,on:y},[u({row:e,rowIndex:t})]):""}},render:function(e){var t=this,n=this.columns,a=this.table,o=this.bodyStyle,i=this.xSpaceWidth,r=this.emptyStyle,s=this.fixed,l=this.bodyColumns,c=this.formatValidators,u=this.treeIndex,d=this.renderExpand,p=a.renderData,h=a.heights,f=h.dataHeight,m=h.bodyHeight,v=a.emptyText,b=a.renderIndex,g=a.expands,y=a.rowId,w=a.subtotalData,x=a.expandSlot,C=a._rowHeight,_=a.overflowX,S=a.overflowY,k=a.rowConfig,I=a.widths.columnWidths,T=(k||{}).rows||[];Array.isArray(T)||(T=[]);var $="eff-table__body-wrapper";return _&&($+=" is-overflow--x"),S&&($+=" is-overflow--y"),e("div",{class:$,style:{height:m+"px","--rowHeight":C+"px"}},[e("div",{class:"eff-table__body--x-space",style:{width:i+"px"}}),e("div",{class:"eff-table__body--y-space",style:{height:f+"px"}}),e("div",{ref:"body",class:"eff-table__body ",style:o},[p.map((function(a,o){var i=o+b,r="".concat(i+1),p=x&&g.find((function(e){return e.rowId===a[y]}))||{},h=p.expanded,f=function(a){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",l=Sl.uniqueId();return o?e(cd,{key:i+o+l,attrs:{rowid:l,row:a,"body-columns":n,fixed:s,subtotal:!0}}):[e(cd,{key:i,attrs:{row:a,rowid:r,"row-index":i,treeIndex:u,"body-columns":n,fixed:s,vue:t,messages:c[a[y]]}})]},m=f(a);h&&m.push(d(a,o));var v=t.getTrees(a,i);v.length&&m.push(v);var C=w.filter((function(e){return e.index===o}));if(C.length){var _=f(C.reduce((function(e,t){return Sl.merge(e,t.row)}),{}),"subtotal");m.push(_)}if(T.length){var S=T.map((function(t){if(!Sl.isFunction(t.row))return"";var n=t.show;return n&&Sl.isFunction(n)&&!n({row:a,columns:l})?"":e("div",{class:"eff-table__body-row--custom",style:{height:t.height+"px"}},[s?"":t.row({row:a,columns:l,columnWidths:I})])}));m.push(S)}return m})),p.length?"":e("div",{class:"eff-empty-text",style:r},[v])])])}},dd={name:"TableFooter",components:{TableBodyRow:cd},props:{data:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},sumText:{type:String,default:"总计"},summaryMethod:{type:Function,default:null},fixed:{type:String,default:""}},inject:["table"],computed:{style:function(){var e=this.table.baseHeight;return{minHeight:e+"px"}},row:function(){var e=this,t=this.columns,n=this.data,a=this.fixed;return"function"===typeof this.summaryMethod?this.summaryMethod({columns:t,data:n}):t.reduce((function(t,o,i){if(0===i&&"right"!==a)return t[i]=e.sumText,t;var r=o.prop,s=n.map((function(e){return Number(e[r])})),l=s.reduce((function(e,t){return isNaN(Number(t))?e:e+t}),0);return t[i]=l||"",t}),{})}},mounted:function(){var e=this;this.$nextTick((function(){var t=e.fixed,n=e.table,a=e.$el;t||n.scrollList.footer||(n.scrollList.footer=a)}))},render:function(e){var t=this.row,n=this.columns,a=this.style,o=this.table,i=this.fixed,r=o.overflowY,s=o.bodyWidth,l=o.bodyMarginLeft,c=o.renderColumn,u=o.baseHeight,d="eff-table__footer";return r&&(d+=" is-overflow--y"),e("div",{class:d,style:a},[e("div",{class:"eff-table__body--x-space",style:{width:s+"px"}}),e("div",{class:"eff-table__body",style:{marginLeft:i?"":l}},[e(cd,{attrs:{"row-height":u,row:t,"row-index":1,"body-columns":i?n:c,fixed:i,summary:!0}})])])}},pd={name:"Popovers",components:{Popover:Pc},inject:["table"],data:function(){return{popoverOpts:{},editPopoverOpts:{},validingPopoverOpts:{},validPopoverOpts:{}}},mounted:function(){Object.assign(this,{popover:this.$refs.popover,editPopover:this.$refs.editPopover,validPopover:this.$refs.validPopover,validingPopover:this.$refs.validingPopover})},methods:{tipShow:function(e){this.popover||(this.popover=this.$refs.popover),this.popover.doShow(),this.popoverOpts=e},tipClose:function(){this.popover.doHide()},editTipShow:function(e){this.editPopover||(this.editPopover=this.$refs.editPopover),this.editPopover.doShow(),this.editPopoverOpts=e,this.table.setEditStop(!0)},editTipClose:function(){this.editPopover.doHide(),this.table.setEditStop(!1)},validTipShow:function(e){this.validPopover||(this.validPopover=this.$refs.validPopover),this.validPopover.doShow(),this.validPopoverOpts=e},validTipClose:function(){this.validPopover.doHide()},validingTipShow:function(e){this.validingPopover||(this.validingPopover=this.$refs.validingPopover),this.validingPopover.doShow(),this.validingPopoverOpts=e},validingTipClose:function(){this.validingPopover.doHide()}}},hd=pd,fd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"eff-table__popovers"},[n("Popover",e._b({ref:"popover"},"Popover",e.popoverOpts,!1)),e._v(" "),e.table.edit?n("Popover",e._b({ref:"editPopover"},"Popover",e.editPopoverOpts,!1)):e._e(),e._v(" "),n("Popover",e._b({ref:"validPopover"},"Popover",e.validPopoverOpts,!1)),e._v(" "),e.table.edit?n("Popover",e._b({ref:"validingPopover"},"Popover",e.validingPopoverOpts,!1)):e._e()],1)},md=[];fd._withStripped=!0;var vd=void 0,bd=void 0,gd=void 0,yd=!1,wd=vc({render:fd,staticRenderFns:md},vd,hd,bd,yd,gd,!1,void 0,void 0,void 0),xd={chosenClass:"",dragClass:"",draggable:"",onEnd:function(){}},Cd={fromIndex:null,toIndex:null,from:null,to:null,fromEl:null,toEl:null,clone:null,enterFrom:!1,enterTo:!1,fromGroup:null,toGroup:null},_d=function(){function e(t){r(this,e),this.options=Object.assign({},xd,t),this.el=this.options.el,this.dragEvents=["drag","dragstart","dragend","dragover","dragenter","dragleave","drop"],this.downTarget=null,this.enterTarget=null,Object.assign(Cd,t),this.init()}return l(e,[{key:"init",value:function(){var e=this;Tl(this.el,"mousedown",(function(t){return e.on_mousedown(t)})),Tl(this.el,"mouseup",(function(t){return e.on_mouseup(t)})),this.dragEvents.forEach((function(t){Tl(e.el,t,e["on_".concat(t)].bind(e))}))}},{key:"destroy",value:function(){var e=this;$l(this.el,"mousedown",(function(t){return e.on_mousedown(t)})),$l(this.el,"mouseup",(function(t){return e.on_mouseup(t)})),this.dragEvents.forEach((function(t){$l(e.el,t,e["on_".concat(t)].bind(e))}))}},{key:"on_mousedown",value:function(e){if(0===e.button){var t=this.getDragNode(e.target);if(!t)return;var n=this.options.handle;if(n){if(!e.target.classList.contains(n))return}else if(this.isFilter(t,e.target)||t===this.el)return;this.downTarget=t,El(this.downTarget,this.options.dragClass),this.downTarget&&this.downTarget.setAttribute("draggable",!0)}}},{key:"on_mouseup",value:function(e){0===e.button&&this.downTarget&&(this.downTarget.setAttribute("draggable",!1),Rl(this.downTarget,this.options.dragClass))}},{key:"on_drag",value:function(e){var t=e.clientX,n=e.clientY,a=Cd,o=a.from,i=a.to;if(o){var r=o.getBoundingClientRect(),s=r.left,l=r.top,c=r.right,u=r.bottom;Cd.enterFrom=t>s&&t<c&&n>l&&n<u}else Cd.enterFrom=!1;if(i){var d=i.getBoundingClientRect(),p=d.left,h=d.top,f=d.right,m=d.bottom;Cd.enterTo=t>p&&t<f&&n>h&&n<m}else Cd.enterTo=!1;var v=Cd,b=v.enterFrom,g=v.enterTo;this._emit("drag",{from:o,to:i,enterFrom:b,enterTo:g},e)}},{key:"on_dragstart",value:function(e){var t=e.target;Cd.fromEl=t,Cd.from=this.el,Cd.clone=t.cloneNode(!0),Cd.fromGroup=this.options.group;var n=d(this.el.childNodes).findIndex((function(e){return e===Cd.fromEl}));Cd.fromIndex=n,this._emit("dragstart",n,e)}},{key:"on_dragend",value:function(e){var t=Cd,n=t.fromEl;Rl(this.downTarget,this.options.dragClass),Rl(this.enterTarget,this.options.chosenClass),Rl(Cd.toEl,this.options.chosenClass),n&&n.setAttribute("draggable",!1),this._emit("dragend",e.target);var a={fromIndex:null,toIndex:null,from:null,to:null,fromEl:null,toEl:null,clone:null,enterFrom:!1,enterTo:!1};Cd=o(o({},Cd),a)}},{key:"on_dragover",value:function(e){e.preventDefault(),this._emit("dragover",e)}},{key:"on_dragenter",value:function(e){var t=e.target;if(t=this.getDragNode(t),t){if(this.el.contains(t)&&(Cd.to=this.el),Cd.toIndex=this.getToIndex(t),Cd.toGroup=this.options.group,!this.isSameGroup())return!1;var n=Cd,a=n.toEl;if(!a||a&&a!==t){var o=this.enterTarget,i=Cd,r=i.fromIndex,s=i.toIndex,l=i.from,c=i.to,u=i.fromEl,d=s>r;if(Cd.toEl=a=t,t!==this.downTarget&&o!==t){var p=this.options.chosenClass;Rl(o,p),El(t,p),this.enterTarget=t}this._emit("dragenter",{from:l,to:c,fromEl:u,toEl:a,fromIndex:r,toIndex:s,willInsertAfter:d,target:t})}}}},{key:"on_dragleave",value:function(e){var t=this.getDragNode(e.target);t&&!this.isFilter(t)&&this._emit("dragleave",{target:t})}},{key:"on_drop",value:function(e){if(e.preventDefault(),!this.isSameGroup())return!1;var t=Cd,n=t.fromIndex,a=t.toIndex,o=t.from,i=t.to,r=t.fromEl,s=t.toEl,l=t.clone;this._emit("onEnd",{fromIndex:n,toIndex:a,from:o,to:i,fromEl:r,toEl:s,clone:l})}},{key:"_emit",value:function(e,t){var n=this.options[e];n&&n(t)}},{key:"getToIndex",value:function(e){var t=d(Cd.to.childNodes),n=t.findIndex((function(t){return t===e}));return t.length&&n>-1?n:0}},{key:"isFilter",value:function(e,t){var n=this.options.filter,a=[n,"is--space","eff-empty-text"];return a.find((function(t){return e.classList.contains(t)}))||e.classList.contains("col-fixed")||t&&a.find((function(e){return t.classList.contains(e)}))}},{key:"getDragNode",value:function(e){if(!e||!e.parentNode)return!1;while(e.parentNode!==this.el&&!e.contains(this.el))e=e.parentNode;return e}},{key:"isSameGroup",value:function(){var e=Cd,t=e.from,n=e.to,a=e.fromGroup,o=e.toGroup;return t===n||a&&a===o}}]),e}(),Sd={name:"Help",props:{reference:HTMLElement,effect:{type:String,default:""},msgType:{type:String,default:"popover"},message:{type:[String,Array,Function],default:""},placement:{type:String,default:"top"},vslot:{type:Object,default:function(){}},enterable:Boolean},inject:{root:{default:null}},mounted:function(){var e=this;this.root&&this.$nextTick((function(){var t=e.$el,n=e.handlerMouseenter,a=e.handlerMouseleave;Tl(t,"mouseenter",n),Tl(t,"mouseleave",a)}))},beforeDestroy:function(){if(this.root){var e=this.$el,t=this.handlerMouseenter,n=this.handlerMouseleave;$l(e,"mouseenter",t),$l(e,"mouseleave",n)}},methods:{handlerMouseenter:function(e){var t=this.msgType,n=this.reference,a=void 0===n?this.$el:n,o=this.message,i=this.effect,r=this.vslot,s=this.placement,l=this.enterable,c=o;if("function"===typeof o&&(c=o()),"popover"===t){var u=this.root.tipShow||this.root.$refs.popovers.tipShow;c&&u&&u({reference:a,effect:i,vslot:r,placement:s,isFixed:!0,enterable:l,message:[{type:"dark",message:c}]})}},handlerMouseleave:function(e){if("popover"===this.msgType){var t=this.root.tipClose||this.root.$refs.popovers.tipClose;t()}}},render:function(e){return this.$slots.default}},kd=Sd,Id=void 0,Td=void 0,$d=void 0,Od=void 0,jd=vc({},Id,kd,Td,Od,$d,!1,void 0,void 0,void 0);jd.install=function(e){e.component(jd.name,jd)};var Ed={name:"PrefixSuffix",props:{tag:{type:String,default:"div"},prefix:{type:[Object,Function],default:function(){return{}}},suffix:{type:[Object,Function],default:function(){return{}}}},render:function(e){var t=this.tag,n=this.prefix,a=this.suffix;return e(t,{class:"eff-prefix-suffix"},[Sl.isFunction(n)?n():n.message?e(jd,{class:"eff-prefix",attrs:{effect:"dark",message:n.message}},[e(Fc,{attrs:{icon:n.icon||"question"}})]):"",this.$slots.default,Sl.isFunction(a)?a():a.message?e(jd,{class:"eff-suffix",attrs:{effect:"dark",message:a.message}},[e(Fc,{attrs:{icon:a.icon||"question"}})]):""])}},Rd=Ed,Dd=void 0,Fd=void 0,Nd=void 0,Pd=void 0,Md=vc({},Dd,Rd,Fd,Pd,Nd,!1,void 0,void 0,void 0);Md.install=function(e){e.component(Md.name,Md)};var qd={name:"Card",components:{PrefixSuffix:Md},props:{title:{type:String,required:!0},width:{type:Number,default:250},height:{type:Number,default:250},minWidth:{type:Number,default:100},minHeight:{type:Number,default:200},position:{type:String,default:"right-bottom"},show:Boolean,inline:Boolean,addToBody:Boolean,limit:{type:Number,default:15},titlePrefix:{type:[Object,Function],default:function(){}},titleSuffix:{type:[Object,Function],default:function(){}}},data:function(){return{isAddToBody:!1,startRect:{left:0,top:0,width:this.width,height:this.height},endRect:{left:0,top:0,width:this.width,height:this.height},move:{x:0,y:0,width:0,height:0},cursor:null,isDraging:!1}},computed:{style:function(){var e=this.endRect,t=e.left,n=e.top,a=e.width,o=e.height;return{left:t?t+"px":"",top:n?n+"px":"",width:a+"px",height:o+"px"}}},watch:{move:function(){this.update()},cursor:function(e){document.body.style.cursor=e.replace(/_[a-z]+/,"")}},mounted:function(){var e=this;this.addToBody&&this.addToBodyed(),setTimeout((function(){e.startRect=e.$el.getBoundingClientRect(),e.update()}),500)},beforeDestroy:function(){this.addToBody&&document.body.removeChild(this.$el)},methods:{update:function(){var e=this.startRect,t=e.left,n=e.top,a=e.width,o=e.height,i=this.move,r=i.x,s=i.y,l=i.width,c=i.height;a+l>=this.minWidth&&(this.endRect.width=a+l,this.endRect.left=t+r),o+c>=this.minHeight&&(this.endRect.height=o+c,this.endRect.top=n+s),this.$emit("size-change",this.move)},handleMousedown:function(e){var t=e.button;0===t&&this.cursor&&Pl({start:this.start,moveing:this.moveing,end:this.end})},handleMousemove:function(e){var t=e.button;if(!this.isDraging&&0===t){var n=e.target,a=e.x,o=e.y,i=["eff-card__header","eff-card__header-title"];if(i.find((function(e){return jl(n,e)}))){var r=this.$el.getBoundingClientRect(),s=r.left,l=r.top,c=r.right;o<l+8?(this.cursor="ns-resize_top",a<s+8?this.cursor="nwse-resize_top":a>c-8&&(this.cursor="nesw-resize_top")):this.cursor="move"}else if(jl(n,"eff-card__body")){var u=this.$refs.body.getBoundingClientRect(),d=u.left,p=u.bottom,h=u.right;o>p-8?(this.cursor="ns-resize_bottom",a<d+8?this.cursor="nesw-resize_bottom":a>h-8&&(this.cursor="nwse-resize_bottom")):this.cursor=a<d+8?"ew-resize_left":a>h-8?"ew-resize_right":""}else this.cursor=""}},handleMouseleave:function(e){var t=e.button;this.isDraging||0!==t||(document.body.style.cursor="")},start:function(){this.isDraging=!0,this.startRect=this.$el.getBoundingClientRect()},moveing:function(e,t){var n=this.cursor;n.startsWith("ns-resize")?this.move=n.indexOf("top")>-1?{x:0,y:t,width:0,height:-t}:{x:0,y:0,width:0,height:t}:n.startsWith("nesw-resize")?this.move=n.indexOf("top")>-1?{x:0,y:t,width:e,height:-t}:{x:e,y:0,width:-e,height:t}:n.startsWith("nwse-resize")?this.move=n.indexOf("top")>-1?{x:e,y:t,width:-e,height:-t}:{x:0,y:0,width:e,height:t}:n.startsWith("ew-resize")?this.move=n.indexOf("left")>-1?{x:e,y:0,width:-e,height:0}:{x:0,y:0,width:e,height:0}:"move"===n&&(this.move={x:e,y:t,width:0,height:0})},end:function(){this.isDraging=!1;var e=this.move,t=e.x,n=e.y;if(0!==t||0!==n){var a=window,o=a.innerHeight,i=document.body.clientWidth,r=this.endRect,s=r.left,l=r.top,c=r.width,u=r.height,d=i-c-this.limit,p=o-u-this.limit;this.endRect.left=s<this.limit?this.limit:s>d?d:s,this.endRect.top=l<this.limit?this.limit:l>p?p:l}},addToBodyed:function(){var e=this;this.isAddToBody||this.$nextTick((function(){document.body.appendChild(e.$el),e.isAddToBody=!0}))}}},Ld=qd,Ad=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"card",class:["eff-card","eff-card--"+e.position],style:e.style,attrs:{shadow:"hover"},on:{mousedown:e.handleMousedown,mousemove:e.handleMousemove,mouseleave:e.handleMouseleave}},[n("div",{staticClass:"eff-card__header"},[n("PrefixSuffix",{staticClass:"eff-card__header-title",attrs:{prefix:e.titlePrefix,suffix:e.titleSuffix}},[n("span",[e._v(e._s(e.title))])]),e._v(" "),e._t("header"),e._v(" "),n("i",{staticClass:"eff-card__header-close",attrs:{type:"text"},on:{click:function(t){return e.$emit("close")}}})],2),e._v(" "),n("div",{ref:"body",staticClass:"eff-card__body",class:{inline:e.inline}},[e._t("default")],2)])},Bd=[];Ad._withStripped=!0;var Hd=void 0,Vd=void 0,Wd=void 0,zd=!1,Kd=vc({render:Ad,staticRenderFns:Bd},Hd,Ld,Vd,zd,Wd,!1,void 0,void 0,void 0);Kd.install=function(e){e.component(Kd.name,Kd)};var Qd={name:"TableDrag",components:{Card:Kd},props:{value:{type:Array,default:function(){return[]}},columnControl:Boolean},data:function(){return{columns:this.value,show:!1,dradingTarget:null}},computed:{hiddenColumns:function(){return this.columns.filter((function(e){return!1===e.show}))}},watch:{value:function(e){this.columns=e},dradingTarget:function(e,t){if(e!==t){var n=function(e){return jl(e,"col-fixed")?"is-draging--warning":"is-draging"};El(e,n(e)),Rl(t,n(t))}}},inject:["table"],mounted:function(){var e=this;this.watchOverflowX=this.$watch("table.overflowX",(function(t,n){!n&&t&&e.setRowDrag(!0)})),this.$nextTick((function(){var t=e.table,n=t.drag,a=t.$el,o=t.isSpanMethod,i=e.handleDragend,r=e.handleDragenter,s=e.handleEnd,l=e.columnControl,c=e.$el,u=Math.floor(1e5*Math.random());n&&!o&&(e.columnSortable=new _d({el:a.querySelector(".eff-table__header"),group:u,filter:"col-fixed",dragend:i,dragenter:r,onEnd:s}),l&&setTimeout((function(){e.cradsSortable=new _d({el:c.querySelector(".eff-card__body"),group:u,dragend:i,dragenter:r,onEnd:s})}),500)),!o&&e.setRowDrag(!1)}))},beforeDestroy:function(){this.columnSortable=null,this.cradsSortable=null,this.rowSortable=null,this.watchOverflowX()},methods:{close:function(){this.show=!1,this.$emit("cardClose")},setRowDrag:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.table.rowDrag){var t=e?this.table.$refs.leftBody:this.table.$refs.body;t&&(this.rowSortable=new _d({el:t.$el.querySelector(".eff-table__body"),handle:"eff-icon-drag",onEnd:this.handleRowEnd}))}},toggleCardShow:function(e){this.show=void 0===e?!this.show:e},handleRowEnd:function(e){var t=e.fromEl,n=e.toEl,a=t.getAttribute("data-rowid"),o=n.getAttribute("data-rowid");this.$emit("row-change",+a-1,+o-1)},handleDragend:function(e){Rl(this.dradingTarget,"is-draging"),this.dradingTarget=null},isHeadNode:function(e){return jl(e,"eff-table__header")},handleDragenter:function(e){var t=e.from,n=e.to,a=e.fromEl,o=e.toEl;e.willInsertAfter;this.isHeadNode(t)&&this.isHeadNode(n)&&(this.dradingTarget=o,o===a&&(this.dradingTarget=null)),this.isHeadNode(t)&&n.classList.contains("eff-card__body")&&(this.dradingTarget=o),this.isHeadNode(n)&&t.classList.contains("eff-card__body")&&(this.dradingTarget=o)},handleEnd:function(e){var t=this,n=e.fromIndex,a=e.toIndex,o=e.from,i=e.to,r=e.fromEl,s=e.toEl;this.dradingTarget=null;var l=d(this.columns);if(o!==i||n!==a){var c=function(e){var r=function(e,t){var n=jl(t,"eff-table__header-group")?t.querySelector(".eff-table__header-group-title"):t,a=n.innerText,o=e.title,i=e.type;return o&&o.trim()===a.trim()||i&&jl(t,"col-"+i)},c=l.findIndex((function(t){return r(t,e)}));if(c<0)return console.error("没有找到title为 ".concat(e.innerText," 的节点"));if(jl(s,"col-fixed")){var u=t.$message;u?u.warning("固定列不能做拖动操作！"):console.log("固定列不能做拖动操作！")}else{if(t.isHeadNode(o)&&t.isHeadNode(i)&&e!==s){var p=l.splice(c,1)[0];if(jl(s,"is--space")){var h=l.findIndex((function(e){return"right"===e.fixed}));h>-1?l.splice(h,0,p):l.push(p)}else{jl(s,"eff-table__header-checked")&&(s=s.childNodes[0]);var f=l.findIndex((function(e){return r(e,s)}));a>n&&(f+=1),l.splice(f,0,p)}}if(t.isHeadNode(o)&&i.classList.contains("eff-card__body")&&(l[c].show=!1),t.isHeadNode(i)&&o.classList.contains("eff-card__body")&&c>-1){var m=l[c];if(m.show=!0,l.splice(c,1),jl(s,"is--space")){var v=l.findIndex((function(e){return"right"===e.fixed}));v>-1?l.splice(v,0,m):l.push(m)}else{jl(s,"eff-table__header-checked")&&(s=s.childNodes[0]);var b=l.findIndex((function(e){return r(e,s)}));l.splice(b,0,m)}}t.columns=d(l),t.$emit("input",t.columns),t.$emit("change",t.columns)}};if(jl(r,"eff-table__header-checked")){var u=d(r.childNodes);u.forEach((function(e,t){c(e)}))}else c(r);this.table.headerCheckedColumns=[]}}}},Ud=Qd,Xd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table-drag--card"},[e.columnControl?n("card",{attrs:{show:e.show,title:"列控制"},on:{close:e.close}},e._l(e.hiddenColumns,(function(t,a){return n("div",{key:a},[e._v(e._s(t.title))])})),0):e._e()],1)},Yd=[];Xd._withStripped=!0;var Gd=void 0,Jd=void 0,Zd=void 0,ep=!1,tp=vc({render:Xd,staticRenderFns:Yd},Gd,Ud,Jd,ep,Zd,!1,void 0,void 0,void 0),np=function(){for(var e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,a=t.length,o={};n<a;n++)if(e=t[n],e&&e[1]in document){for(n=0;n<e.length;n++)o[t[0][n]]=e[n];return o}return!1}(),ap={change:np.fullscreenchange,error:np.fullscreenerror},op={request:function(e){return new Promise(function(t,n){var a=function(){this.off("change",a),t()}.bind(this);this.on("change",a),e=e||document.documentElement,Promise.resolve(e[np.requestFullscreen]()).catch(n)}.bind(this))},exit:function(){return new Promise(function(e,t){if(this.isFullscreen){var n=function(){this.off("change",n),e()}.bind(this);this.on("change",n),Promise.resolve(document[np.exitFullscreen]()).catch(t)}else e()}.bind(this))},toggle:function(e){return this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,t){var n=ap[e];n&&document.addEventListener(n,t,!1)},off:function(e,t){var n=ap[e];n&&document.removeEventListener(n,t,!1)},raw:np};Object.defineProperties(op,{isFullscreen:{get:function(){return Boolean(document[np.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[np.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[np.fullscreenEnabled])}}});var ip={name:"Icon",props:{iconClass:{type:String,default:""}},data:function(){return{isFullscreen:!1,target:null}},inject:["table"],mounted:function(){this.init()},beforeDestroy:function(){op.isEnabled&&op.off("change",this.change)},methods:{click:function(e){if(!op.isEnabled)return console.error("you browser can not work"),!1;this.target=e.target,op.toggle()},change:function(e){this.table.$el.contains(this.target)&&(this.isFullscreen=op.isFullscreen,this.table.isScreenfull=this.isFullscreen,this.isFullscreen||(this.target=null))},init:function(){op.isEnabled&&op.on("change",this.change)}}},rp=ip,sp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"eff-table__screenfull",class:{"exit-screenfull":e.isFullscreen},attrs:{title:e.isFullscreen?"退出全屏":"全屏"},on:{click:e.click}},e._l(4,(function(e){return n("div",{key:e,staticClass:"eff-table__screenfull-item",style:{transform:"rotate("+(90*(e+1)-45)+"deg)"}},[n("div",{staticClass:"eff-table__screenfull-arrow"})])})),0)},lp=[];sp._withStripped=!0;var cp=void 0,up=void 0,dp=void 0,pp=!1,hp=vc({render:sp,staticRenderFns:lp},cp,rp,up,pp,dp,!1,void 0,void 0,void 0),fp={name:"Icon",props:{iconClass:{type:String,default:""}},data:function(){return{stack:[],currentIndex:-1}},inject:["table"],mounted:function(){this.table.$on("table-update-data",this.onDataChange)},beforeDestroy:function(){this.table.$off("table-update-data",this.onDataChange)},methods:{prev:function(){if(-1!==this.currentIndex){var e=this.stack[this.currentIndex];Array.isArray(e)||(e=[e]),e=e.map((function(e){return e.content=e.oldData,e.notUpdateTableEvent=!0,e})),this.currentIndex-=1,this.table.$emit("edit-fields",e)}},next:function(){if(this.currentIndex!==this.stack.length-1){this.currentIndex+=1;var e=this.stack[this.currentIndex];Array.isArray(e)||(e=[e]),e=e.map((function(e){return e.content=e.newData,e.notUpdateTableEvent=!0,e})),this.table.$emit("edit-fields",e)}},onDataChange:function(e){this.stack.splice(this.currentIndex+1),this.stack.push(e),this.currentIndex=this.stack.length-1}}},mp=fp,vp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"eff-table__history"},[n("div",{staticClass:"eff-table__history-item",style:{transform:"rotate(90deg)"},attrs:{title:"撤销"},on:{click:e.prev}},[n("div",{staticClass:"eff-table__history-arrow",class:{"eff-table__history-disable":-1==e.currentIndex}})]),e._v(" "),n("div",{staticClass:"eff-table__history-item",style:{transform:"rotate(270deg)",marginLeft:"2px"},attrs:{title:"恢复"},on:{click:e.next}},[n("div",{staticClass:"eff-table__history-arrow",class:{"eff-table__history-disable":e.currentIndex==e.stack.length-1}})])])},bp=[];vp._withStripped=!0;var gp,yp,wp=void 0,xp=void 0,Cp=void 0,_p=!1,Sp=vc({render:vp,staticRenderFns:bp},wp,mp,xp,_p,Cp,!1,void 0,void 0,void 0),kp={name:"Toolbar",components:{Fullscreen:hp,EditHistory:Sp,Icon:Fc},inject:["table"],data:function(){return{load:!0,height:0}},watch:{height:function(e){this.table.toolbarHeight=e}},updated:function(){this.height=this.$el.offsetHeight},methods:{handleColumnControl:function(){this.table.$refs.drag.toggleCardShow()},handleColumnBatchControl:function(){this.table.$refs.columnBatchControl.toggleCardShow()},btnClick:function(e,t,n){var a=this;this.load=!1,e&&this.table.commitProxy(e),this.$nextTick((function(){a.load=!0}))}},render:function(e){var t=this,n=this.table,a=this.load,o=n.toolbarConfig,i=n.search,r=o||{},s=r.buttons,l=void 0===s?[]:s,c=r.refresh,u=r.seniorQuery,d=r.columnControl,p=r.columnBatchControl,h=r.fullscreen,f=r.editHistory,m=r.replace,v=r.subtotal,b=a?l.reduce((function(a,o,i){var r=o.code,s=o.on,l=void 0===s?{}:s,c=r?vu(l,{click:function(e){return t.btnClick(r,e,i)}}):l,u=Sl.merge({},o,{props:{size:"mini"}}),d=Object.assign(u,{on:c}),p=Qu.get("default");return p?a.concat(p.renderDefault(e,d,{root:n,table:n,vue:t,columnIndex:i})):a}),[]):"",g=b.concat(this.$slots.default||[])||[],y=function(){return n.$refs.replace.show=!n.$refs.replace.show},w=f||v||m||u||c||i||d||p||h;return e("div",{class:"eff-table__toobar"},[e("div",{class:"eff-table__toobar-left"},[g]),w?e("div",{class:"eff-table__toobar-right"},[f&&e(Sp,{attrs:{title:"编辑记录"}})||"",v&&e(Fc,{attrs:{icon:"subtotal",title:"小计"},on:{click:n.subtotal}})||"",m&&e(Fc,{attrs:{icon:"replace",title:"批量替换"},on:{click:y}})||"",u&&e(Fc,{attrs:{icon:"query",title:"高级搜索"},on:{click:n.seniorQueryOpen}})||"",c&&e(Fc,{attrs:{icon:"refresh",title:"刷新"},class:"table-refresh",on:{click:n.refresh}})||"",i&&e(Fc,{attrs:{icon:"clear-search",title:"清空搜索"},on:{click:n.clearSearch}})||"",d&&e(Fc,{attrs:{icon:"column-ctrl",title:"列控制"},on:{click:this.handleColumnControl}})||"",p&&e(Fc,{attrs:{icon:"column-batch-ctrl",title:"列批量控制"},on:{click:this.handleColumnBatchControl}})||"",h&&e(hp,{attrs:{title:"全屏"}})||""]):""])}},Ip=kp,Tp=void 0,$p=void 0,Op=void 0,jp=void 0,Ep=vc({},Tp,Ip,$p,jp,Op,!1,void 0,void 0,void 0),Rp={name:"Paginator",inject:["table"],props:["pageNum","pageSize","total"],methods:{onSizeChange:function(e){this.table.pager.pageNum=1,this.table.pager.pageSize=e,this.table.commitProxy("query"),this.table.$emit("table-page-num-change",{pageSize:e})},onCurrentChange:function(e){this.table.pager.pageNum=e,this.table.commitProxy("query"),this.table.$emit("table-page-size-change",{pageNum:e})}},render:function(e){var t=Qu.get("default").renderDefault,n=this.pageNum,a=this.pageSize,o=this.total,i=this.table,r=i.tableFooterConfig;r=void 0===r?{}:r;var s=r.pageConfig,l=void 0===s?{}:s,c=Object.assign({pageSizes:[10,50,100,200,300,400],layout:"total,prev,pager,next,sizes,jumper",pagerCount:5},l,{currentPage:n,pageSize:a,total:o});return t(e,{props:c,on:{"size-change":this.onSizeChange,"current-change":this.onCurrentChange},name:"pagination"},{table:this.table})}},Dp={name:"FooterAction",components:{Paginator:Rp},inject:["table"],data:function(){return{load:!0}},methods:{btnClick:function(e,t,n){var a=this;this.load=!1,e&&this.table.commitProxy(e),this.$nextTick((function(){a.load=!0}))}},render:function(e){var t=this,n=this.table,a=this.$slots,o=this.load,i=n.tableFooterConfig,r=i.buttons,s=void 0===r?[]:r,l=i.showPager,c=i.showBorder,u=i.changeOver,d=n.pager,p=d.pageNum,h=d.pageSize,f=d.total,m=o?s.reduce((function(a,o,i){var r=o.code,s=o.on,l=void 0===s?{}:s,c=r?vu(l,{click:function(e){return t.btnClick(r,e,i)}}):l,u=Sl.merge({},o,{props:{size:"mini"}}),d=Object.assign(u,{on:c}),p=Qu.get("default");return p?a.concat(p.renderDefault(e,d,{root:n,table:n,vue:t,columnIndex:i})):a}),[]):"",v=m.concat(a.default||[])||[],b=l&&e(Rp,{attrs:{pageNum:p,pageSize:h,total:f}})||"",g=n.baseHeight+"px";return e("div",{class:"eff-table__action eff-table__toobar",style:{border:c?"":"unset",height:g,"--rowHeight":g}},[u?[e("div",{class:"eff-table__toobar-left"},[b]),e("div",{attrs:{list:v},class:"eff-table__toobar-right"},[v])]:[e("div",{attrs:{list:v},class:"eff-table__toobar-right"},[v]),e("div",{class:"eff-table__toobar-right"},[b])]])}},Fp=Dp,Np=void 0,Pp=void 0,Mp=void 0,qp=void 0,Lp=vc({},Np,Fp,Pp,qp,Mp,!1,void 0,void 0,void 0),Ap=function(e){var t=e.cell,n=e.wrapper,a=e.leftWidth,o=e.rightWidth,i=e.overflowX,r=e.overflowY,s=n.getBoundingClientRect(),l=s.left,c=s.top,u=s.right,d=s.bottom,p=t.getBoundingClientRect(),h=p.left,f=p.top,m=p.right,v=p.bottom,b={};return i&&(b.left=l+a-h>2,b.right=u-m-o<=(i?17:0)),r&&(b.top=f-c<-2,b.bottom=d-v<=(r?17:0)),b},Bp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y",n="is-shake--"+t;e.classList.add(n),clearTimeout(a);var a=setTimeout((function(){e.classList.remove(n),clearTimeout(a)}),200)},Hp={name:"TableEdit",props:{columns:{type:Array,default:function(){return[]}}},data:function(){return{show:!1,row:null,rowid:null,column:null,rowIndex:null,cell:null,placement:"",component:null,componentValue:null,handleType:null,scrollNum:0,dialogVisible:!0,baseText:null,columnIndex:null,message:""}},inject:["table","root"],computed:{editRender:function(){var e=this,t=this.row,n=this.column;if(!t||!n)return"";var a=n||{},o=a.edit,i=a.prop,r=a.config,s=void 0===r?{}:r;if(Ql(n)){var l=this.rowIndex,c=this.table,u=this.$createElement,d=c.tableSourceData,p=c.tableTreeConfig,h=c.rowId,f=p.children,m=t[h],v=Sl.findTree(d,(function(e){return e[h]===m}),f)||{},b=v.item,g=this.getColumnIndex(n.prop),y=o||{},w=y.render;null!==gp&&yp===g||(gp=t&&t[i]||null,this.columnIndex=g,yp=g);var x=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=Sl.merge({name:"input"},s,a),r={root:c,table:c,vue:e,data:t,row:t,rowid:m,sourceRow:b,rowIndex:l,column:n,columnIndex:g,prop:a.prop||i,edit:e};o.name||(o.name="input");var d=o.props;d&&"function"===typeof d&&(o.props=d(r));var p=Qu.get(o.name);return p&&p.renderEdit&&p.renderEdit(u,o,r)||""};if("function"===typeof w){var C=w(u,{row:t,rowid:m,sourceRow:b,rowIndex:l,column:n,columnIndex:g,prop:i});return Gl(C)?C||"":x(C)}return x(w)}},hasTree:function(){return this.table.treeNum}},watch:{"table.tableData.length":function(){this.rowIndex=null},component:function(){this.dialogVisible=!0},rowIndex:function(e){null===e?(this.row=null,this.table.editStore.editRow={}):(this.table.editStore.editRow=this.row,this.hasTree||(this.row=this.table.afterData[e])),this.dialogVisible=!0},message:function(){this.table.$refs.popovers.validingTipClose()},show:function(e){var t=this,n=this.table;e?n.$emit("edit-open"):this.blurEvent().then((function(){t.placement="",t.scrollNum=0,t.column=null,t.cell=null,t.visible=!0,n.$emit("edit-close")}))},"table.scrollTop":function(e){this.wrapperScroll(e)},"table.scrollLeft":function(e){this.wrapperScroll(e)}},mounted:function(){var e=this;Tl(window,"resize",this.close),this.$nextTick((function(){e.wrapper=e.table.$el.querySelector(".eff-table__body-wrapper"),e.wrapper&&(e.body=e.wrapper.querySelector(".eff-table__body"))}))},beforeDestroy:function(){$l(window,"resize",this.close),this.wrapper=null,this.body=null;var e=this.editRender,t=this.component,n=this.validateShowpopover;e&&"input"===e.tag&&$l(e.elm,"input",n),t&&t.$off("input",n)},methods:{handleValidate:function(){var e=this.column,t=e||{},n=t.prop,a=t.rules,o=void 0===a?[]:a;return o.length&&this.row?this.table.validateField(n,o,this.row):this.$nextTick().then((function(){return!1}))},validateShowpopover:function(){var e=this,t=this.table,n=this.cell;this.handleValidate().then((function(a){a&&(e.message=a.message,setTimeout((function(){a.message&&t.$refs.popovers.validingTipShow({reference:n,showAllways:!0,effect:"error",message:a.message})}),20))}))},fieldChange:function(e){var t=this.table,n=this.row,a=this.rowIndex,o=this.column,i=this.columnIndex;t.$emit("field-change",{row:n,rowIndex:a,column:o,columnIndex:i,value:e}),t.dataChange(),this.validateShowpopover()},updateStatus:function(){var e=this.table,t=this.column,n=this.row;t&&t.prop&&n&&e.updateStatus(n,t.prop)},handleWindowMousedown:function(e){var t=this.show,n=this.$el,a=this.table;!t||n.contains(e.target)||a.tableEditConfig.editStop||(this.show=!1)},handleWindowKeyup:function(e,t){var n=this,a=this.show,o=this.table,i=this.row,r=this.inTable;if(a&&!o.tableEditConfig.editStop&&r(e.target)){e.stopPropagation(),e.preventDefault();var s={top:"arrowup",right:"enter",bottom:"arrowdown",left:"enter,shift"};if("escape"===t)return i[this.column.prop]=this.baseText,this.close();var l=setTimeout((function(){for(var a in s){var o=s[a];if(t===o){e.preventDefault(),n.placement=a,n.to(),clearTimeout(l);break}}}),50)}},wrapperScroll:function(e){this.scroll=e,this.show&&(this.scrollNum=this.scrollNum+1,this.scrollNum>3&&(this.show=!1))},to:function(){if(!this.hasTree){this.handleType="to";var e=this.placement,t=void 0===e?"right":e,n=this.column.prop;["left","right"].indexOf(t)>-1?this.toX():this.toY(n)}},canFocus:function(e,t){var n=e.type,a=["selection","index"];return Ql(e)&&e&&e.prop&&!this.disabled(e)&&-1===a.indexOf(n)&&(!t||t&&!t.classList.contains("is-hidden"))},toX:function(e){e&&(this.placement=e);var t=this.placement,n=this.columns,a=this.cellIndex,o=this.table,i=this.$el,r=this.canFocus,s=this.getColumn,l=this.editCell,c=0,u=[],d={},p=function(e){return e.filter((function(e){return r(e)}))};"right"===t?(c=a+1,u=p(n.slice(c)),d=u[0]||!1):(c=a,u=p(n.slice(0,c)),d=u[u.length-1]||!1);var h=s(d.prop),f=h.cell;d&&r(d,f)?this.blurEvent().then((function(){return l(d,f)})):o.tableEditConfig.editLoop?this.toY():Bp(i,"x")},getSkipPendingNum:function(e,t){var n=this.table,a=n.editStore.pendingList,o=n.rowId,i=n.afterData,r=i.slice(e,t);0===e&&r.reverse();var s=a.map((function(e){return e[o]}));if(a.length){var l=r.findIndex((function(e){return!s.includes(e[o])}));return-1===l?-1:l+1}return 1},toY:function(e){var t=this.table,n=this.placement,a=this.rowIndex,o=this.$el;if(["right","bottom"].includes(n)){var i=this.getSkipPendingNum(a+1,a+10);i>-1&&a+i<t.afterData.length?this.focus(a+i,e):Bp(o,"y")}else{var r=this.getSkipPendingNum(0,a);r>-1&&a-r>=0?this.focus(a-r,e):Bp(o,"y")}},disabled:function(e){var t=this.table.rowId,n=e||{},a=n.edit,o=void 0===a?{}:a,i=n.config,r=void 0===i?{}:i,s=Object.assign({},r,o),l=s.disabled,c=this.row,u=this.rowIndex,d=this.columnIndex;return!(!c||void 0===l)&&("function"===typeof l?Boolean(l({row:c,rowid:c[t],rowIndex:u,column:e,columnIndex:d})):Boolean(l)||!1)},handleEditCell:function(e){var t=this,n=e.row,a=e.rowid,o=e.column,i=e.cell,r=e.rowIndex;this.handleType="click",Ql(o)?this.blurEvent().then((function(){t.row=n,t.rowid=a,t.rowIndex=r,t.editCell(o,i)})):this.close()},editCell:function(e,t){var n=this;this.scrollNum=0;var a=e||{},o=a.prop,i=this.getColumnIndex,r=this.canFocus,s=this.getColumn,l=this.fixOverflowX,c=i(o),u=function(t){-1!==c&&r(e,t)&&n.fixOverflow(t,c).then((function(){n.column=e,n.cellIndex=c,n.cell=t||s(o).cell,n.show=!0,n.setElPos(),n.handleFocus();var a=n.table,i=a.copy,r=a.$refs;i&&r.selectRange.close()}))};t?u(t):l(c).then((function(){var e=s(o),n=e.cell;u(t||n)}))},fixOverflowX:function(e){var t=this.table,n=t.widths.columnWidths,a=t.bodyWrapperWidth;return this.table.scrollLeft=n.slice(0,e).reduce((function(e,t){return e+t}),0)-a/2,this.$nextTick()},fixOverflow:function(e,t){var n=this.wrapper,a=this.table,o=a.bodyWrapperWidth,i=a._rowHeight,r=a.widths,s=r.leftWidth,l=r.rightWidth,c=r.columnWidths,d=a.overflowX,p=a.overflowY,h=a.isScrollRightEnd,f=Ap({cell:e,wrapper:n,leftWidth:s,rightWidth:l,overflowX:d,overflowY:p}),m=n.getBoundingClientRect(),v=m.height,b=e.getAttribute("data-colid"),g=b.split("-"),y=u(g,1),w=y[0],x=!1;for(var C in f)if(f[C]){var _=a.scrollLeft,S=a.scrollTop;"left"===C&&a.scrollLeft>1||"right"===C&&!h?_=c.slice(0,t).reduce((function(e,t){return e+t}),0)-o/2:"top"!==C&&"bottom"!==C||(S=w*i-v/2),this.table.handleScroll(_,S,"#"),x=!0}return this.$nextTick().then((function(){return x}))},handleFocus:function(){var e=this;setTimeout((function(){var t=e.table,n=e.row,a=e.rowIndex,o=e.column,i=e.columnIndex,r=e.cell,s=e.editRender,l=e.editRender;l=void 0===l?{}:l;var c=l.componentInstance,u=e.validateShowpopover,d=e.fieldChange;if(s&&"input"===s.tag){var p=s.elm;return Tl(p,"input",d),p.focus&&p.focus(),void(t.tableFocusToSelect&&p.select&&p.select())}var h=e.$refs.editInput,f=function(){h&&h.focus()};if(s&&c){var m=c.getFocusComponent?c.getFocusComponent():c;if(e.component=m,e.componentValue=m.value,e.component&&e.component.$on("input",d),u(),c.disabled||m.disabled)return f(),void("to"===e.handleType&&["left","right"].indexOf(e.placement)>-1&&e.to());var v=m.getInput?m.getInput():m;(m.focus||v.focus)&&(m.focus?m.focus():v.focus(),e.table.$emit("focus",{prop:o.prop,row:e.row,rowIndex:a,columnIndex:i})),t.tableFocusToSelect&&v&&v.select&&v.select();var b=t.rowId;if(n&&o&&r){var g=t.validators.find((function(e){return e.id===n[b]&&e.prop===o.prop}));g&&t.$refs.popovers.validingTipShow({reference:r,showAllways:!0,effect:"error",message:g.message})}}else f()}),50)},setElPos:function(){var e=this.cell,t=this.table;if(e){var n=e.getBoundingClientRect(),a=n.left,o=n.top,i=n.width,r=n.height,s=t.$el.getBoundingClientRect(),l=s.left,c=s.top;this.$el.style.left="".concat(a-l-1,"px"),this.$el.style.top="".concat(o-c-1,"px"),this.$el.style.width="".concat(i+1,"px"),this.$el.style.height="".concat(r+1,"px")}},close:function(){this.show=!1,this.baseText=null},blurEvent:function(){var e=this,t=this.component,n=this.table,a=this.row,o=this.rowIndex,i=this.columnIndex,r=this.column,s=this.editRender,l=this.fieldChange,c=this.table.afterData;if(t){if(r&&r.prop&&n.$emit("field.change",r.prop,o),r&&r.prop&&null!==o&&c[o]){var u={rowIndex:o,columnIndex:i,newData:c[o][r.prop],oldData:gp};null!==u.oldData&&u.oldData!==u.newData&&this.table.$emit("table-update-data",u)}return this.handleValidate().then((function(){e.updateStatus();var c=t.close;if(c&&c(),r&&n.$emit("blur",{prop:r.prop,row:a,rowIndex:o,columnIndex:i}),n.$refs.popovers.validingTipClose(),s&&"input"===s.tag){var u=s.elm;$l(u,"input",l)}return e.component&&e.component.$off("input",l),e.$nextTick()}))}return this.$nextTick()},focus:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(this.table.visibleColumns.find((function(e){return t.canFocus(e)}))||{}).prop;n&&this.blurEvent().then((function(){var a=t.table,o=t.getColumn,i=t.editCell,r=t.fixOverflowX;e=Number(e);var s=a.afterData.length-1;t.rowIndex=e<0?0:e>s?s:e;var l=o(n,e),c=l.column,u=l.cell,d=l.columnIndex;t.column=c,u?setTimeout((function(){return i(c,u)})):r(d).then((function(){a.toScroll(e).then((function(){setTimeout((function(){var a=o(n,e),r=a.column,s=a.cell;t.column=r,t.handleType="to",i(r,s)}),100)}))}))}))},getRow:function(e,t){var n=e+1,a=t+1;return this.body.querySelector(".eff-table__body-row[data-rowid='".concat(e+1,"'] .eff-table__column[data-colid='").concat(n,"-").concat(a,"']"))},getColumn:function(e,t){var n=this.rowIndex,a=this.columns,o=this.getColumnIndex,i=this.getRow;void 0===t&&(t=n);var r=o(e),s=i(t,r),l=a[r];return{column:l,cell:s,columnIndex:r}},getColumnIndex:function(e){var t=this.table.bodyColumns,n=t.findIndex((function(t){return t.prop&&t.prop===e}));return n>-1?n:t.findIndex((function(e){return e.prop}))},inTable:function(e){return"BODY"===e.nodeName||this.table.$el.contains(e)}},render:function(e){var t=this.show,n=this.table,a=this.editRender,o="eff-table-edit".concat(t?" is-show":" is-hide"),i={"--height":n._rowHeight-2+"px"},r=e("input",{class:"eff-table-edit-input",ref:"editInput"});return e("div",{class:o,style:i},[[a,r]])}},Vp={name:"Loading",props:{visible:Boolean}},Wp=Vp,zp=function(e,t){var n=t._c;return t.props.visible?n("div",{staticClass:"eff-table__loading"},[n("div",{staticClass:"eff-table__loading-icon"})]):t._e()},Kp=[];zp._withStripped=!0;var Qp=void 0,Up=void 0,Xp=void 0,Yp=!0,Gp=vc({render:zp,staticRenderFns:Kp},Qp,Wp,Up,Yp,Xp,!1,void 0,void 0,void 0);Gp.install=function(e){e.component(Gp.name,Gp)},String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")};var Jp={data:function(){return{rowMap:{},handleType:"none",startPosition:{columnIndex:-1,rowIndex:-1},endPosition:{columnIndex:-1,rowIndex:-1},borderStyle:"solid",copyBtnType:"primary",toolStyle:{},headerCheckedColumns:[]}},computed:{selectRengeStore:function(){var e=this.startPosition,t=this.endPosition,n=this.borderStyle,a=t.rowIndex>e.rowIndex?e.rowIndex:t.rowIndex,o=t.rowIndex<e.rowIndex?e.rowIndex:t.rowIndex,i=t.columnIndex>e.columnIndex?e.columnIndex:t.columnIndex,r=t.columnIndex<e.columnIndex?e.columnIndex:t.columnIndex;return{startRow:a,endRow:o,startColumn:i,endColumn:r,borderStyle:n}},dirBottom:function(){var e=this.startPosition,t=this.endPosition;return t.rowIndex>e.rowIndex},dirRight:function(){var e=this.startPosition,t=this.endPosition;return t.columnIndex>e.columnIndex}},watch:{"table.scrollTop":function(e,t){"copyDown"===this.handleType&&(this.endPosition.y+=e-t),this.$set(this.toolStyle,"display","none")},"table.headerCheckedColumns":function(e){var t=this,n=e.map((function(e){return+e.columnId}));n.length&&(this.borderStyle="solid",this.handleType="copyDown",this.startPosition={rowIndex:0,columnIndex:Math.min.apply(Math,d(n))-1},this.endPosition={rowIndex:this.table.tableData.length-1,columnIndex:Math.max.apply(Math,d(n))-1},this.$nextTick((function(){t.selectRangeMouseUp()})))},selectRengeStore:function(e){var t=e.startRow,n=e.endRow,a=e.startColumn,o=e.endColumn;this.table.selectRengeStore={startRow:t,endRow:n,startColumn:a,endColumn:o}}},created:function(){this.table.selectRengeStore={startRow:-1,endRow:-1,startColumn:-1,endColumn:-1}},inject:["table"],mounted:function(){var e=this;this.table.$on("table-mouse-up",this.selectRangeMouseUp),this.table.$on("cell-mouse-down",this.selectRangeMouseDown),this.table.$on("cell-mouse-move",this.selectRangeMouseMove),this.table.$on("copy",(function(){"copyUp"===e.handleType&&(e.borderStyle="dashed")})),Tl(document,"scroll",this.onScroll),Tl(document,"paste",this.onPaste)},beforeDestroy:function(){$l(document,"scroll",this.onScroll),$l(document,"paste",this.onPaste)},methods:{onScroll:function(){this.$set(this.toolStyle,"display","none")},setRowMap:function(e){var t=this.rowMap,n=e.id;this.$set(t,n,e)},deleteRowMap:function(e){var t=this.rowMap;e in t&&delete t[e]},close:function(){this.handleType="none",this.startPosition={columnIndex:-1,rowIndex:-1},this.endPosition={columnIndex:-1,rowIndex:-1}},onClickCopy:function(){this.copyBtnType="success",document.execCommand("copy")},batchCopyMouseDown:function(e){1===e.which&&(this.handleType="batchCopuDown")},batchCopyMouseUp:function(e){1===e.which&&(this.borderStyle="solid",this.handleType="copyDown")},selectRangeMouseUp:function(e){var t=this;if("none"!==this.handleType){var n=this.table,a=this.dirBottom,o=this.selectRengeStore,i=o.startRow,r=o.endRow,s=o.startColumn,l=o.endColumn;if("batchCopuDown"===this.handleType){var c=function(e,a,o){for(var i=a;i<=o;i++)for(var r=n.tableData[i],c=[s,l].sort(),d=u(c,2),p=d[0],h=d[1],f=p;f<=h;f++){var m=n.bodyColumns[f],v=m.prop;v&&(Yl.call(t,r,v,Xl(e,v)),n.updateRow(r))}};a?c(n.tableData[i],i+1,r):c(n.tableData[r],i,r-1)}if(this.copyBtnType="primary","copyDown"===this.handleType){var d=document.getElementById("".concat(n.tableId,"_").concat(r+1,"-").concat(l+1));if(d){var p=d.getBoundingClientRect(),h=p.top,f=p.left,m=p.width,v=p.height;this.toolStyle={top:h+v-5+"px",left:f+m-5+"px"}}else this.toolStyle={top:"100%",left:"100%"}}this.handleType="copyUp"}},selectRangeMouseDown:function(e){if(1===e.event.which){var t=e.rowIndex,n=e.columnIndex,a=e.column;if(-1!==["expand","selection"].indexOf(a.type))return this.close();this.borderStyle="solid",this.handleType="copyDown",this.endPosition={rowIndex:t,columnIndex:n},this.startPosition={rowIndex:t,columnIndex:n},this.rowMap={}}},selectRangeMouseMove:function(e){var t=e.rowIndex,n=e.columnIndex,a=this.table,o=this.handleType;if(["copyDown","batchCopuDown"].some((function(e){return e===o}))&&(this.endPosition={rowIndex:t,columnIndex:n},"batchCopuDown"===o)){this.borderStyle="solid";var i=this.selectRengeStore,r=i.endRow,s=i.endColumn,l=document.getElementById("".concat(a.tableId,"_").concat(r+1,"-").concat(s+1));if(l){var c=l.getBoundingClientRect(),u=c.top,d=c.left,p=c.width,h=c.height;this.toolStyle={top:u+h-5+"px",left:d+p-5+"px"}}}},onPaste:function(e){var t=this;if("copyUp"!==this.handleType)return!0;this.table.$refs.edit&&this.table.$refs.edit.close();var n=this.selectRengeStore,a=n.startRow,o=n.startColumn,i=[],r=[],s=e.clipboardData.getData("text/plain").trim().split("\r\n");s.map((function(e,n){var s=e.split("\t"),l=n+a,c=t.table.tableData[l];c||r.push({}),s.forEach((function(e,t){var n=t+o;i.push({row:c,rowIndex:l,columnIndex:n,content:e})}))})),r.length&&this.table.insert(r,-1),this.table.$emit("edit-fields",i,!0),this.table.scrollTop&&(this.table.scrollTop+=.1),this.table.headerCheckedColumns=[]}}},Zp=Jp,eh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return["copyUp","batchCopuDown"].some((function(t){return t===e.handleType}))?n("div",{staticClass:"tool",style:e.toolStyle},["copyUp"===e.handleType?n("div",{staticClass:"sight",on:{mousedown:e.batchCopyMouseDown,mouseup:e.batchCopyMouseUp}}):e._e(),e._v(" "),n("div",{staticClass:"flex flex-direction"},["copyUp"===e.handleType?n("div",{class:["copy",e.copyBtnType],attrs:{title:"复制"},on:{click:function(t){return t.stopPropagation(),e.onClickCopy(t)}}},[e._m(0),e._v(" "),n("div",{staticClass:"after"})]):e._e()])]):e._e()},th=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"before"},[n("div"),e._v(" "),n("div")])}];eh._withStripped=!0;var nh=void 0,ah="data-v-1f898bca",oh=void 0,ih=!1,rh=vc({render:eh,staticRenderFns:th},nh,Zp,ah,ih,oh,!1,void 0,void 0,void 0),sh={name:"CopyList",props:{contextual:{type:Object,default:function(){}}},functional:!0,render:function(e,t){var n=t.props,a=n.contextual,o=a.table,i=a.tableData,r=a.tableColumns,s=void 0===r?[]:r,l=a.selectRengeStore,c=void 0===l?{}:l,u=a.vue,d=o.rowId,p=o.tableSourceData,h=c.startRow,f=void 0===h?-1:h,m=c.endRow,v=void 0===m?-1:m,b=c.startColumn,g=void 0===b?-1:b,y=c.endColumn,w=void 0===y?-1:y;if(!i.length||!s.length||-1===f)return"";for(var x=function(t){var n=t.row,a=t.rowIndex,i=t.column,r=t.columnIndex,s=i.cellRender,l=i.prop,c=i.config,h=void 0===c?{}:c,f=i.type,m=i.edit;m=void 0===m?{}:m;var v=m.render,b=function(t){var s={};if(Sl.isFunction(v)){var c=v(e,{row:n,sourceRow:x,rowIndex:a,column:i,columnIndex:r,prop:l});Gl(c)||Object.assign(s,c)}var m=Sl.merge({},h,s,t),b=m.name,g=m.tag,y=m.format,w=Qu.get(s.name||b)||g&&Qu.get("default"),x=p.find((function(e){return e[d]===n[d]}))||{},C={root:o,table:o,vue:u,data:n,row:n,sourceRow:x,rowIndex:a,column:i,columnIndex:r,prop:s.prop||l,renderCell:!0};return Sl.isFunction(y)?y(C):w?w.renderDefault(e,m,C):"index"===f?a+1:l?Xl(n,l):""};if(Sl.isFunction(s)){var g=s(e,{row:n,rowIndex:a,column:i,columnIndex:r,prop:l});return Gl(g)?g||"":Sl.isObject(g)?b(g):g}return b(s)},C=[],_=0,S=f;S<=v;S++){var k=i[S],I=S-_;C[I]||(C[I]=[]);for(var T=g;T<=w;T++){var $=s[T],O=x({row:k,rowIndex:S,column:$,columnIndex:T});C[I].push(Sl.isString(O)?O:"")}}return o.$emit("select-range-data",[].concat(C)),e("div",{class:"eff-table--copy"},[C])}},lh={name:"Copy",components:{CopyList:sh},data:function(){return{textArr:[]}},inject:["table"],mounted:function(){this.offListener(),this.onListener()},beforeDestroy:function(){this.offListener()},methods:{onCopy:function(e){var t,n=this;if(this.table.isCopyFunc){this.table.isCopyFunc=!1;var a=[];this.table.selecteds.forEach((function(e){var t=n.table.tableData[e],o=[];n.table.columns.forEach((function(e){e.prop&&t[e.prop]&&o.push(t[e.prop])})),a.push(o)})),t=a}else t=this.textArr;if(!t.length)return!0;t=t.map((function(e){return e.join("\t ")}));var o=t.join("\r\n");e.clipboardData.setData("text/plain",o),this.table.$emit("copy"),e.preventDefault()},onListener:function(){var e=this;this.table.$on("select-range-data",(function(t){e.textArr=t})),Tl(document,"copy",this.onCopy)},offListener:function(){this.table.$off("select-range-data"),$l(document,"copy",this.onCopy)}},render:function(){var e=arguments[0],t=this.table,n=t.tableData,a=t.tableColumns,o=t.selectRengeStore;return e(sh,{attrs:{contextual:{table:t,tableData:n,tableColumns:a,selectRengeStore:o,vue:this}}})}},ch=lh,uh=void 0,dh=void 0,ph=void 0,hh=void 0,fh=vc({},uh,ch,dh,hh,ph,!1,void 0,void 0,void 0),mh={name:"TablecolumnBatchControl",components:{Card:Kd,VCheckbox:Cc},props:{value:{type:Array,default:function(){return[]}}},dragToEl:{},data:function(){return{columns:Sl.clone(this.table.tableColumns,!0),show:!1}},inject:["table"],computed:{leftStyle:function(){return{width:this.subfieldColumns.left.length?"25%":"60px"}},rightStyle:function(){return{width:this.subfieldColumns.right.length?"25%":"60px"}},subfieldColumns:function(){return Zl(this.columns)}},watch:{value:function(e){this.columns=Sl.clone(e,!0)}},mounted:function(){var e=this;this.$nextTick((function(){var t=e.handleEnd,n=e.$el,a=Math.floor(1e5*Math.random());e.cradsSortable=[];var o=function(o,i){e.cradsSortable[i]=new _d({el:n.querySelector(".eff-column__batch-control--".concat(o," .eff-column__batch-control--list")),group:a,dragClass:"drag",chosenClass:"is--draging",onEnd:t})};["left","center","right"].forEach((function(e,t){return o(e,t)}))}))},beforeDestroy:function(){this.cradsSortable=null},methods:{toggleCardShow:function(e){this.show=!this.show},resetColumns:function(){this.columns=Sl.clone(this.value,!0)},save:function(){this.$emit("input",this.columns),this.close(),this.table.doLayout()},close:function(){this.show=!1,this.$emit("cardClose")},handleEnd:function(e){var t=e.fromIndex,n=e.toIndex,a=e.from,o=e.to,i=(e.fromEl,e.toEl,+a.getAttribute("data-index")+t),r=+o.getAttribute("data-index")+n,s=Sl.clone(this.columns,!0);jl(o,"left")&&(s[i].fixed="left"),jl(o,"right")&&(s[i].fixed="right"),jl(o,"center")&&(s[i].fixed="");var l=s.splice(i,1)[0];s.splice(r,0,l),this.columns=s}}},vh=mh,bh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("card",{attrs:{show:e.show,title:"列批量控制","min-height":300,height:300,width:800,"min-width":400,"title-suffix":{message:"单击切换列显示/隐藏，拖动调整列顺序"}},on:{close:e.close}},[n("template",{slot:"header"},[n("div",[n("el-button",{attrs:{size:"mini"},on:{click:e.resetColumns}},[e._v("还原")]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.save}},[e._v("保存")])],1)]),e._v(" "),n("div",{staticClass:"eff-column__batch-control"},[n("div",{staticClass:"eff-column__batch-control--left",style:e.leftStyle},[n("div",{staticClass:"eff-column__batch-control--title"},[n("span",[e._v("左固定列")]),e._v(" "),n("small",[e._v("("+e._s(e.subfieldColumns.left.length)+")")])]),e._v(" "),n("div",{staticClass:"eff-column__batch-control--list left",attrs:{"data-index":0}},e._l(e.subfieldColumns.left,(function(t,a){return n("VCheckbox",{key:a,staticClass:"eff-column__batch-control--item",model:{value:t.show,callback:function(n){e.$set(t,"show",n)},expression:"d.show"}},[e._v(e._s(t.title||t.type))])})),1)]),e._v(" "),n("div",{staticClass:"eff-column__batch-control--center"},[n("div",{staticClass:"eff-column__batch-control--title"},[n("span",[e._v("基础列")]),e._v(" "),n("small",[e._v("("+e._s(e.subfieldColumns.center.length)+")")])]),e._v(" "),n("div",{staticClass:"eff-column__batch-control--list center",attrs:{"data-index":e.subfieldColumns.left.length}},e._l(e.subfieldColumns.center,(function(t,a){return n("VCheckbox",{key:a,staticClass:"eff-column__batch-control--item",model:{value:t.show,callback:function(n){e.$set(t,"show",n)},expression:"d.show"}},[e._v(e._s(t.title||t.type))])})),1)]),e._v(" "),n("div",{staticClass:"eff-column__batch-control--right",style:e.rightStyle},[n("div",{staticClass:"eff-column__batch-control--title"},[n("span",[e._v("右固定列")]),e._v(" "),n("small",[e._v("("+e._s(e.subfieldColumns.right.length)+")")])]),e._v(" "),n("div",{staticClass:"eff-column__batch-control--list right",attrs:{"data-index":e.subfieldColumns.left.length+e.subfieldColumns.center.length}},e._l(e.subfieldColumns.right,(function(t,a){return n("VCheckbox",{key:a,staticClass:"eff-column__batch-control--item",model:{value:t.show,callback:function(n){e.$set(t,"show",n)},expression:"d.show"}},[e._v(e._s(t.title||t.type))])})),1)])])],2)},gh=[];bh._withStripped=!0;var yh=void 0,wh="data-v-ebeff4b2",xh=void 0,Ch=!1,_h=vc({render:bh,staticRenderFns:gh},yh,vh,wh,Ch,xh,!1,void 0,void 0,void 0),Sh={data:function(){return{validators:[]}},methods:{validateField:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.data;e||console.error("需要校验的字段，必须具有 prop 属性");var o=this.validators,i=this.rowId,r=this.formItems,s=Sl.get(a,e),l=a[i],c=r.find((function(t){return t.prop===e}))||{};if(!t){var u=c.rules,d=void 0===u?[]:u;Array.isArray(d)&&(t=d)}return nc(t,{value:s,row:a,column:c,id:l,prop:e}).then((function(t){var a=o.findIndex((function(t){return t.prop===e}));return t.message?-1===a?o.push(t):o.splice(a,1,t):a>-1&&o.splice(a,1),n.$emit("validate",t,o),t}))},validate:function(){var e=this.data,t=this.formItems;return ac([e],t.map((function(e){return{prop:e.prop,rules:e.rules}})),this.validateField)},clearValidate:function(e){var t=this,n=function(e){var n=t.validators,a=n.findIndex((function(t){return t.prop===e}));a>-1?n.splice(a,1):console.error("clearValidate: 请传入正确的参数")};e?Array.isArray(e)?e.forEach((function(e){n(e)})):n(e):this.validators=[]}}},kh=function(){return document.addEventListener?function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e&&t&&n&&e.addEventListener(t,(function(e){n(e)}),a)}:function(e,t,n){e&&t&&n&&e.attachEvent("on"+t,(function(e){n(e)}))}}(),Ih=function(){return document.removeEventListener?function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e&&t&&e.removeEventListener(t,n,a)}:function(e,t,n){e&&t&&e.detachEvent("on"+t,n)}}(),Th=function(e){return["TEXTAREA","INPUT","SELECT"].includes(e.nodeName)},$h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"childNodes";if(t(e))return e;var a=function e(t,a){var o=t[n];if(!o||!o.length)return!1;for(var i=0;i<o.length;i++){var r=o[i];if("#comment"!==r.nodeName)return a(r)?r:e(r,a)}};return a(e,t)},Oh=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Th;return $h(e,t)},jh=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e.focus};return $h(e,t,"$children")},Eh={prevKeys:"shift+enter",nextKeys:"enter",skips:[],loop:!0},Rh={data:function(){return{formItems:Object.freeze([]),curprop:null,placement:null}},created:function(){var e=this.focusOpen,t=this.lineSlotChange,n=this.onFocus,a=this.onBlur,o=this.keyup,i=this.click;this.$on("form-item-change",t),e&&(this.$on("on-focus",n),this.$on("on-blur",a),kh(window,"keyup",o),kh(window,"click",i))},beforeDestroy:function(){var e=this.focusOpen,t=this.lineSlotChange,n=this.onFocus,a=this.onBlur,o=this.keyup,i=this.click;this.$off("form-item-change",t),e&&(this.$off("on-focus",n),this.$off("on-blur",a),Ih(window,"keyup",o),Ih(window,"click",i))},computed:{focusCtrl:function(){return o(o({},Eh),this.focusOptions)},prevKeys:function(){return this.focusCtrl.prevKeys?this.focusCtrl.prevKeys.toLowerCase().split("+").sort().toString():""},nextKeys:function(){return this.focusCtrl.prevKeys?this.focusCtrl.nextKeys.toLowerCase().split("+").sort().toString():""},revformItems:function(){return d(this.formItems).reverse()},formItemsProp:function(){return this.formItems.map((function(e){return e.prop}))}},methods:{lineSlotChange:function(e){var t=d(this.formItems),n=t.findIndex((function(t){return t.prop===e.prop}));-1===n?t.push(e):t.splice(n,1,e),this.formItems=Object.freeze(t)},onFocus:function(e){var t=this;this.focusTimer=setTimeout((function(){t.curprop=e,t.$emit("focus",e)}),50)},onBlur:function(e){this.$emit("blur",e),this.focusTimer=null},_clear:function(){this.curprop=null},click:function(e){var t=this.curprop,n=this.formItems,a=this._clear;t&&!n.find((function(t){return t.slot.$el.contains(e.target)}))&&a()},keyup:function(e){var t=this.curprop,n=this.editIsStop,a=this.prevKeys,o=this.nextKeys,i=this.formItemsProp,r=this.prevFocus,s=this.nextFocus,l=this.focus,c=e.key||e.keyIdentifier;if(t&&!n&&c){var u=c.toLowerCase(),d=new Set,p=[{key:"alt",down:e["altKey"]},{key:"control",down:e["ctrlKey"]},{key:"shift",down:e["shiftKey"]}];p.forEach((function(e){e.down&&d.add(e.key.toLowerCase())})),d.add(u);var h=Array.from(d).sort().toString();if(h===a&&r(t),h===o&&s(t),/\/\d\//.test(t)){var f=function(e){return t.replace(/\/(\d)\//,(function(t,n){return"/".concat(+n+e,"/")}))},m=f(-1),v=f(1);"arrowup"===h&&i.includes(m)&&l(m),"arrowdown"===h&&i.includes(v)&&l(v)}this.$emit("keyup",h,t,e)}},prevFocus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.curprop,t=this.revformItems,n=this.nextNodeFocus;this.placement="left",n(e,t)},nextFocus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.curprop,t=this.formItems,n=this.nextNodeFocus;this.placement="right",n(e,t)},nextNodeFocus:function(e,t){var n=this,a=t.findIndex((function(t){return t.prop===e}))||0;if(-1!==a){for(var o,i=t.length,r=jh(t[a].slot),s=function(){try{if(r)r.blur&&r.blur(),r.handleClose&&r.handleClose();else{var e=t[a].input;e&&e.blur&&e.blur()}}catch(n){console.error(n)}},l=a+1;l<i;l++){var c=t[l];if(this._isCanFocus(c)){o=l;break}}var u=this.placement,d=this.data;if(a===i-1||void 0===o){if(!this.focusCtrl.loop){var p="left"===u?"first-focused-node-prev":"last-focused-node-next";return this.$emit(p,{prop:this.curprop,placement:u}),this._clear(),void s()}o=t.findIndex((function(e){return n._isCanFocus(e)})),this.$emit("loop",{prop:this.curprop,placement:u,data:d})}var h="right"===u?"focus-prev":"focus-next";if(this.$emit(h,{prop:this.curprop,placement:u}),!this.focusPause){o!==a&&s();try{var f=this.getFocusNode(o,t);f&&f.focus&&f.focus()}catch(m){console.log(m)}}}},getFocusNode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.formItems,n=t[e],a=jh(n.slot);return n&&(a||n.input)},_isCanFocus:function(e){var t=e.prop,n=e.slot,a=e.input,o=jh(n);return(!t||t&&!this.focusCtrl.skips.find((function(e){return e===t})))&&(o&&!o.disabled||!o&&a&&!a.disabled)},focus:function(e){this.getInput(e).focus&&this.getInput(e).focus()},blur:function(e){this.getInput(e).blur&&this.getInput(e).blur()},select:function(e){this.getInput(e).select&&this.getInput(e).select()},getInput:function(e){var t=this.formItems,n=this._isCanFocus,a=this.getFocusNode;e&&!t.find((function(t){return t.slot.prop===e}))&&console.error("focus方法传入的prop [".concat(e,"] 没有定义"));var o=e?t.findIndex((function(t){return t.prop===e})):t.findIndex((function(e){return n(e)}));if(-1!==o)return a(o)}}},Dh={name:"VFormField",props:{prop:{type:String,default:""},rowIndex:{type:Number,default:null},rules:{type:Array,default:function(){return[]}},validatorStyle:{type:Object,default:function(){return{borderColor:"#F56C6C"}}}},data:function(){return{handlerNode:null,input:null,component:null,initValue:null}},inject:{form:{default:null},table:{default:null}},computed:{data:function(){return this.form&&this.form.data},root:function(){var e=this.form,t=this.table;return e||t},trigger:function(){return(this.rules.find((function(e){return e.trigger}))||{}).trigger||"blur"},message:function(){var e=this.root,t=this.prop;return(e.validators.find((function(e){return e.prop===t}))||{}).message}},watch:{message:function(e){var t=this;this.form&&this.$nextTick((function(){t.setNodeStyle()}))}},created:function(){var e=this.data,t=void 0===e?{}:e,n=this.prop,a=Sl.get(t,n);!a&&n&&Ul(t,n,this)},mounted:function(){var e=this,t=Sl.get(this.data,this.prop);this.initValue=t,this.$nextTick((function(){e.init()}))},beforeDestroy:function(){this.component=null,this.input=null,this.handlerNode=null,this.initValue=null;var e=this.rules,t=this.input,n=this.component,a=this.trigger,o=this.handleValidate,i=this.onFocus,r=this.onBlur,s=this.visibleChange;this.$children.length&&n?(n.$off("focus",i),n.$off("blur",r),n.$off("visible-change",s),e.length&&n.$off(a,o)):t&&(Ih(t,"focus",i),Ih(t,"blur",r),e.length&&Ih(t,a,o))},methods:{init:function(){if(!this.form.readonly){this.component=jh(this);var e=this.form,t=this.prop,n=this.rules,a=this.trigger,o=this.component,i=this.$el,r=this.onFocus,s=this.onBlur,l=this.handleValidate,c=this.visibleChange;if(this.$children.length&&o)o.getInput&&(this.handlerNode=this.input=o.getInput()),o.$on("focus",r),o.$on("blur",s),o.$on("visible-change",c),n.length&&o.$on(a,l),this.handlerNode=Oh(o.$el)||o.$el;else{this.input=Oh(i),this.handlerNode=this.input||i;var u=this.input;u&&(kh(u,"focus",r),kh(u,"blur",s),n.length&&kh(u,a,l))}e.$emit("form-item-change",{prop:t,slot:this,input:this.input,rules:n})}},visibleChange:function(e){this.form.focusOpen&&(this.root.editIsStop=e)},onFocus:function(){var e=this.component;this.form.focusOpen&&this.form.$emit("on-focus",this.prop),this.form.formFocusToSelect&&(this.input?this.input.select&&this.input.select():e&&e.select&&e.select())},onBlur:function(){var e=this.form,t=this.prop;e.focusOpen&&e.$emit("on-blur",t)},handleValidate:function(){var e=this.root,t=this.data,n=this.prop,a=this.rules;a.length&&e.validateField(n,a,t)},setNodeStyle:function(){var e=this.handlerNode,t=this.message,n=this.validatorStyle;for(var a in n){var o=n[a];e.style[a]=t?o:""}},updateField:function(){var e=this.data,t=this.prop;this.initValue=Sl.get(e,t)},resetField:function(){var e=this.data,t=this.prop;Sl.set(e,t,this.initValue)}}},Fh=Dh,Nh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"v-form-filed":!0},on:{mouseenter:function(t){return e.$emit("mouseenter")},mouseleave:function(t){return e.$emit("mouseleave")}}},[e._t("default",null,null,e.$attrs)],2)},Ph=[];Nh._withStripped=!0;var Mh=void 0,qh=void 0,Lh=void 0,Ah=!1,Bh=vc({render:Nh,staticRenderFns:Ph},Mh,Fh,qh,Ah,Lh,!1,void 0,void 0,void 0),Hh={name:"VFormItem",components:{FormField:Bh,PrefixSuffix:Md},props:{title:{type:[String,Function],default:""},titleWidth:{type:String,default:""},showTitle:{type:Boolean,default:!0},titleBorder:Boolean,span:{type:Number,default:function(){return 0}},rules:{type:Array,default:function(){return[]}},prop:{type:String,default:""},titlePrefix:{type:[Object,Function],default:function(){}},titleSuffix:{type:[Object,Function],default:function(){}}},inject:{form:{default:null},table:{default:null}},computed:{titleName:function(){var e=this.title;return Wl(e,this.form.data)},root:function(){return this.form||this.table},required:function(){return Boolean(this.rules.find((function(e){return e.required})))},tWidth:function(){var e=this.titleWidth,t=this.form,n=e||t.titleWidth;return"auto"===n?n:n||"80px"},labelWidth:function(){var e=this.required,t=this.titlePrefix,n=this.titleSuffix,a=this.tWidth;if("auto"===a)return a;var o=parseInt(a);return e&&(o-=10),t&&(o-=16),n&&(o-=16),o-12},msgType:function(){var e=this.form,t=this.table;return e&&(e.messageType||"text")||t&&"popover"||"text"},message:function(){var e=this.root,t=this.prop;return(e.validators.find((function(e){return e.prop===t}))||{}).message}},methods:{mouseenter:function(){if("auto"!==n){var e=this.form,t=this.titleName,n=this.labelWidth,a=this.$refs,o=a.label;ql(o)>n&&e.tipShow({reference:o,effect:"dark",message:t,isFixed:!0})}},mouseleave:function(){this.form.tipClose()},handlerNodeMouseenter:function(e){var t=this.msgType,n=this.root,a=this.message,o=this.$refs;"popover"===t&&a&&n&&this.root.tipShow({reference:o.formField.handlerNode,effect:"error",message:a})},handlerNodeMouseleave:function(e){"popover"===this.msgType&&this.root&&this.root.tipClose()}}},Vh=Hh,Wh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["v-form-item",e.span&&"span-"+e.span,e.required&&"is-required"],style:{"--lineHeight":e.form.lineHeight}},[e.showTitle&&(e.titleName||"top"===e.form.titleAlign)?n("PrefixSuffix",{ref:"title",class:["v-form-item__title",e.titleBorder&&"is--title-border"],style:{flex:"0 0 "+e.tWidth,height:"32px"},attrs:{tag:"label",prefix:e.titlePrefix,suffix:e.titleSuffix}},[n("div",{ref:"label",staticClass:"v-form-item__title-label",style:{maxWidth:"top"===e.form.titleAlign?"auto":e.labelWidth+"px"},on:{mouseenter:e.mouseenter,mouseleave:e.mouseleave}},[e._v(e._s("top"!==e.form.titleAlign||e.titleName?e.titleName:" "))])]):e._e(),e._v(" "),n("div",{staticClass:"v-form-item__content"},[n("FormField",{ref:"formField",attrs:{prop:e.prop,rules:e.rules},on:{mouseenter:e.handlerNodeMouseenter,mouseleave:e.handlerNodeMouseleave}},[e._t("default")],2),e._v(" "),"text"===e.msgType&&e.message?n("div",{staticClass:"v-form-filed--message"},[e._v(e._s(e.message))]):e._e()],1)],1)},zh=[];Wh._withStripped=!0;var Kh=void 0,Qh=void 0,Uh=void 0,Xh=!1,Yh=vc({render:Wh,staticRenderFns:zh},Kh,Vh,Qh,Xh,Uh,!1,void 0,void 0,void 0),Gh={name:"VForm",components:{VFormItem:Yh,Popover:Pc},mixins:[Sh,Rh],props:{data:{type:Object,default:function(){return{}}},items:{type:Array,default:function(){return[]}},direction:{type:String,default:"row"},currentPath:{type:String,default:""},titleWidth:{type:String,default:""},titleAlign:{type:String,default:"right"},lineHeight:{type:String,default:"32px"},itemGutter:{type:Number,default:0},rowledge:{type:String,default:"24px"},focusOpen:{type:Boolean,default:!1},focusOptions:{type:Object,default:function(){}},width:{type:String,default:""},messageType:{type:String,default:""},focusStop:Boolean,focusPause:Boolean,readonly:Boolean,autofocus:Boolean,focusToSelect:Boolean},provide:function(){return{form:this,root:this,table:this}},inject:{table:{default:null}},data:function(){return{inputIndex:0,editIsStop:this.focusStop,popoverOpts:{}}},computed:{formClass:function(){var e=this.titleAlign,t="v-form ";return e&&(t+="v-form--title-".concat(e," ")),t}},watch:{focusStop:function(e){this.editIsStop=e}},created:function(){var e=this.$EFF.focusToSelect;Object.assign(this,{formFocusToSelect:this.focusToSelect||!!e})},mounted:function(){var e=this;this.$nextTick((function(){e.autofocus&&e.focus()}))},methods:{itemRender:function(e){var t=this.$createElement,n=this.table,a=this.data,o=this.readonly,i=e.prop,r=e.options,s=e.label,l=void 0===s?"label":s,c=e.value,u=void 0===c?"value":c,d=e.format,p=e.itemRender;if(o)return Sl.get(a,i);var h={root:this,table:n,row:a,form:this,vue:this,data:a,column:e,prop:i};if(Sl.isFunction(d))return d(h);if("function"===typeof p)return p(t,{table:n,form:this,data:a})||"";var f=Object.assign({name:"input",options:r,label:l,value:u},p),m=f.name,v=Qu.get(m);if(v){var b=v.renderEdit||v.renderDefault;return b(t,f,h)||""}return""},setEditStop:function(e){this.editIsStop=e},tipShow:function(e){this.$refs.popover.doShow(),this.popoverOpts=e},tipClose:function(){this.$refs.popover.doHide()},resetFields:function(){this.clearValidate(),this.formItems.forEach((function(e){e.slot.resetField()}))},getFormData:function(){return this.data}},render:function(e){var t=this.items,n=this.titleAlign,a=this.width,o=this.$slots,i=this.itemGutter,r=this.rowledge,s=this.itemRender,l=this.data,c=this.popoverOpts,u=this.direction;return e("div",{class:["v-form",n?"v-form--title-".concat(n):"","column"===u?"is--column":""],style:{width:a,"column-gap":i+"px","row-gap":r}},[o.form||t.map((function(t){var n=Object.assign({},t,{data:l,column:t}),a=t.prop,i=o["item_"+a];return e("v-form-item",{props:n},[i||s(t)])})),o.default,e("Popover",{ref:"popover",props:c})])}},Jh=Gh,Zh=void 0,ef=void 0,tf=void 0,nf=void 0,af=vc({},Zh,Jh,ef,nf,tf,!1,void 0,void 0,void 0),of={name:"TableReplace",components:{Card:Kd,vForm:af},props:{columns:{type:Array,default:function(){return[]}}},dragToEl:{},data:function(){return{show:!1,list:Sl.clone(this.columns,!0),realColumns:[],searchValue:"",data:{},historyList:[]}},inject:["table"],computed:{columnsStore:function(){return this.list.reduce((function(e,t){var n=t.pos||"right";return e[n].push(t),e}),{left:[],right:[]})},leftColumns:function(){var e=this;return this.columnsStore.left.reduce((function(t,n){var a=n.prop,o=n.options;return t.concat([{prop:"search"+a,path:a,itemRender:{name:"select",options:o},placeholder:"请选择替换内容",options:[{label:1,value:1}],title:n.title,span:13},{span:8,placeholder:"请输入填充内容",prop:"replace"+a,path:a,itemRender:n.config},{span:3,itemRender:{name:"button",props:{type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.deleted(n)}}}}])}),[])},rightColumns:function(){var e=this;return this.columnsStore.right.reduce((function(t,n){return!e.searchValue||e.searchValue&&n.title.indexOf(e.searchValue)>-1?t.concat([n]):t}),[])}},watch:{"columns.length":function(){this.list=Sl.clone(this.columns,!0)}},mounted:function(){var e=this;this.realColumns=Kl(this.initColumns),this.$nextTick((function(){var t=e.handleEnd,n=Math.floor(1e5*Math.random());e.cradsSortable=[];var a=function(a,o){e.cradsSortable[o]=new _d({el:e.$el.querySelector(".eff-replace-".concat(a,"--list")),group:n,dragClass:"drag",chosenClass:"is--draging",filter:"v-form",onEnd:t})};["left","right"].forEach((function(e,t){return a(e,t)}))}))},methods:{handleEnd:function(e){e.fromIndex,e.toIndex,e.from;var t=e.to,n=e.fromEl,a=(e.toEl,this.list),o=this.table,i=a.findIndex((function(e){return e.title===n.innerText}));jl(t,"eff-replace-left--list")?(a[i].pos="left",a[i].options=[{label:"全部",value:"全部"},{label:"空值",value:"空值"}].concat(o.tableData.reduce((function(e,t){var n=t[a[i].prop];return n&&!e.find((function(e){return e.label===n}))?e.concat([{label:n,value:n}]):e}),[]))):a[i].pos="right",this.list=d(a)},deleted:function(e){var t=this.list.findIndex((function(t){return[t].some((function(t){return t===e}))}));this.list[t].pos="right",this.list=d(this.list)},confirm:function(){var e=this;if(this.leftColumns.length){var t=d(this.table.tableData);t.forEach((function(t,n){e.leftColumns.forEach((function(a){var o=a.prop,i=a.path,r=a.title,s=e.data["search"+i],l=e.data["replace"+i],c=t[i];if(o&&!(o.indexOf("search")<0)&&s){var u=!1;"全部"===s?u=!0:"空值"===s?c||(u=!0):c===s&&(u=!0),u&&(t[i]=l,c!==l&&e.historyList.unshift({title:r,column:a,rowIndex:n,oldValue:c,newValue:l,back:!1}))}})),e.table.updateRow(t)})),this.$message.success("替换成功！")}},open:function(){this.show=!0},close:function(){this.show=!1},clearHistory:function(){this.historyList=[]},back:function(e){var t=e.title,n=e.rowIndex,a=e.column,o=e.oldValue,i=e.newValue,r=this.table.tableData[n];r[a.path]=o,this.table.updateRow(r),this.historyList.unshift({title:t,column:a,rowIndex:n,oldValue:i,newValue:o,back:!0}),this.$message.success("还原成功！")}}},rf=of,sf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("card",{staticClass:"eff-replace",attrs:{show:e.show,title:"批量替换","min-height":300,height:500,width:800,"min-width":400,"title-suffix":{message:"把要替换的字段从右侧拖到左侧"}},on:{close:e.close}},[n("template",{slot:"header"},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.confirm}},[e._v(" 确定 ")])],1),e._v(" "),n("div",{staticClass:"eff-replace-container"},[n("div",{staticClass:"eff-replace-left"},[n("div",{staticClass:"eff-replace-left--list"},[n("v-form",{ref:"form",attrs:{"data-index":0,columns:e.leftColumns,data:e.data,rowledge:"10px"}})],1),e._v(" "),n("div",{staticClass:"eff-replace-history"},[n("div",{staticClass:"eff-replace-history-header"},[n("strong",[e._v("替换记录")]),e._v(" "),n("span",{staticClass:"eff-replace-history-header--clear",on:{click:e.clearHistory}},[e._v("清除记录")])]),e._v(" "),n("div",{staticClass:"eff-replace-history-list"},e._l(e.historyList,(function(t,a){return n("div",{key:a,staticClass:"eff-replace-history-item"},[e._v("\n            "+e._s("第"+(t.rowIndex+1)+"行 ["+t.title+"] 列的值由 ["+t.oldValue+"] "+(t.back?"还原":"替换")+"为 ["+t.newValue+"]")+" "),t.back?e._e():n("span",{staticClass:"eff-replace-history--back",on:{click:function(){return e.back(t)}}},[e._v("还原")])])})),0)])]),e._v(" "),n("div",{staticClass:"hr"}),e._v(" "),n("div",{staticClass:"eff-replace-right"},[n("VRender",{attrs:{config:{name:"input",props:{value:e.searchValue},attrs:{placeholder:"搜索字段"},on:{input:function(t){return e.searchValue=t}}}}}),e._v(" "),n("div",{staticClass:"eff-replace-right--list"},[e._l(e.rightColumns,(function(t,a){return[n("div",{key:a,staticClass:"eff-replace-item",attrs:{"data-key":a}},[e._v("\n            "+e._s(t.title)+"\n          ")])]}))],2)],1)])],2)},lf=[];sf._withStripped=!0;var cf=void 0,uf="data-v-5a56b94f",df=void 0,pf=!1,hf=vc({render:sf,staticRenderFns:lf},cf,rf,uf,pf,df,!1,void 0,void 0,void 0),ff={name:"EffFilter",components:{Popover:Pc,Checkbox:Cc},inject:["table"],data:function(){return{filterPopoverOpts:{column:{filters:[]}}}},computed:{isDisabled:function(){var e=this.table,t=this.filterPopoverOpts,n=e.filters,a=t.column,o=a.filters,i=n.find((function(e){return e.column.columnId===a.columnId}));return!o.find((function(e){return e.checked}))&&(!i||i&&!i.column.filters.find((function(e){return e.checked})))}},mounted:function(){Object.assign(this,{filterPopover:this.$refs.filterPopover})},methods:{toggleTipShow:function(e){var t=this;this.filterPopover||(this.filterPopover=this.$refs.filterPopover);var n=e.column,a=this.filterPopoverOpts;this.filterPopover&&this.filterPopover.isVisible&&a.column&&n.columnId===a.column.columnId?this.filterTipClose():(this.filterPopover.doHide(),this.$nextTick((function(){t.filterTipShow(e)})))},filterTipShow:function(e){this.filterPopover.doShow(),this.filterPopoverOpts=e;var t=this.filterPopoverOpts.column,n=t.prop;this.table.$emit("filter-visible",{column:t,prop:n,visible:!0})},filterTipClose:function(){if(this.filterPopover||(this.filterPopover=this.$refs.filterPopover),this.filterPopover.isVisible){var e=this.filterPopoverOpts.column,t=e.prop;this.filterPopover.doHide(),this.table.$emit("filter-visible",{column:e,prop:t,visible:!1})}},_getCheckedFilters:function(){var e=this.table.visibleColumns,t=[];return e.filter((function(e){var n=e.prop,a=e.filters,o=[],i=[];a&&a.length&&(a.forEach((function(e){e.checked&&(o.push(e.value),i.push(e.label))})),o.length&&t.push({column:e,prop:n,values:o,labels:i}))})),t},handleFilter:function(e,t){var n=this.filterPopoverOpts,a=this.isDisabled;if(!a||t){var o=n.column,i=o.prop,r=[],s=[];o.filters.forEach((function(e){e.checked&&(r.push(e.value),s.push(e.data))}));var l=this.table.tableColumns;this.table.tableColumns=d(l);var c=this._getCheckedFilters();this.table.filters=Sl.clone(c,!0),this.$emit("filter-change",{column:o,prop:i,values:r,datas:s,filters:c,filterList:c},e),this.filterTipClose()}},resetFilter:function(e){var t=this.filterPopoverOpts.column;t.filters.forEach((function(e){e.checked=!1})),this.updateColumns(),this.handleFilter(e,!0)},checkboxChange:function(e,t){var n=this.filterPopoverOpts,a=n.column,i=a.filters;if(i&&i.length){var r=i.find((function(e){return e.value===t.value}));r.checked=e}this.filterPopoverOpts=o({},this.filterPopoverOpts),this.updateColumns()},updateColumns:function(){this.table.tableColumns=d(this.table.tableColumns)}}},mf=ff,vf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Popover",e._b({ref:"filterPopover",staticClass:"eff-table-filter",attrs:{id:e.table.tableId+"filter"}},"Popover",e.filterPopoverOpts,!1),[n("div",{staticClass:"eff-table-filter__content"},e._l(e.filterPopoverOpts.column.filters,(function(t,a){return n("div",{key:a+e.filterPopoverOpts.column.columnId},[n("Checkbox",{attrs:{value:t.checked,label:t.label},on:{change:function(n){return e.checkboxChange(n,t)}}})],1)})),0),e._v(" "),n("div",{staticClass:"eff-table-filter__bottom"},[n("span",{staticClass:"eff-table-filter__bottom-btn",class:{"is--disabled":e.isDisabled},on:{click:e.handleFilter}},[e._v("筛选")]),e._v(" "),n("span",{staticClass:"eff-table-filter__bottom-btn",on:{click:e.resetFilter}},[e._v("重置")])])])},bf=[];vf._withStripped=!0;var gf=void 0,yf=void 0,wf=void 0,xf=!1,Cf=vc({render:vf,staticRenderFns:bf},gf,mf,yf,xf,wf,!1,void 0,void 0,void 0),_f={name:"TableForm",props:{value:{type:Object,default:function(){return{}}},formConfig:{type:Object,default:function(){}},loading:Boolean},data:function(){return{saveForm:{title:""},visible:!1,list:[],key:0,height:null}},inject:["table"],computed:{form:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},formRequest:function(){return this.table.formRequest},formTemplateConfig:function(){return this.table.formTemplateConfig},tags:function(){var e=this,t=[],n=this.form,a=this.items,i=this.getFilterProp,r=function(e,t){var n=e||{},a=n.options,o=n.label,i=void 0===o?"label":o,r=n.value,s=void 0===r?"value":r,l=Sl.isFunction(a)?a():a;return l?t.reduce((function(e,t){var n=l.find((function(e){return e[s]===t}))||{};if(n){var a=n[i],o=n[s];e.labels.push(a),e.paths.push({label:a,value:o})}return e}),{labels:[],paths:[]}):null},s=function(s){var l=n[s];if(Sl.isArray(l)&&l.length>1){n[i(s)]||e.$set(e.form,i(s),[]);var c=a.find((function(e){return e.prop===s}))||{},u=Wl(c.title,n),d=r(c,l)||{paths:l.map((function(e){return{value:e,label:e}}))};t.push(o({title:u,prop:s,values:l},d))}};for(var l in n)s(l);return t}},watch:{height:function(e){this.table.formHeight=e||0}},created:function(){Object.assign(this,{titleWidth:"auto",itemGutter:10,items:[],defaultValue:{},isSave:!1,showTags:!0,showQuery:!0,showClear:!0,beforeClear:function(){}},this.formConfig),this.isSave&&this.queryTamplate(),this.clear(!1),this.throttleClick=Sl.throttle(this.tagClick)},updated:function(){var e=this,t=setTimeout((function(){e.$nextTick((function(){e.height=e.$el.offsetHeight})),clearTimeout(t)}),0)},methods:{getFilterProp:function(e){return"filter_"+e},query:function(){this.table.refresh()},clear:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.beforeClear;t&&t(),this.setForm(),this.table.$emit("clear-form"),e&&this.query()},setForm:function(e){this.$set(this,"form",Object.assign({},this.defaultValue,e||{}))},queryTamplate:function(){var e=this,t=this.formRequest,n=this.formRequestParams;t.query({formRequestParams:n}).then((function(t){e.$set(e,"list",t)})).catch((function(t){e.$message.error(t)}))},addTamplate:function(){var e=this,t=this.saveForm.title,n=this.form,a=this.formRequest,o=this.formRequestParams,i=this.close;this.$refs.form.validate().then((function(r){a.add({name:t,value:n,formRequestParams:o}).then((function(t){e.$message.success("保存成功!"),i(),e.queryTamplate()})).catch((function(t){e.$message.error(t)}))}))},deleteTamplate:function(e){var t=this,n=this.formRequest,a=this.formRequestParams;n.delete({row:e,formRequestParams:a}).then((function(e){t.queryTamplate(),t.$message({type:"success",message:"删除成功!"})})).catch((function(e){t.$message.error(e)}))},open:function(){this.key++,this.visible=!0},close:function(){this.visible=!1,this.saveForm.title=""},tagClose:function(e){var t=e.prop;this.form[t]=[],this.$set(this.form,this.getFilterProp(t),[])},tagClick:function(e,t){var n=this,a=this.getFilterProp(t),o=this.form[a];this.$nextTick((function(){n.$set(n.form,a,o.includes(e)?[]:[e]),n.query()}))},checkForm:function(e){this.$refs.popover.doClose(),this.$set(this,"form",Sl.clone(e.value,!0)),this.query()}}},Sf=_f,kf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.$slots.form||e.items.length?n("div",{staticClass:"eff-table__form"},[n("v-form",{attrs:{items:e.$slots.form?[]:e.items,data:e.form,"title-width":e.titleWidth,"item-gutter":e.itemGutter,rowledge:"10px"}},[e.$slots.form?e._t("form",null,{slot:"form"}):e._l(e.items,(function(t){return[e._t("item_"+t.prop,null,{slot:"item_"+t.prop})]})),e._v(" "),e.showQuery?n("div",{staticClass:"eff-table__form__query"},[n("el-button",{class:["eff-table__form__search",e.isSave?"has-save":""],attrs:{loading:e.loading},on:{click:e.query}},[e._v("查询")]),e._v(" "),e.isSave?n("el-popover",{ref:"popover",attrs:{placement:"bottom-end",trigger:"click"}},[e.list.length?e._e():n("small",{staticClass:"text-gray-500"},[e._v("暂无搜索模板")]),e._v(" "),e._l(e.list,(function(t,a){return n("div",{key:a,staticClass:"eff-table__form__dropdown"},[n("div",{staticClass:"eff-table__form__dropdown-item",staticStyle:{"min-width":"100px"},attrs:{type:"text"},on:{click:function(n){return e.checkForm(t)}}},[e._v(e._s(t.name))]),e._v(" "),n("el-popconfirm",{attrs:{title:"此操作将删除该模板, 是否继续?"},on:{confirm:function(n){return e.deleteTamplate(t)}}},[n("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v("删除")])],1)],1)})),e._v(" "),n("el-button",{staticClass:"eff-table__form__down",attrs:{slot:"reference",icon:"el-icon-arrow-down",title:"选择查询模板"},slot:"reference"})],2):e._e()],1):e._e(),e._v(" "),e.isSave?n("div",[n("el-button",{attrs:{title:"保存为查询模板"},on:{click:e.open}},[e._v("保存")])],1):e._e(),e._v(" "),e.showClear?n("el-button",{attrs:{title:"重置查询条件"},on:{click:e.clear}},[e._v("重置")]):e._e()],2),e._v(" "),e.showTags&&e.tags.length?n("div",{staticClass:"eff-table__form__tags"},e._l(e.tags,(function(t){return n("div",{key:t.key,staticClass:"eff-table__form__tags-tag"},[n("small",{staticClass:"eff-table__form__tags-title"},[e._v(e._s(t.title)+"：")]),e._v(" "),n("el-checkbox-group",{key:e.form[e.getFilterProp(t.prop)][0],attrs:{size:"mini"},model:{value:e.form[e.getFilterProp(t.prop)],callback:function(n){e.$set(e.form,e.getFilterProp(t.prop),n)},expression:"form[getFilterProp(tag.prop)]"}},[e._l(t.paths,(function(a){return n("el-checkbox-button",{key:a.value,attrs:{label:a.value},nativeOn:{click:function(n){return e.throttleClick(a.value,t.prop)}}},[e._v(e._s(a.label))])})),e._v(" "),n("div",{staticClass:"el-checkbox-button el-checkbox-button el-checkbox-button--mini"},[n("div",{staticClass:"el-checkbox-button__inner",attrs:{title:"删除"},on:{click:function(n){return e.tagClose(t)}}},[n("i",{staticClass:"el-icon-close"})])])],2)],1)})),0):e._e(),e._v(" "),n("el-dialog",{attrs:{title:"保存查询条件",width:"400px",visible:e.visible},on:{"update:visible":function(t){e.visible=t},close:e.close}},[n("v-form",{key:e.key,ref:"form",attrs:{data:e.saveForm,rowledge:"0"}},[n("v-form-item",{attrs:{prop:"title",rules:[{required:!0}],span:24}},[n("el-input",{attrs:{placeholder:"标题"},model:{value:e.saveForm.title,callback:function(t){e.$set(e.saveForm,"title",t)},expression:"saveForm.title"}})],1)],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.close}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.addTamplate}},[e._v("确 定")])],1)],1)],1):e._e()},If=[];kf._withStripped=!0;var Tf=void 0,$f=void 0,Of=void 0,jf=!1,Ef=vc({render:kf,staticRenderFns:If},Tf,Sf,$f,jf,Of,!1,void 0,void 0,void 0),Rf=1,Df=function(){return"_tree"+Rf++},Ff={name:"SeniorQuery",components:{Card:Kd,Conditions:{name:"Conditions",functional:!0,render:function(e,t){var n=t.props,a=n.value,o=n.previewUseOperator,i=t.listeners,r=i.remove,s=function t(n){return n.reduce((function(n,a){var i=a.row,s=a.code,l=a.children,c=a.conditionConnector,u=c?e("span",{class:"eff-view-list-connector"},o?c:"&"===c?"与":"或"):"";return l?n.concat(e("span",{},[u,"( ",t(l)," )"])):n.concat([e("span",{class:"eff-view-list-item"},[u,e("span",{class:"eff-view-list-item--code"},[e("span",{},s),e("span",{class:"eff-view-list-item--close",on:{click:function(){return r&&r(i)}}})])])])}),[])};return e("span",{class:"eff-view-list"},s(a))}}},props:{show:Boolean,data:{type:Array,default:function(){return[]}},width:{type:Number,default:800},height:{type:Number,default:500},minWidth:{type:Number,default:600},minHeight:{type:Number,default:300},treeConfig:{type:Object,default:function(){}},preview:{type:Boolean,default:!0},previewUseOperator:Boolean},data:function(){var e=this;return{operatorOptions:[],columns:[{type:"index",width:60},{title:"条件连接符",prop:"conditionConnector",config:{name:"select",options:[{label:"与",value:"&"},{label:"或",value:"||"}]},edit:{disabled:function(t){t.row;var n=t.rowid;return e.isFristRow(n)}},rules:[{required:function(t){var n=t.rowid;return!e.isFristRow(n)}}]},{title:"字段名",prop:"fieldName",config:{name:"select",options:function(){return e.data.map((function(e){return{label:e.fieldName,value:e.fieldName}}))}},width:100,edit:{disabled:function(t){var n=t.row;return e.hasChildren(n)}},rules:[{required:function(t){var n=t.row;return!e.hasChildren(n)}}]},{title:"操作符",prop:"operator",config:{name:"select",options:function(t){var n=t.row,a=e.data.find((function(e){return e.fieldName===n.fieldName}))||{},o=a.operateTypeList,i=void 0===o?[]:o;return i},on:{focus:function(t,n){var a=n.row,o=e.data.find((function(e){return e.fieldName===a.fieldName}))||{},i=o.operateTypeList,r=void 0===i?[]:i;e.operatorOptions=r},change:function(t,n){var a=n.row,o=e.operatorOptions.find((function(e){return e.value===t}));o&&(a.operatorName=o.label)}}},edit:{disabled:function(t){var n=t.row;return e.hasChildren(n)||!n.fieldName}},width:100,rules:[{required:function(t){var n=t.row;return!e.hasChildren(n)}}]},{title:"字段值",prop:"fieldValue",edit:{disabled:function(t){var n=t.row;return e.hasChildren(n)||!n.fieldName},render:function(t,n){var a=n.row,o=n.prop,i=n.rowIndex,r=n.columnIndex,s=e.data.find((function(e){return e.fieldName===a.fieldName}))||{},l=s.fieldType,c=s.componentType,u=s.componentProps,d=s.componentRender,p=s.dataSourceType,h=s.apiSource,f=s.usePopup,m={};if(d){if(Sl.isFunction(d))return d(t,{row:a});m=Object.assign(d,{name:"input"})}else if("select"===c){var v={},b={};if(2===p){var g=h.label,y=h.value,w=h.fullPath,x=h.requestType,C=h.requestParam,_=h.sourceType;Object.assign(v,{filterable:!0,labelKey:g,valueKey:y},u),"query"===_&&Object.assign(v,{remote:!0,"remote-method":function(t){return e.remoteMethod({query:t,field:s,fullPath:w,requestType:x,requestParam:C})}}),Object.assign(b,{focus:function(){return e.remoteMethod({query:"",field:s,fullPath:w,requestType:x,requestParam:C})}})}"array"===l&&Object.assign(v,{multiple:!0,"collapse-tags":!0}),m={name:"select",options:function(){return s.staticSourceList},props:v,on:b}}else m="date"===c?{name:"date-picker",props:u}:{name:"input",props:u};return f&&(m={name:"popup",props:{content:a[o]},key:i+r,children:{name:"form",props:{titleWidth:"40px",data:a,autofocus:!0,columns:[{prop:o,span:24,itemRender:{name:c,props:u,on:{input:function(t){return e.$set(a,o,t)}}}}]},on:{loop:function(t){var n=t.placement;return e.$refs.table1&&e.$refs.table1.toX(n)}}}}),m}},rules:[{required:function(t){var n=t.row;return!e.hasChildren(n)}}]},{title:"操作",width:110,cellRender:{tag:"div",children:[{name:"button",props:{icon:"el-icon-plus"},attrs:{title:"增加子条件"},on:{click:this.addChild}},{name:"button",props:{icon:"el-icon-delete"},attrs:{title:"删除条件"},on:{click:this.deletedChild}}]}}],toolbarConfig:{buttons:[{name:"button",children:"添加条件",props:{icon:"el-icon-plus",size:"mini"},on:{click:this.add}},{name:"button",children:"清空条件",props:{icon:"el-icon-delete",size:"mini"},on:{click:this.clear}}]},visible:this.show,treeGroup:[]}},watch:{show:function(e){this.visible=e},visible:function(e){this.$emit("update:show",e)}},created:function(){Object.assign(this,{tableTreeConfig:Object.assign({expandAll:!1,children:"children",defaultExpandeds:[]},this.treeConfig)})},mounted:function(){this.table=this.$refs.table},methods:{dataChange:function(e){var t=e.tableData;this.treeGroup=this.getTreeGroup(t)},remoteMethod:function(e){var t=e.query,n=e.field,a=e.fullPath,o=e.requestType,i=e.requestParam,r=i?"?".concat(i,"=").concat(t):"?".concat(t),s="".concat(a).concat("GET"===o.toUpperCase()&&t?r:""),l="POST"===o.toUpperCase()?i?c({},i,t):t:null;this.$EFF.request[o.toLowerCase()](s,l).then((function(e){var t=e.data,a=t.success,o=t.data,i=t.message;a?n.staticSourceList=o:console.error(i)})).catch((function(e){console.error(e)}))},search:function(){var e=this;this.table.validate(null,!0).then((function(t){var n=e.table.tableData,a=function e(t){return t.reduce((function(t,n){var a=n.children||[],o=n.conditionConnector,i=n.fieldName,r=n.operator,s=n.fieldValue,l=Sl.isString(s)&&/\n/.test(s)?s.split("\n"):s;return t.concat([{conditionConnector:o,fieldName:i,operator:r,fieldValue:l,fieldValueList:l,childConditionList:a.length?e(a):[]}])}),[])};e.close(),e.$emit("search",a(n))})).catch((function(e){console.log(e)}))},add:function(){var e=this.table,t=e.insert,n=e.focus,a={children:[]};e.tableData.length&&(a.conditionConnector="&"),t(a,-1).then((function(e){return n(e,"fieldName")}))},addChild:function(e,t){var n=this.table.rowId,a=t.row,o=a.fieldName,i=a.operator,r=a.fieldValue,s=a[n],l="".concat(s).concat(Df()),u=c({conditionConnector:"",fieldName:"",operator:"",fieldValue:"",children:[]},n,l);a.children&&a.children.length||(Object.assign(a,{fieldName:"",operator:"",fieldValue:""}),Object.assign(u,{conditionConnector:"",fieldName:o,operator:i,fieldValue:r})),this.table.setTreeExpand(s,!0),a.children.push(u),this.table.updateRow(a)},deletedChild:function(e,t){this.removeTreeExpand(t.row)},removeTreeExpand:function(e){this.table.removeTreeExpand(e)},open:function(){this.visible=!0,this.table.doLayout()},close:function(){this.visible=!1,this.$emit("close")},clear:function(){this.table.reloadData([])},isFristRow:function(e){if(!e)return!1;var t=this.table,n=t.tableData,a=t.rowId,o=Sl.findTree(n,(function(t){return t[a]===e}),"children")||{},i=o.path;return Boolean(!e||!i||"0"===i.slice(-1)[0])},hasChildren:function(e){return e.children&&e.children.length},getTreeGroup:function(e){var t=this,n=this.table,a=this.previewUseOperator;return e.reduce((function(e,o){var i=n.rowId,r=o[i];if(t.hasChildren(o)){var s=o.conditionConnector,l=void 0===s?"":s,c=t.getTreeGroup(o.children);return r===n.tableData[0][i]?c?e.concat([{row:o,rowid:r,children:c}]):e:l?c?e.concat([{row:o,rowid:r,conditionConnector:l,children:c}]):e:e.concat([{row:o,rowid:r,children:c}])}var u=o.conditionConnector,d=o.fieldName,p=o.operator,h=o.operatorName,f=o.fieldValue;if(d&&p&&f){var m="".concat(d," ").concat(a?p:h||p," ").concat(f," ");return t.isFristRow(r)?e.concat([{row:o,rowid:r,code:m}]):u?e.concat([{row:o,rowid:r,code:m,conditionConnector:u}]):e}return e}),[])||[]},cardSizeChange:function(){this.table.doLayout()}}},Nf=Ff,Pf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("card",{staticClass:"eff-senior-query",attrs:{show:e.visible,title:"高级搜索",width:e.width,height:e.height,"min-width":e.minWidth,"min-height":e.minHeight},on:{close:e.close,"size-change":e.cardSizeChange}},[n("template",{slot:"header"},[n("VRender",{attrs:{config:{name:"button",props:{type:"primary",size:"mini"},children:"搜 索",on:{click:e.search}}}})],1),e._v(" "),n("div",{staticClass:"eff-senior-query--view"},[n("span",{staticClass:"eff-senior-query--view-title"},[e._v("预览")]),e._v(" "),n("Conditions",{attrs:{"preview-use-operator":e.previewUseOperator},on:{remove:e.removeTreeExpand},model:{value:e.treeGroup,callback:function(t){e.treeGroup=t},expression:"treeGroup"}})],1),e._v(" "),n("eff-table",{ref:"table",attrs:{columns:e.columns,"toolbar-config":e.toolbarConfig,"tree-config":e.tableTreeConfig,"max-height":400,"row-drag":"",edit:"",border:""},on:{"data-change":e.dataChange}})],2)},Mf=[];Pf._withStripped=!0;var qf=void 0,Lf=void 0,Af=void 0,Bf=!1,Hf=vc({render:Pf,staticRenderFns:Mf},qf,Nf,Lf,Bf,Af,!1,void 0,void 0,void 0);Hf.install=function(e){e.component(Hf.name,Hf)};var Vf={name:"EffTable",components:{TableHeader:Ju,TableBody:ud,TableFooter:dd,Popovers:wd,Drag:tp,Toolbar:Ep,Edit:Hp,Loading:Gp,SelectRange:rh,Copy:fh,columnBatchControl:_h,FooterAction:Lp,Replace:hf,SeniorQuery:Hf,EffFilter:Cf,TableForm:Ef},mixins:[kl,Hl,Il,oc,sc,dc,pc,hc,cc,uc,fc],provide:function(){return{table:this,root:this}},model:{prop:"columns",event:"input"},props:{columns:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},form:{type:Object,default:function(){return{}}},rowId:{type:String,default:"_rowId"},height:{type:[Number,String],default:0},maxHeight:{type:Number,default:0},baseRowHeight:{type:Number,default:36},rowHeight:{type:[Number,String],default:36},headerRowHeight:{type:[Number,String],default:36},border:Boolean,stripe:Boolean,highlightCurrentRow:Boolean,showOverflowTooltip:Boolean,focusToSelect:Boolean,loading:Boolean,headerContextmenu:{type:Boolean,default:!0},rowClassName:{type:[String,Function],default:""},cellClassName:{type:[String,Function],default:""},emptyText:{type:String,default:"暂无数据"},showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:{type:String,default:"合计"},keyword:{type:String,default:""},summaryMethod:{type:Function,default:null},messages:{type:Array,default:function(){return[]}},beforeInsert:{type:Function,default:function(){}},scopedSlots:{type:Object,default:function(){}},spanMethod:{type:Function,default:function(){}},drag:Boolean,rowDrag:Boolean,search:Boolean,edit:Boolean,copy:Boolean,selectRange:Boolean,editConfig:{type:Object,default:function(){}},dragConfig:{type:Object,default:function(){}},checkboxConfig:{type:Object,default:function(){return{}}},searchConfig:{type:Object,default:function(){return{}}},sortConfig:{type:Object,default:function(){return{}}},formConfig:{type:Object,default:function(){}},formRequest:{type:Object,default:function(){}},proxyConfig:{type:Object,default:function(){}},toolbarConfig:{type:Object,default:function(){return{}}},treeConfig:{type:Object,default:function(){return{}}},expandConfig:{type:Object,default:function(){return{}}},columnConfig:{type:Object,default:function(){return{}}},rowConfig:{type:Object,default:function(){return{}}},seniorQueryConfig:{type:Object,default:function(){return{}}},footerActionConfig:{type:Object,default:function(){return{}}}},data:function(){return{tableData:Object.freeze([]),tableColumns:[],visibleColumns:[],fixedColumns:[],tableForm:{},searchForm:[],currentRow:null,lineShow:!1,isScreenfull:!1,hoverRowid:null,isLoading:!1,editStore:{editRow:{},insertList:[],removeList:[],updateList:[],pendingList:[]},pager:{pageNum:1,pageSize:10},headerCheckedColumns:[],selectRengeStore:[],loadingField:!1,seniorQuery:[],subtotalColumns:[],subtotalData:[],seniorQueryList:[],$message:this.$message,isSpanMethod:!1,tableMaxHeight:this.maxHeight,useFilter:!1,filters:[]}},computed:{bodyColumns:function(){var e=this,t=this.tableColumnConfig,n=this.rowDrag,a=this.tableColumns,o=this.isSpanMethod,i=t.width,r=function t(n){return n.reduce((function(n,a){var o=a.children,r=void 0===o?[]:o,s=a.minWidth,l=void 0===s?30:s;!a.width&&i&&(a.width=i);var c=a.edit,u=a.sortable,d=a.titlePrefix,p=a.titleSuffix,h=[{el:c,width:16},{el:u,width:20},{el:d,width:18},{el:p,width:18},{el:a.rules&&Boolean(a.rules.find((function(e){return e.required}))),width:12}],f=h.reduce((function(e,t){return t.el?e+t.width:e}),e.isTypeColumn(a)?30:72);return a.minWidth=Math.max(f,l),a.width=e.isTypeColumn(a)?30:Number(a.width||0),r.length?(r.forEach((function(e){return a.fixed&&(e.fixed=a.fixed)})),n.concat(t(r))):n.concat(a)}),[])};return o||!n||a.find((function(e){return"row-drag"===e.type}))||a.unshift({show:!0,type:"row-drag",titleSuffix:{icon:"question",message:"上下拖动排序"},width:40}),r(this.visibleColumns)},fixedBodyColumns:function(){var e=this.rowHeight,t=this.bodyColumns,n=this.widths;return"auto"===e?{left:t,right:t}:t.reduce((function(e,t){var a=t.fixed;return a&&e[a]&&n[a+"Width"]&&e[a].push(t),e}),{left:[],right:[]})},fixedVisibleColumns:function(){var e=this.rowHeight,t=this.visibleColumns,n=this.widths;return"auto"===e?{left:t,right:t}:t.reduce((function(e,t){var a=t.fixed;return a&&e[a]&&n[a+"Width"]&&e[a].push(t),e}),{left:[],right:[]})},baseHeight:function(){return Math.max(this.baseRowHeight,30)},_rowHeight:function(){var e=this.rowHeight;return Math.max(Number("auto"!==e?e:0),30)},style:function(){var e={},t=this.isScreenfull,n=this.height;return t||n&&(e.height=n+"px"),e},afterData:function(){var e=this,t=this.tableData,n=this.filters,a=this.sorts,o=this.searchForm,i=this.sortConfig,r=void 0===i?{}:i,s=this.tableId,l=this.rowId,c=this.searchConfig,u=c.remote,d=c.searchMethod,p=t.slice(0),h=[];if(n&&n.length||o.length?p=p.filter((function(t){var a=function(){return n.every((function(n){var a=n.column,o=n.values,i=a.filterMethod,r=a.columnId,c=a.prop,u=Sl.get(t,c);if(o.length){var d=document.getElementById("".concat(s,"-").concat(t[l],"-").concat(r)),p=d?d.innerText:u;return i?i({value:u,option:n,cellValue:p,row:t,column:a,prop:c,$table:e}):o.includes(p)}return!0}))},i=function(){return o.every((function(e){if(u)return!0;var n=e.column,a=e.content,o=e.prop,i=e.searchMethod,r=n||{},s=r.search,l=r.prop,c=l||o,p=Sl.get(t,c),h=Sl.isArray(a)?a:[a],f=i||s&&s.searchMethod||d;return!h.length||(f?f({rowValue:p,value:h,row:t,column:n,prop:c,option:e}):h.some((function(e){return(""+p).indexOf(""+e)>-1})))}))},r=a()&&i();return!r&&h.push(t[l]),e.setFilterList(h),r})):this.setFilterList([]),a&&a.length){var f=r.sortMethod,m=r.remote;if(!m){var v=a.reduce((function(t,n){var a=n.prop,o=n.order;return t.concat([Sl.isFunction(f)?[f({data:p,column:n,prop:a,order:o,$table:e})]:[a,o]])}),[]);v.length&&(p=Sl.sortBy(p,v))}}return p},useGroupColumn:function(){var e=this.tableData;return e&&e.find((function(e){return"undefined"!==typeof e.children}))},showToolbar:function(){var e=this.drag,t=this.search,n=this.toolbarConfig,a=void 0===n?{}:n,o=this.$slots,i=!1;for(var r in a){var s=a[r];"buttons"===r?Array.isArray(s)&&s.length&&(i=!0):"columnControl"===r?e&&s&&(i=!0):["refresh","seniorQuery","fullscreen","editHistory","replace","columnBatchControl","subtotal"].indexOf(r)>-1&&s&&(i=!0)}return(o.toolbar||t)&&(i=!0),i},showFooterToolbar:function(){var e=this.tableFooterConfig,t=void 0===e?{}:e,n=this.$slots,a=t.buttons,o=void 0===a?[]:a,i=t.showPager;return o.length||i||n.footer_action},isSeniorQuery:function(){var e=this.toolbarConfig,t=e||{},n=t.seniorQuery;return n},tableId:function(){return(~~(Math.random()*(1<<30))).toString(36)}},watch:{data:function(e,t){this.scrolling||this.loadTableData(e)},columns:function(e){this.fixedColumns=Zl(e),this.tableColumns=Object.values(this.fixedColumns).reduce((function(e,t){return e.concat(t)}),[])},tableColumns:function(e){var t=function e(t,n){var a=t.children;return(a||[]).length?t.children=a.reduce((function(t,a){return!1!==a.show?t.concat(e(a,n)):t}),[]):n.columnLen+=1,t};this.visibleColumns=e.reduce((function(e,n){return!1!==n.show?(void 0===n.columnLen&&(n.columnLen=0),e.concat(n.columnLen?n:t(n,n))):e}),[])},"tableColumns.length":function(){this.resize()},loading:function(e){this.isLoading=e},form:function(e){this.tableForm=e}},created:function(){var e=this.seniorQueryConfig,t=this.$EFF,n=e.fieldList,a=t.footerActionConfig,o=t.focusToSelect;this.seniorQueryList=n,this.tableColumns=ec(this.columns),Object.assign(this,{loadData:!1,tableFocusToSelect:this.focusToSelect||!!o,tableSourceData:Object.freeze([]),tableDataMap:new Map,tableEditConfig:Sl.merge({trigger:"click",editStop:!1,editLoop:!0},this.editConfig),tableDragConfig:Sl.merge({},this.dragConfig),tableColumnConfig:Sl.merge({sort:[],width:0},this.columnConfig),tableTreeConfig:Sl.merge({lazy:!1,loadMethod:function(e){e.row},children:"children",defaultExpandeds:[]},this.treeConfig),tableExpandConfig:Sl.merge({expandAll:!1,defaultExpandeds:[],onlyField:""},this.expandConfig),tableFooterConfig:Sl.merge({},a,this.footerActionConfig)});var i=this.tableFooterConfig.pageConfig||{};i.pageSize&&(this.pager.pageSize=i.pageSize),(this.data||[]).length&&this.loadTableData(this.data)},mounted:function(){this.$on("edit-fields",this.editField),Tl(window,"beforeunload",this.beforeunload)},beforeDestroy:function(){$l(window,"beforeunload",this.beforeunload),this.$off("edit-fields",this.editField)},methods:{beforeunload:function(){this.$destroy(),$l(window,"beforeunload",this.beforeunload)},loadTableData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data,n=this.editStore,a=this.rowId,o=this.loadData,i=this.useExpand;return this.tableData=Object.freeze(Sl.mapTree(t,(function(t){return!t[a]&&e.$set(t,a,Sl.uniqueId()),t}))),this.tableSourceData=Object.freeze(Sl.toTreeArray(Sl.clone(t,!0))),n.insertList=[],"_rowId"===a&&(this.clearStatus(),this.clearValidate()),this.updateCache(),this.resize(),o||(i&&this.initExpand(),this.loadData=!0),this.$nextTick()},reloadData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.clearStatus(),this.clearValidate(),this.clearSelection(),this.clearRowExpand(),this.clearTreeExpand(),e||(e=this.data),this.loadTableData(e)},initExpand:function(){var e=this,t=this.tableExpandConfig;if(t){var n=t.expandAll,a=t.defaultExpandeds,o=t.onlyField,i=function(e){return!o||o&&e[o]};setTimeout((function(){n?e.tableData.forEach((function(t){i(t)&&e.toggleRowExpand(t)})):a.forEach((function(t){var n=e.tableDataMap.get(t);i(n)&&e.toggleRowExpand(n)}))}),300)}},clearStatus:function(){this.editStore=Object.assign({},{editRow:{},insertList:[],removeList:[],updateList:[],pendingList:[]})},updateRow:function(e){var t=this,n=this.rowId,a=this.tableData.findIndex((function(t){return t[n]===e[n]})),o=Sl.clone(this.tableData);o[a]=e,this.tableData=Object.freeze(o);var i=[],r=function(n){var o=t.bodyColumns.findIndex((function(e){return e.prop===n}));o>-1&&i.push({row:e,rowIndex:a,columnIndex:o,content:Xl(e,n)})};for(var s in e)r(s);return this.editField(i)},handleCopy:function(e){var t=e.row,n=e.rowIndex,a=e.column,o=e.columnIndex,i=e.prop,r=e.content,s=a.config,l=a.edit;l=void 0===l?{}:l;var c=l.render,u=void 0===c?{}:c,d=Sl.merge({name:"input"},s,u);d.name||(d.name="input");var p=d.name,h=d.props;if("input"===p)Yl.call(this,t,i,r);else if("select"===p){var f=bu(d,{root:this,table:this,vue:this,data:t,row:t,rowIndex:n,column:a,columnIndex:o,prop:u.prop||i,edit:this}),m=h||{},v=m.labelKey,b=void 0===v?"label":v,g=m.valueKey,y=void 0===g?"value":g,w=m.mutiple,x=function(e){var t=f.find((function(t){return t[b]===e||t[y]===e}));return t?t[y]:""};if(f.length)if(w&&r.indexOf("，")>-1){var C=r.split("，").reduce((function(e,t){var n=x(t);return n?e.concat([n]):e}),[]);Yl.call(this,t,i,C)}else Yl.call(this,t,i,x(r))}else if("date-picker"===p){var _=h.valueFormat||h["value-format"],S=r;if(!Sl.isValidDate(r)){var k=Sl.toStringDate(r,_);S=Sl.isValidDate(k)?k:""}Yl.call(this,t,i,S)}else{if("cascader"===p){var I=bu(d,{root:this,table:this,vue:this,data:t,row:t,rowIndex:n,column:a,columnIndex:o,prop:u.prop||i,edit:this}),T=h.props,$=T.label,O=void 0===$?"label":$,j=T.value,E=void 0===j?"value":j,R=T.children,D=void 0===R?"children":R,F=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.reduce((function(t,a,o){var i=a[O],r=a[E];return a[D]?t.concat(e(a[D],n.concat([{label:i,value:r}]))):(t.push(n.concat([{label:i,value:r}])),t)}),[])},N=F(I),P="";if(!1===h["show-all-levels"]){var M=N.find((function(e){return e.find((function(e){return Object.values(e).indexOf(r)>-1}))}));M&&(P=M.map((function(e){return e[E]})))}else{var q=function(e){return e.reduce((function(e,t){var n=t[O],a=t[E];return e.labelStr+=e.labelStr?"/"+n:n,e.valueStr+=e.valueStr?"/"+a:a,e}),{labelStr:"",valueStr:""})},L=N.find((function(e){return Object.values(q(e)).indexOf(r)>-1}));L&&(P=L.map((function(e){return e[E]})))}return Yl.call(this,t,i,P)}if("switch"===p){var A=d.props,B=void 0===A?{}:A,H=B["active-value"]||!0,V=B["inactive-value"]||!1,W=r;"true"===r?W=H:"false"===r?W=V:[H,V,"1","0"].indexOf(r)<0&&(W="0"),Yl.call(this,t,i,W)}}},editField:function(e,t){var n=this,a=[];return e.forEach((function(e){var o=n.visibleColumns,i=n.updateStatus,r=n.tableData,s=e.rowIndex,l=e.columnIndex,c=Sl.isString(e.content)?e.content.trim():e.content,u=e.row;u||(u=r[s]);var d=o[l]||{},p=d.prop,h=d.rules;p&&(e.notUpdateTableEvent||c===Xl(u,p)||a.push({rowIndex:s,columnIndex:l,newData:c,oldData:Xl(u,p)}),t?n.handleCopy({row:u,rowIndex:s,column:d,columnIndex:l,prop:p,content:c}):Yl.call(n,u,p,c),h&&h.length&&n.validateField(p,h,u),i(u,p))})),a.length&&this.$emit("table-update-data",a),this.dataChange(),this.$nextTick()},updateStatus:function(e,t){var n=this;if(t){var a=e[this.rowId],i=this.tableSourceData.find((function(e){return e[n.rowId]===a}));if(i){var r=this.editStore.insertList.find((function(e){return e[n.rowId]===a}));if(!r){var s=o({},e);s.$old=o({},i);var l=this.editStore.updateList.findIndex((function(e){return e[n.rowId]===a})),c=!0;for(var u in i)if(e[u]!==i[u]){c=!1;break}return c?l>-1&&this.editStore.updateList.splice(l,1):-1===l?this.editStore.updateList.push(s):this.editStore.updateList.splice(l,1,s),this.$nextTick()}}}},updateCache:function(){var e=this,t=this.tableData,n=this.rowId,a=this.tableTreeConfig;a=void 0===a?{}:a;var o=a.children,i=void 0===o?"children":o;this.tableDataMap||Object.assign(this,{tableDataMap:new Map}),this.tableDataMap.clear();var r=function t(a){a.forEach((function(a){e.tableDataMap.set(a[n],a);var o=a[i];o&&o.length&&t(o)}))};r(t)},rootMousemove:function(e){this.$emit("table-mouse-move",{event:e})},rootMouseup:function(e){this.$emit("table-mouse-up",{event:e})},setEditStop:function(e){this.tableEditConfig.editStop=e},tableEditPause:function(){this.tableEditConfig.editStop=!0},tableEditRegain:function(){this.tableEditConfig.editStop=!0},focus:function(e,t){this.edit&&this.$refs.edit.focus(e,t)},toX:function(e){this.edit&&this.$refs.edit.toX(e)},handleDragend:function(e){var t=this.tableColumns,n=t.some((function(t){return t===e}));n>-1&&(t[n]=e,this.tableColumns=d(t),this.dargChange())},dargChange:function(){this.edit&&(this.$refs.edit.show=!1),this.$emit("input",this.tableColumns),this.$emit("drag-change",this.tableColumns),this.resize()},dragRowChange:function(e,t){var n=this.data,a=n[e],o=n[t];n.splice(t,1,a),n.splice(e,1,o),this.$emit("row-drag-change",e,t)},handleCardClose:function(){this.$emit("drag-card-close")},searching:function(e){var t=this;this.clearSearch(),this.$nextTick((function(){var n=Sl.isArray(e)?e:[e];t.searchForm=n,t.proxyConfig&&!0===t.searchConfig.remote&&t.commitProxy("query")}))},searchChange:function(e){this.searchForm=e,this.$emit("search-change",e),this.proxyConfig&&!0===this.searchConfig.remote&&this.commitProxy("query")},dataChange:function(){var e=this.tableData,t=this.getEditStore,n=t();this.$emit("data-change",{tableData:e,editStore:n})},clearSearch:function(){this.searchForm=[],this.tableForm=[],this.$emit("update:form",{})},getTableData:function(){return this.tableData},getFullData:function(e){var t=this;if(e){var n=Sl.clone(this.tableData,!0);return"_rowId"===this.rowId?n.map((function(e){return delete e[t.rowId],e})):n}return this.tableData},getEditStore:function(){var e=this,t=Sl.clone(this.editStore,!0);return t.insertList.map((function(t){return delete t[e.rowId],t})),t},getCheckColumns:function(){return Sl.clone(this.headerCheckedColumns,!0)},getColumnsStore:function(){return this.tableColumns.map((function(e){var t=e.show,n=e.type,a=e.prop,o=e.fixed,i=void 0===o?"":o,r=e.width,s=void 0===r?0:r;return{show:t,type:n,prop:a,fixed:i,width:s}}))},subtotal:function(){var e=this,t=this.headerCheckedColumns,n=this.tableColumns;if(t.length){var a=d(n);a.map((function(e){t.some((function(t){return t===e}))&&(e.order="asc")})),this.tableColumns=d(a),this.sortChange(null,!0).then((function(){var n=e.tableData.slice(0);if(n.length){e.subtotalColumns=t.filter((function(e){var t=!0;return n.slice(0,2).forEach((function(n){var a=e.prop;a&&!Sl.toNumber(n[a])&&(t=!1)})),t}));var a=[];e.subtotalColumns.forEach((function(e){var t=e.prop,o=null,i=0;n.forEach((function(e,r){var s=Sl.toNumber(e[t]),l=r>0?i/Sl.toNumber(n[r-1][t]):0,u=r===n.length-1;if(s)if(0===r)i=s,o=s;else if(s!==o){var d,p;if(a.push({index:r-1,len:l,row:(d={},c(d,t,i),c(d,"subtotal",!0),d)}),u)a.push({index:r,len:1,row:(p={},c(p,t,s),c(p,"subtotal",!0),p)});i=s,o=s}else{var h;if(i+=s,u)a.push({index:r,len:l+1,row:(h={},c(h,t,i),c(h,"subtotal",!0),h)})}}))})),e.subtotalData=a}}))}else this.$message.warning("请先选择列！")},seniorQueryOpen:function(){var e=this.$refs.seniorQuery;e&&e.open()},handleSeniorQuery:function(e){this.seniorQuery=e,this.$emit("senior-query",e),this.commitProxy("query")}}},Wf=Vf,zf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"tableWrapper",staticClass:"eff-table",class:{"is--screenfull":e.isScreenfull,"is--scrolling":e.scrolling,"is--copy":e.selectRange||e.copy},style:e.style,on:{mouseenter:e.rootMouseenter,mouseleave:e.rootMouseleave,mouseup:e.rootMouseup,mousemove:e.rootMousemove}},[n("TableForm",{ref:"tableForm",attrs:{"form-config":e.formConfig||{}},model:{value:e.tForm,callback:function(t){e.tForm=t},expression:"tForm"}},[e._t("form",null,{slot:"form"},{data:e.tForm,items:(e.formConfig||{items:[]}).items}),e._v(" "),e._l((e.formConfig||{items:[]}).items,(function(t){return[e._t("item_"+t.prop,null,{slot:"item_"+t.prop},{data:e.tForm,item:t})]}))],2),e._v(" "),e.showToolbar?n("Toolbar",{ref:"toolbar"},[e._t("toolbar")],2):e._e(),e._v(" "),n("div",{ref:"table",class:e.tableClass,style:e.tableStyle},[e._t("table",[n("div",{staticClass:"eff-table__wrapper"},[e.showHeader?n("TableHeader",{ref:"header",attrs:{"visible-columns":e.visibleColumns,"body-columns":e.bodyColumns},on:{dragend:e.handleDragend}}):e._e(),e._v(" "),n("TableBody",{ref:"body",attrs:{"body-columns":e.bodyColumns,data:e.tableData,validators:e.validators,messages:e.messages}}),e._v(" "),e.showSummary?n("TableFooter",{ref:"footer",attrs:{data:e.tableData,columns:e.bodyColumns,"sum-text":e.sumText,"summary-method":e.summaryMethod}}):e._e()],1),e._v(" "),e.widths.leftWidth&&e.overflowX?n("div",{class:["eff-table__fixed-left",e.scrollLeft>2?"is-scroll--start":""],style:{width:e.widths.leftWidth+"px",height:e.fixedHeight}},[n("div",{staticClass:"eff-table__fixed-left--wrapper",style:e.getFixedStyle("left")},[e.showHeader?n("TableHeader",{ref:"leftHeader",attrs:{"visible-columns":e.fixedVisibleColumns.left,"body-columns":e.fixedBodyColumns.left,fixed:"left"},on:{dragend:e.handleDragend}}):e._e(),e._v(" "),n("TableBody",{ref:"leftBody",attrs:{"body-columns":e.fixedBodyColumns.left,data:e.tableData,fixed:"left",validators:e.validators,messages:e.messages}}),e._v(" "),e.showSummary?n("TableFooter",{attrs:{data:e.tableData,columns:e.fixedBodyColumns.left,"sum-text":e.sumText,"summary-method":e.summaryMethod,fixed:"left"}}):e._e()],1)]):e._e(),e._v(" "),e.widths.rightWidth&&e.overflowX?n("div",{class:["eff-table__fixed-right",e.overflowX&&e.widths.rightWidth&&e.isScrollRightEnd?"is-scroll--end":""],style:{width:e.widths.rightWidth+e.scrollYwidth+"px",height:e.fixedHeight}},[n("div",{staticClass:"eff-table__fixed-right--wrapper",style:e.getFixedStyle("right")},[e.showHeader?n("TableHeader",{ref:"rightHeader",attrs:{"visible-columns":e.fixedVisibleColumns.right,"body-columns":e.fixedBodyColumns.right,fixed:"right"},on:{dragend:e.handleDragend}}):e._e(),e._v(" "),n("TableBody",{ref:"rightBody",attrs:{"body-columns":e.fixedBodyColumns.right,data:e.tableData,validators:e.validators,messages:e.messages,fixed:"right"}}),e._v(" "),e.showSummary?n("TableFooter",{attrs:{data:e.tableData,columns:e.fixedBodyColumns.right,"sum-text":e.sumText,"summary-method":e.summaryMethod,fixed:"right"}}):e._e()],1)]):e._e()],null,{data:e.tableData})],2),e._v(" "),e.showFooterToolbar?n("FooterAction",{ref:"footerAction"},[e._t("footer_action")],2):e._e(),e._v(" "),e.drag||e.rowDrag?n("drag",{ref:"drag",attrs:{"column-control":e.toolbarConfig.columnControl},on:{cardClose:e.handleCardClose,change:e.dargChange,"row-change":e.dragRowChange},model:{value:e.tableColumns,callback:function(t){e.tableColumns=t},expression:"tableColumns"}}):e._e(),e._v(" "),e.border&&e.drag&&(e.toolbarConfig||{}).columnBatchControl?n("column-batch-control",{ref:"columnBatchControl",on:{cardClose:e.handleCardClose},model:{value:e.tableColumns,callback:function(t){e.tableColumns=t},expression:"tableColumns"}}):e._e(),e._v(" "),e.toolbarConfig.replace?[n("replace",{ref:"replace",attrs:{columns:e.bodyColumns.filter((function(e){return!e.type}))}})]:e._e(),e._v(" "),e.edit?[n("edit",{ref:"edit",attrs:{columns:e.bodyColumns}})]:e._e(),e._v(" "),e.isSeniorQuery?[n("SeniorQuery",{ref:"seniorQuery",attrs:{data:e.seniorQueryList},on:{search:e.handleSeniorQuery}})]:e._e(),e._v(" "),n("Popovers",{ref:"popovers"}),e._v(" "),e.useFilter?[n("EffFilter",{ref:"filter"})]:e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.lineShow,expression:"lineShow"}],ref:"line",staticClass:"eff-table-line"}),e._v(" "),e._e(),e._v(" "),n("Loading",{attrs:{visible:e.isLoading}}),e._v(" "),e.selectRange||e.copy?[n("SelectRange",{ref:"selectRange"})]:e._e(),e._v(" "),e.copy?[n("copy")]:e._e()],2)},Kf=[];zf._withStripped=!0;var Qf=void 0,Uf=void 0,Xf=void 0,Yf=!1,Gf=vc({render:zf,staticRenderFns:Kf},Qf,Wf,Uf,Yf,Xf,!1,void 0,void 0,void 0);Gf.install=function(e){e.component(Gf.name,Gf)};var Jf={name:"popup",props:{content:{type:String,default:""}},inject:["table"],mounted:function(){var e=this.table;e.edit},methods:{focus:function(){var e=this;this.table.$refs.popovers.editTipShow({reference:this.$el,vslot:this.$slots.default,placement:"bottom"}),this.$nextTick((function(){var t=e.$slots.default[0].componentInstance;t&&(t.editIsStop=!0,setTimeout((function(){t.focus(),t.editIsStop=!1}),100))})),this.$emit("open")},close:function(){this.table.$refs.popovers.editTipClose()},blur:function(){this.close(),this.$emit("close")}},render:function(e){return e("div",{class:"eff-table__popup"},[this.content])}},Zf={name:"Layout",functional:!0,props:["span"],render:function(e,t){var n=t.props.span,a=t.data,o=t.children,i=n?"span-".concat(n):"";return a.class=["layout",n?" "+i:"",a.class,a.staticClass],e("div",a,o)}},em={name:"Panel",props:{title:{type:String,default:""},collapsible:{type:Boolean,default:!0},collapsed:{type:Boolean,default:!1},hasPadding:{type:Boolean,default:!0}},data:function(){return{isCollapsed:this.collapsed}},watch:{collapsed:function(e){this.isCollapsed=e}},methods:{collapse:function(e){this.collapsible&&(this.isCollapsed=!this.isCollapsed,this.$emit("update:collapsed",this.isCollapsed),this.$emit("change",this.isCollapsed))}}},tm=em,nm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("layout",{staticClass:"panel",class:{collapsed:e.isCollapsed}},[n("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:e.hasPadding?"20px":"20px 0"}}},[e.title?n("div",{staticClass:"flex-row",attrs:{slot:"header"},slot:"header"},[n("span",{staticClass:"header-text",on:{click:e.collapse}},[e.collapsible?n("i",{staticClass:"colllapse-icon el-icon-caret-bottom"}):e._e(),e._v(e._s(e.title))]),e._v(" "),n("div",{staticClass:"flex-grow",staticStyle:{"padding-left":"10px"}},[e._t("header")],2)]):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isCollapsed,expression:"!isCollapsed"}],staticClass:"panel-content flex-warp flex-row"},[e._t("default")],2)])],1)},am=[];nm._withStripped=!0;var om=void 0,im="data-v-1c7f1995",rm=void 0,sm=!1,lm=vc({render:nm,staticRenderFns:am},om,tm,im,sm,rm,!1,void 0,void 0,void 0),cm={name:"VRender",props:{config:{type:Object,default:function(){return{}}},context:{type:Object,default:function(){return{}}}},render:function(e){var t=this.config,n=this.context,a=this.$slots,o=Object.assign({},t,{defaultSlot:a.default});return fu(e,o,n).render()}},um={name:"Styles",render:function(e){return""}},dm=um,pm=void 0,hm=void 0,fm=void 0,mm=void 0,vm=vc({},pm,dm,hm,mm,fm,!1,void 0,void 0,void 0);af.install=function(e){e.component(af.name,af)},Yh.install=function(e){e.component(Yh.name,Yh)},Bh.install=function(e){e.component(Bh.name,Bh)};var bm={name:"VSteps",components:{},props:{steps:{type:Array,default:function(){return[]}},active:{type:Number,default:0}},data:function(){return{}},watch:{},created:function(){},mounted:function(){},methods:{clickHandler:function(e,t){this.$emit("click",e,t)}}},gm=bm,ym=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"v-steps-warp"},[n("div",{staticClass:"steps-list"},e._l(e.steps,(function(t,a){return n("div",{key:a,staticClass:"step-item",class:{finish:a<e.active,"not-last":a<e.steps.length-1}},[t.icon?n("i",{class:t.icon}):e._e(),e._v(" "),n("span",{staticClass:"step-text",on:{click:function(n){return e.clickHandler(t,a)}}},[e._v(e._s(e.$t(t.name)))])])})),0)])},wm=[];ym._withStripped=!0;var xm=void 0,Cm="data-v-4da1f829",_m=void 0,Sm=!1,km=vc({render:ym,staticRenderFns:wm},xm,gm,Cm,Sm,_m,!1,void 0,void 0,void 0),Im={name:"Ciphertext",functional:!0,props:{},render:function(e,t,n){return e("div",Object.assign({class:"eff-table--ciphertext"},n),"******")}},Tm=Im,$m=void 0,Om=void 0,jm=void 0,Em=void 0,Rm=vc({},$m,Tm,Om,Em,jm,!1,void 0,void 0,void 0);Rm.install=function(e){e.component(Rm.name,Rm)};var Dm={name:"EffTransferPanel",components:{VCheckbox:Cc,Popover:Pc},props:{value:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},ids:{type:Array,default:function(){return[]}},defaultCheckedKeys:{type:Array,default:function(){return[]}},defaultExpandedKeys:{type:Array,default:function(){return[]}},title:{type:String,default:"列表"},panel:{type:String,default:""},props:{type:Object,default:function(){return{}}},lazy:Boolean,loadMethod:{type:Function,default:function(){}},transferDataStore:{type:Object,default:function(){return{}}},expandedAll:Boolean},provide:function(){return{transferPanel:this}},data:function(){return{dataStore:{},selectionAll:!1,indeterminate:!1,bodyHeight:0,startIndex:0,expandeds:{},popoverOpts:{},panelWidth:0}},computed:{selecteds:function(){return Object.values(this.dataStore).reduce((function(e,t){return t.checked?e.concat(t.id):e}),[])},checkeds:function(){var e=this.dataStore,t=this.selecteds;return t.map((function(t){var n=e[t];return n||console.warn(t+" 不存在于transfer"),n})).filter((function(e){return e}))},renderNode:function(){var e=this,t=this.data,n=this.ids,a=this.props,o=this.lazy,i=this.selecteds,r=this.panelId,s=this.panelWidth,l=this.isIndeterminate,c=this.rowSelectionChange,u=this.isDisabled,d=this.handleExpand,p=a.key,h=a.children,f=this.$createElement,m=[],v=function t(a){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return v++,a.forEach((function(a,b){var g=a[p],y=a[h]||[],w=e.expandeds[g];if(n.includes(g)){var x=18*v;m.push(f("div",{key:r+g+b,class:"eff-transfer-panel-node",style:{marginLeft:x+"px"}},[o||y.length?o&&"loading"===w&&!y.length?f("icon",{class:"tree-loading",props:{icon:"refresh"}}):f("icon",{props:{icon:w?"caret-bottom":"caret-right"},on:{click:function(){return d(a)}}}):f("span",{class:"eff-transfer-blank"}),f("v-checkbox",{props:{value:i.includes(g),label:a.label,disabled:u(a),indeterminate:l(g),labelWidth:s-x-50},on:{change:function(e){return c(a,e)}}})])),w&&t(y,v)}}))};return v(t),m},isVirtual:function(){var e=this.renderNode.length,t=this.bodyHeight;return 30*(e-4)>t},endIndex:function(){var e=this.isVirtual,t=this.startIndex,n=this.renderNode.length,a=this.bodyHeight;return e?Math.floor(a/30)+2+t:n},renderNodes:function(){var e=this.renderNode,t=this.startIndex,n=this.endIndex;return e.slice(t,n)},panelId:function(){return(~~(Math.random()*(1<<30))).toString(36)},isLazy:function(){var e=this.lazy,t=this.loadMethod;return e&&Sl.isFunction(t)}},watch:{selecteds:function(e,t){this.updateSelectionAll();var n=e.length>t.length?e.filter((function(e){return-1===t.indexOf(e)})):t.filter((function(t){return-1===e.indexOf(t)}));this.$emit("input",this.checkeds),this.$emit("change",e,n)},ids:function(){this.setDataStore(),this.loadData?this.clearSelection():(this.setDefaultChecked(),this.setDefaultExpanded(),this.loadData=!0)}},inject:["transfer"],created:function(){Object.assign(this,{loadData:!1}),this.data.length&&(this.loadData=!0,this.setDataStore(),this.setDefaultChecked(),this.setDefaultExpanded())},mounted:function(){var e=this;this.$nextTick((function(){var t=e.transfer,n=e.$refs,a=n.header,o=n.body;e.body=o,e.bodyHeight=t.height-a.clientHeight,Tl(e.body,"scroll",e.handleScroll),Tl(window,"resize",e.handleResize),setTimeout((function(){e.handleResize()}),100)}))},beforeDestroy:function(){$l(this.body,"scroll",this.handleScroll),$l(window,"resize",this.handleResize)},methods:{tipShow:function(e){this.$refs.popover.doShow(),this.popoverOpts=e},tipClose:function(){this.$refs.popover.doHide()},handleResize:function(){this.body&&(this.panelWidth=this.body.clientWidth)},handleScroll:function(e){var t=e.target.scrollTop;t<30&&(this.startIndex=0),this.startIndex=Math.floor(t/30)},setDefaultChecked:function(){var e=this,t=this.defaultCheckedKeys,n=this.dataStore;t.length&&t.forEach((function(t){var a=n[t];a&&e.toggleSelection(a.row,null,!0)}))},setDefaultExpanded:function(){var e=this,t=this.ids,n=this.expandeds,a=this.expandedAll,o=this.defaultExpandedKeys;a?t.forEach((function(t){e.$set(n,t,!0)})):o.forEach((function(a){t.includes(a)&&e.$set(n,a,!0)}))},setChecked:function(e,t){this.dataStore[e]&&this.$set(this.dataStore[e],"checked",t)},isChecked:function(e){return!!this.dataStore[e]},setAllChecked:function(e){var t=this.dataStore;for(var n in t){var a=t[n];a.checked=e}},getAllChecked:function(){var e=this.dataStore,t=[];for(var n in e){var a=e[n],o=a.id,i=a.checked;i&&t.push(o)}return t},clearSelection:function(){this.setAllChecked(!1)},updateSelectionAll:function(){var e=this.selecteds,t=this.dataStore,n=[];for(var a in t){var o=t[a],i=o.id;n.push(i)}var r=e.length,s=n.length;this.selectionAll=Boolean(r&&r===s),this.indeterminate=Boolean(r&&r<s)},setDataStore:function(){var e=this.transferDataStore,t=this.ids,n=this.selecteds,a=this.isLazy,o=this.expandedAll;for(var i in e){var r=e[i],s=r.id,l=r.parents,c=void 0===l?[]:l,u=r.childs,p=void 0===u?[]:u,h=r.siblings,f=void 0===h?[]:h,m=n.includes(s);t.includes(s)&&this.$set(this.dataStore,s,Object.assign({},r,{siblings:f.filter((function(e){return t.includes(e)})),parents:c.filter((function(e){return t.includes(e)})),childs:p.filter((function(e){return t.includes(e)})),checked:m}))}return a&&o&&(this.expandeds=d(t)),this.$nextTick()},toggleRowSelection:function(e,t){var n=this.dataStore,a=this.props,o=this.toggleSelection,i=this.isChecked,r=e[a.key];n[r]?o(e,i[r],t):console.error("methods toggleRowSelection (row) is not find")},toggleAllSelection:function(){this.selectionAll=!this.selectionAll,this.allselectionChange(this.selectionAll)},rowSelectionChange:function(e,t){var n=this.checkeds,a=this.dataStore,o=this.props,i=this.toggleSelection,r=e[o.key];i(e,!t),this.$emit("select",n,a[r])},allselectionChange:function(e){this.selectionAll=e,this.indeterminate=!1,this.setAllChecked(e),this.$emit("select-all",this.checkeds)},toggleSelection:function(e,t,n){var a=this.props,o=this.dataStore,i=this.setChecked,r=a.key,s=e[r],l=Boolean(n||!t);for(var c in i(s,l),o){var u=o[c]||{},d=u.id,p=u.parents,h=void 0===p?[]:p;h.includes(s)&&i(d,l)}var f=o[s].parents;if(f.length){var m=s,v=Sl.clone(f,!0);v.reverse().forEach((function(e){var t=o[m],n=t.checked,a=t.siblings;if(a.length){var r=a.filter((function(e){return o[e].checked}));i(e,n&&r.length===a.length)}else i(e,n);m=e}))}},setCurrentRow:function(e){var t=this.dataStore,n=e[this.props.key];this.setAllChecked(!1),t[n]&&this.setChecked(n,!0)},isDisabled:function(e){var t=e[this.props.disabled];return Sl.isFunction(t)?t({row:e}):Boolean(t)},isIndeterminate:function(e){var t=this,n=this.dataStore[e]||{},a=n.childs,o=void 0===a?[]:a;if(!o.length)return!1;var i=o.find((function(e){return t.selecteds.includes(e)})),r=!(!i||!o.find((function(e){return!t.selecteds.includes(e)})));return r&&this.setChecked(e,!1),r},handleExpand:function(e){var t=this,n=this.dataStore,a=this.props,o=this.panel,i=this.isLazy,r=this.loadMethod,s=a.children,l=e[s]||[],c=this.props.key,u=e[c];i&&!l.length?(this.$set(this.expandeds,u,"loading"),r({row:e}).then((function(a){t.$set(t.expandeds,u,!0),t.$set(e,s,a),setTimeout((function(){t.$emit("lazy-data",{panel:o,id:u,data:a.map((function(e){return e[c]}))}),n[u].checked&&t.toggleSelection(e,null,n[u].checked)}),100)}))):this.$set(this.expandeds,u,!this.expandeds[u])}},render:function(e){var t=this.renderNode,n=this.title,a=this.selectionAll,o=this.startIndex,i=this.renderNodes,r=this.indeterminate,s=this.dataStore,l=this.selecteds,c=this.$slots,u=this.popoverOpts,d=this.allselectionChange;return e("div",{ref:"panel",class:"eff-transfer-panel"},[e("div",{ref:"header",class:"eff-transfer-panel__header"},[e("v-checkbox",{props:{value:a,label:n,indeterminate:r},on:{change:d}}),e("small",{},l.length+"/"+Object.keys(s).length)]),e("div",{ref:"body",class:"eff-transfer-panel__body"},[e("div",{class:"eff-transfer-panel__body--y-space",style:{height:30*t.length+"px"}}),e("div",{class:"eff-transfer-panel__body-wrapper",style:{marginTop:30*o+"px"}},i)]),c.default?e("div",{class:"eff-transfer-panel__footer"},c.default):"",e("Popover",{ref:"popover",props:u})])}},Fm={name:"EffTransfer",components:{TransferPanel:Dm},props:{value:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},titles:{type:Array,default:function(){return["from","to"]}},buttonTexts:{type:Array,default:function(){return[]}},props:{type:Object,default:function(){return{}}},defaultCheckedKeys:{type:Array,default:function(){return[]}},defaultExpandedKeys:{type:Array,default:function(){return[]}},expandedAll:Boolean,lazy:Boolean,loadMethod:{type:Function,default:function(){}},width:{type:String,default:"100%"},height:{type:Number,default:360},treeConfig:{type:Object,default:function(){return{}}}},provide:function(){return{transfer:this}},data:function(){return{dataStore:{},leftValue:[],leftIds:[],rightValue:[],rightIds:[]}},watch:{data:{handler:function(){var e=this;this.init(),this.$nextTick((function(){e.leftPanel.setDataStore(),e.rightPanel.setDataStore()}))},deep:!0},rightIds:function(e,t){var n,a;e.length>t.length?(n="right",a=e.filter((function(e){return-1===t.indexOf(e)}))):(n="left",a=t.filter((function(t){return-1===e.indexOf(t)}))),this.$emit("input",e),this.$emit("change",{rightKeys:e,dir:n,changeKeys:a})}},created:function(){var e=this.props,t=this.buttonTexts,n=this.titles;Object.assign(this,{transferProps:Object.assign(e,{key:"key",label:"label",disabled:"disabled",children:"children"}),transferButtonTexts:[t[0]||"",t[1]||""],transferTitles:[n[0]||"from",n[1]||"to"]}),this.init()},mounted:function(){this.leftPanel=this.$refs.leftPanel,this.rightPanel=this.$refs.rightPanel},methods:{init:function(){this.setDataStore();var e=this.value,t=this.data,n=this.dataStore,a=this.props;if(!this.loadData&&t.length){var o=a.key,i="number"===typeof t[0][o];this.leftIds=Object.keys(n).reduce((function(t,a){var o=i?+a:a,r=n[a].parents;return r.find((function(t){return e.includes(t)}))||e.includes(o)?t:t.concat(o)}),[]),this.rightIds=d(new Set(e.reduce((function(e,t){var a=n[t].childs;return e.concat(n[t].parents.concat(t).concat(a))}),[]))),this.loadData=!0}},setDataStore:function(){var e=this;this.dataStore={};var t=this.props,n=t.key,a=t.children,o=function t(o){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];o.forEach((function(r){var s=r[n],l=r[a],c=i.length?o.reduce((function(e,t){return t[n]===s?e:e.concat(t[n])}),[]):[];l&&t(l,i.concat(s)),e.$set(e.dataStore,s,{id:s,row:r,parents:i,siblings:c})}))};for(var i in o(this.data),this.dataStore){var r=this.dataStore[i],s=[];for(var l in this.dataStore){var c=this.dataStore[l];c.parents.includes(r.id)&&s.push(c.id)}r.childs=s}return this.$nextTick()},toRight:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.leftValue.map((function(e){return e.id}));this.leftIds=this.leftIds.filter((function(e){return!t.includes(e)}));var n=t.reduce((function(t,n){return t.concat(e.dataStore[n].parents)}),[]);this.rightIds=d(new Set(this.rightIds.concat(t).concat(n))),this.leftPanel.clearSelection()},toLeft:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rightValue.map((function(e){return e.id}));this.rightIds=this.rightIds.filter((function(e){return!t.includes(e)}));var n=t.reduce((function(t,n){return t.concat(e.dataStore[n].parents)}),[]);this.leftIds=d(new Set(this.leftIds.concat(t).concat(n))),this.rightPanel.clearSelection()},lazyData:function(e){var t,n=e.panel,a=e.id,o=e.data;(t=this[n+"Ids"]).push.apply(t,d(o)),this.$emit("lazy-data",{panel:n,id:a,data:o})},leftChange:function(e,t){this.$emit("left-check-change",{checkedKeys:e,changeKeys:t})},rightChange:function(e,t){this.$emit("right-check-change",{checkedKeys:e,changeKeys:t})}}},Nm=Fm,Pm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"eff-transfer",style:{width:e.width,height:e.height+"px"}},[n("TransferPanel",{ref:"leftPanel",attrs:{panel:"left",data:e.data,ids:e.leftIds,title:e.transferTitles[0],props:e.transferProps,"expanded-all":e.expandedAll,lazy:e.lazy,"load-method":e.loadMethod,"default-checked-keys":e.defaultCheckedKeys,"default-expanded-keys":e.defaultExpandedKeys,"transfer-data-store":e.dataStore},on:{change:e.leftChange,"lazy-data":e.lazyData},model:{value:e.leftValue,callback:function(t){e.leftValue=t},expression:"leftValue"}},[e._t("leftFooter")],2),e._v(" "),n("div",{staticClass:"eff-transfer__center"},[n("button",{staticClass:"eff-transfer__center-btn-top",class:{"is-disabled":!e.leftValue.length},attrs:{disabled:!e.leftValue.length},on:{click:function(){return e.toRight()}}},[e._v("\n        "+e._s(e.transferButtonTexts[0])),n("i",{staticClass:"eff-icon-arrow-right"})]),e._v(" "),n("button",{staticClass:"eff-transfer__center-btn-bottom",class:{"is-disabled":!e.rightValue.length},attrs:{disabled:!e.rightValue.length},on:{click:function(){return e.toLeft()}}},[n("i",{staticClass:"eff-icon-arrow-left"}),e._v(e._s(e.transferButtonTexts[1])+"\n      ")])]),e._v(" "),n("TransferPanel",{ref:"rightPanel",attrs:{panel:"right",data:e.data,ids:e.rightIds,title:e.transferTitles[1],props:e.transferProps,"expanded-all":e.expandedAll,lazy:e.lazy,"load-method":e.loadMethod,"default-checked-keys":e.defaultCheckedKeys,"default-expanded-keys":e.defaultExpandedKeys,"transfer-data-store":e.dataStore},on:{change:e.rightChange,"lazy-data":e.lazyData},model:{value:e.rightValue,callback:function(t){e.rightValue=t},expression:"rightValue"}},[e._t("rightFooter")],2)],1)])},Mm=[];Pm._withStripped=!0;var qm=void 0,Lm=void 0,Am=void 0,Bm=!1,Hm=vc({render:Pm,staticRenderFns:Mm},qm,Nm,Lm,Bm,Am,!1,void 0,void 0,void 0);Hm.install=function(e){e.component(Hm.name,Hm)};var Vm=function(e,t,n){var a=t.value||{},o=a.offset||0,i=a.minWidth||100,r=a.maxWidth||1e3;e.style.minWidth=(n<i?i:n>r?r:n)+o+"px",e.style.maxWidth=(n<i?i:n>r?r:n)+o+"px"},Wm=function(e,t,n,a){var o=e.querySelector(".el-select__tags span"),i=o?ql(o)+50+(a?30:0):1;Vm(e,t,i)},zm=function(e,t){var n=e.querySelector("input")||e,a=e.querySelector(".el-input__value-text");if(a)a.innerText=n.value||"";else{var o=document.createElement("div");o.setAttribute("class","el-input__value-text"),o.style.paddingLeft=Ml(n,"padding-left"),o.style.paddingRight=Ml(n,"padding-right"),o.style.fontSize=Ml(n,"font-size"),o.style.whiteSpace="nowrap",o.style.position="absolute",o.style.zIndex="-100",e.appendChild(o),o.innerText=n.value||""}var i=n.value&&a?ql(a)+10:1;Vm(e,t,i)},Km=function(e,t,n){var a=n.componentInstance;a=void 0===a?{}:a;var o=a.$attrs,i=void 0===o?{}:o,r=a.$options;r=void 0===r?{}:r;var s=r.propsData,l=n.tag,c=Object.assign({},i||{},s),u=c.multiple,d=c.filterable,p=void 0!==u&&!1!==u,h=void 0!==d&&!1!==d;return l.indexOf("Select")>0?p?{type:"multiSelect",event:"change",handle:function(){return setTimeout((function(){return Wm(e,t,n,h)}))}}:{type:"select",event:"change",handle:function(){return setTimeout((function(){return zm(e,t)}))}}:{type:"input",event:"input",handle:function(){return setTimeout((function(){return zm(e,t)}))}}},Qm={name:"auto-width",bind:function(e,t,n){var a=n.componentInstance,o=Km(e,t,n);a?a.$on(o.event,o.handle):Tl(e,o.event,o.handle)},inserted:function(e,t,n){var a=Km(e,t,n);a.handle()},update:function(e,t,n){El(e,"auto-width");var a=Km(e,t,n);a.handle()},unbind:function(e,t,n){var a=n.componentInstance,o=Km(e,t,n);a?a.$off(o.event,o.handle):$l(e,o.event,o.handle)}},Um=n("9224"),Xm=[Qm],Ym=[Gf,Jf,Zf,cm,af,Yh,lm,Fc,vm,km,jd,Rm,Hm,Hf],Gm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Xm.forEach((function(t){e.directive(t.name,t)})),Ym.forEach((function(t){e.component(t.name,t)})),e.prototype.$EFF=t};"undefined"!==typeof window&&window.Vue&&Gm(window.Vue);var Jm={version:Um.version,install:Gm,Table:Gf,Popup:Jf,Layout:Zf,render:fu,VRender:cm,Form:af,FormItem:Yh,FormField:Bh,Icon:Fc,Panel:lm,steps:km,help:jd,ciphertext:Rm,Transfer:Hm,SeniorQuery:Hf};t["a"]=Jm}).call(this,n("4362"))},"6f18":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("Document",{attrs:{title:"table",form:e.documentForm}},[n("h2",[e._v("Table 表格 "),n("router-link",{staticClass:"page-router",attrs:{to:"/Full"}},[e._v("查看示例")])],1)])],1)},o=[],i=n("1dfc"),r={name:"TableApi",components:{Document:i["a"]},data:function(){return{documentForm:{global:[{attribute:"request",explain:"全局接口",type:"function",choosable:"",default:"",code:""},{attribute:"renderMap",explain:"全局render使用的组件映射",type:"object",choosable:"",default:"看左边属性",code:"\n{\n  // element\n  'input': 'el-input',\n  'input-number': 'el-input-number',\n  'textarea': 'el-textarea',\n  'select': 'el-select',\n  'option': 'el-option',\n  'date-picker': 'el-date-picker',\n  'button': 'el-button',\n  'link': 'el-link',\n  'tag': 'el-tag',\n  'image': 'el-image',\n  'popover': 'el-popover',\n  'tooltip': 'el-tooltip',\n  'dropdown': 'el-dropdown',\n  'dialog': 'el-dialog',\n  'switch': 'el-switch',\n  'checkbox': 'el-checkbox',\n  'checkbox-group': 'el-checkbox-group',\n  'pagination': 'el-pagination',\n  'radio': 'el-radio',\n  'radio-group': 'el-radio-group',\n  'cascader': 'el-cascader',\n\n  // 内置组件\n  'popup': 'popup',\n  'help': 'help',\n  'layout': 'layout',\n  'panel': 'panel',\n  'form': 'v-form',\n  'form-item': 'v-form-item',\n  'ciphertext': 'ciphertext' // 加密组件\n}"},{attribute:"focus-to-select",explain:"全局聚焦时是否全选",type:"boolean",choosable:"",default:"false",code:""},{attribute:"toolbar-height",explain:"全局配置工具栏高度",type:"number",choosable:"",default:"30",code:""},{attribute:"header-row-height",explain:"全局配置行高度",type:"number",choosable:"",default:"30",code:""},{attribute:"footer-action-config",explain:"底部行配置",type:"object",choosable:"",default:"{}",code:"\n  {\n    showBorder: false // boolean 底部行是否显示边框\n    showPager: false // boolean 是否显示分页\n    pageInLeft: false // boolean 分页是否显示在左侧\n    pageConfig: { // object 分页配置\n      pageNum: 1 // 当前页码\n      pageSize: 10 // 每页显示条目个数\n      total: 10 // 总条数\n      ... // 其余参数参照项目所使用ui库分页组件的配置\n    }\n  }\n  "}],props:[{attribute:"columns / v-model",explain:"列配置数据",type:"array",choosable:"",default:"[]",code:"\n  [\n    {\n      show: true,// boolean 列是否显示\n\n      type: '', // string selection/radio/index/expand\n\n      width: 80, // number  列宽度\n\n      minWidth: null, // number  列最小宽度\n\n      fixed: '', // string left/right 固定列\n\n      align: 'left', // string left/center/right  单元格对齐方式\n\n      // 通用配置，会根据name指定的元素对单元格做渲染模式、编辑模式、搜索模式的默认处理，原则上只需要配置config就可以了\n      config: {\n        name: 'input', // 指定ui元素\n        options: [], // select组件需要\n        format: ({row, rowIndex, column, columnIndex, prop}) => {}, // 格式化单元格内容\n        defaultValue: '', // 新增行指定默认值，非必须\n      }, \n\n      // table标题 (优先级 titleRender > type > title)\n      title: '', // string\n      titleRender: {}, // object/function(h, {title, column, columnIndex})\n      titlePrefix: {message: string/function, icon: ''}/function(h, { column, title, prop }) //表头标题前缀\n      titleSuffix: {message: string/function, icon: ''}/function(h, { column, title, prop }) //表头标题后缀\n\n      // table单元格 (优先级 cellRender > type > prop)\n      prop: '', // string\n      cellRender: {}, // object/function(h, {row, rowIndex, column, columnIndex, prop})\n\n      // 编辑\n      editable: true, // boolean 控制是否开启编辑\n      edit: { // object\n        render: {}, // object/function(h, {row, rowIndex, column, columnIndex, prop}) 编辑元素render\n        disabled: false, // boolean | function({row, rowIndex}){} 为true时禁用字段\n      }\n\n      // 搜索\n      search: {\n        render: { name: 'input' }, // object/function(h, { column, columnIndex }) 搜索元素\n        rangeRender: { name: 'input' }, // object/function(h, { column, columnIndex }) 范围搜索元素\n        operator: false, // boolean 范围符号\n        operatorDefault: 'like', // string 默认类型\n        prop: '', // 搜索字段名，不填默认使用column.prop\n        searchMethod: null, // function({ rowValue, value, row, column, prop, option }) 自定义搜索方法\n        type: '' // string 扩展字段\n      }\n\n      drag: true,// boolean 列是否可拖动\n\n      sortable: false, // 列是否可排序\n\n      showOverflow: true, // 列文本溢出是否隐藏显示...\n\n      selectable: true, // function({ row, rowIndex, rowid, column, columnIndex }) 返回值 === false 时checkbox不可勾选，仅对 type=selection 的列有效\n\n      filter: false,  // boolean  是否开启筛选功能\n      filters: [],  // array  筛选选项集合 [{label: '', value: ''}]\n      filterMethod: ({ value, option, cellValue, row, column, $table }) => {}  // function  筛选方法\n\n       // 校验规则\n      rules: [\n        {\n          required: true, \n          message: '', //可选，默认为 不能为空 \n        }, \n        {\n          min: number, // 最小长度\n          message: '', //可选，默认为 长度不能小于 min\n        }, \n        {\n          max: number, // 最大长度 \n          message: '', //可选，默认为 长度不能大于 max\n        }, \n        // min,max同时存在时 message 默认为 长度必须在 min 到 max \n        {\n          pattern: reg, // 正则\n          message: '', //可选，默认为 校验不通过\n        }, \n        {\n          type: 'email', // 邮箱\n          message: '', //可选，默认为 请输入正确的邮箱\n        }, \n        {\n          type: 'phone', // 手机号\n          message: '', //可选，默认为 请输入正确的手机号\n        }, \n        {\n          validator: Function // 自定义校验，支持异步\n        }\n      ]\n    }\n  ]\n  "},{attribute:"data",explain:"table 数据源",type:"array",choosable:"",default:"[]"},{attribute:"form",explain:"搜索行数据",type:"object",choosable:"",default:"{}"},{attribute:"rowId",explain:"行主键",type:"string",choosable:"",default:"_rowId"},{attribute:"height",explain:"Table 高度，字符串只能设置 100%，使表格自适应撑满",type:"number/string",choosable:"",default:""},{attribute:"header-row-height",explain:"Table 表头高度",type:"number",choosable:"",default:""},{attribute:"max-height",explain:"Table 最大高度",type:"number",choosable:"",default:""},{attribute:"row-height",explain:"Table 行高度，字符串只能设置 auto，使用自适应行高",type:"number/string",choosable:"",default:"36"},{attribute:"base-row-height",explain:"行以外的默认高度",type:"number",choosable:"",default:"36"},{attribute:"toolbar-height",explain:"工具栏高度",type:"number",choosable:"",default:"36"},{attribute:"header-row-height",explain:"header行高度",type:"number",choosable:"",default:"36"},{attribute:"drag",explain:"是否开启列拖动功能",type:"boolean",choosable:"",default:"false"},{attribute:"row-drag",explain:"是否开启行拖动功能",type:"boolean",choosable:"",default:"false"},{attribute:"edit",explain:"是否开启编辑功能",type:"boolean",choosable:"",default:"false"},{attribute:"focus-to-select",explain:"开启编辑功能时聚焦是否全选文本",type:"boolean",choosable:"",default:"false"},{attribute:"search",explain:"是否开启搜索行功能",type:"boolean",choosable:"",default:"false"},{attribute:"copy",explain:"是否开启复制功能",type:"boolean",choosable:"",default:"false"},{attribute:"select-range",explain:"表格区域选择功能，（复制功能打开时默认开启）",type:"boolean",choosable:"",default:"false"},{attribute:"border",explain:"是否带有纵向边框",type:"boolean",choosable:"",default:"false"},{attribute:"stripe",explain:"是否带有斑马线",type:"boolean",choosable:"",default:"false"},{attribute:"highlight-current-row",explain:"是否高亮显示行",type:"boolean",choosable:"",default:"false"},{attribute:"show-header",explain:"是否显示表头",type:"boolean",choosable:"",default:"true"},{attribute:"header-contextmenu",explain:"是否开启表头右键扩展菜单",type:"boolean",choosable:"",default:"false"},{attribute:"empty-text",explain:"空数据时显示的文本内容",type:"string",choosable:"",default:"暂无数据"},{attribute:"highlight-current-row",explain:"是否要高亮当前行",type:"boolean",choosable:"",default:"false"},{attribute:"show-overflow-tooltip",explain:"是否单元格文本不换行，溢出文本用提示框展示",type:"boolean",choosable:"",default:"false"},{attribute:"loading",explain:"是否显示表格loading效果",type:"boolean",choosable:"",default:"false"},{attribute:"row-class-name",explain:"行的 className",type:"function({row, rowIndex})/string",choosable:"",default:"fn"},{attribute:"cell-class-name",explain:"单元格的 className",type:"function({row, column, rowIndex, columnIndex})/string",choosable:"",default:""},{attribute:"show-summary",explain:"是否在表尾显示合计行",type:"boolean",choosable:"",default:"false"},{attribute:"sum-text",explain:"合计行第一列的文本",type:"string",choosable:"",default:"总计"},{attribute:"summary-method",explain:"自定义的合计计算方法",type:"function({ columns, data })",choosable:"",default:""},{attribute:"span-method",explain:"行列合并方法",type:"function({row, column, rowIndex, columnIndex})",choosable:"",default:""},{attribute:"messages",explain:"单元格提示信息集合",type:"array",choosable:"",default:"[]",code:"\n  {\n    id: '', // 行主键\n    prop: '', // 字段名\n    message: '', // 提示信息\n  }\n  "},{attribute:"edit-config",explain:"编辑配置",type:"object",choosable:"",default:"{}",code:"\n  {\n    trigger: 'click', // click/dblclick 编辑触发方式\n    editStop: false, // 是否暂停编辑，当编辑元素是下拉框、日期、弹框等具有浮层的元素时，需要设置为true暂停表格编辑，当浮层关闭时设置为false恢复编辑\n    editLoop: true // 快捷编辑时，在首尾单元格自动换行轮询编辑\n  }\n  "},{attribute:"column-config",explain:"列配置",type:"object",choosable:"",default:"{}",code:"\n  {\n    width: null, // number 列默认宽度，当所有列都设置了宽度时，列为固定宽度，宽度之和小于表格宽度时不会自动撑满表格\n    sort: [] // 列默认排序\n  }\n  "},{attribute:"form-config",explain:"表单配置",type:"object",choosable:"",default:"{}",code:"\n  {\n    defaultValue: {}, // object 表单默认值，在表单初始化、重置表单、表单赋值时使用\n    titleWidth: 'auto',\n    itemGutter: 10,\n    isSave: false, // boolean 是否使用保存搜索模板功能\n    showTags: true, // 数组是否用tags展示\n    showQuery: true, // 是否显示搜索按钮\n    showClear: true, // 是否显示重置按钮\n    beforeClear: () => {} // 点击重置按钮时的前置处理函数\n    formRequest: { // object 使用保存模板时的接口配置，可以在注册eff-table组件时统一设置\n      // 函数在eff-table内调用，这里返回配置好参数的api\n      query: ({ formRequestParams }) => api.query(formRequestParams),\n      add: ({ name, value, formRequestParams }) => api.add(Object.assign({ name, value }, formRequestParams)),\n      delete: ({ row, formRequestParams }) => api.deleted({ type: formRequestParams.type, id: row.id })\n    },\n    formRequestParams: { type: 1 }, // object 保存模板使用的参数\n    items: [ // array 表单字段集， 使用插槽 form 时渲染表单时，items 无效\n      { \n        title: '名字',\n        prop: 'name',\n        showTitle: true, // boolean 是否显示标题\n        titleBorder: false, // boolean 显示标题时是否使用边框\n        options: [], // array|function 使用select元素时的 option\n        label: 'label', // string 使用select元素时的 labelKey\n        value: 'value', // string 使用select元素时的 valueKey\n        itemRender: { // 使用插槽 item_name 时，itemRender 无效\n          name: 'input',\n          directives: [{ name: 'auto-width' }] // 可以使用自适应宽度指令\n        }\n      }\n    ],\n  }\n  "},{attribute:"tree-config",explain:"树配置",type:"object",choosable:"",default:"{}",code:"\n  {\n    lazy: false, // 是否使用懒加载\n    loadMethod: ({ row }) => {}, // 懒加载方法，使用懒加载时必须传入该函数\n    children: 'children', // string tree子节点\n    defaultExpandeds: [] // 默认展开行的主键\n  }\n  "},{attribute:"expand-config",explain:"展开行配置",type:"object",choosable:"",default:"{}",code:"\n  {\n    children: 'children', // string tree子节点\n    defaultExpandeds: [] // 默认展开行的主键\n  }\n  "},{attribute:"sort-config",explain:"排序配置",type:"object",choosable:"",default:"{}",code:"\n  {\n    multiple: false, // boolean 是否开启多列排序\n    remote: false, // boolean 是否统一使用远程排序\n    sortMethod: null // function({ data, column, prop, order, $table }) 服务端排序，需要监听 sort-change 事件\n  }\n  "},{attribute:"search-config",explain:"行内搜索配置",type:"object",choosable:"",default:"{}",code:"\n  {\n    remote: true, // boolean 是否统一使用远程排序\n    searchMethod: null, // function({ rowValue, value, row, column, prop, option }) 自定义搜索方法，需要监听 search-change 事件\n  }\n  "},{attribute:"checkbox-config",explain:"复选框配置",type:"object",choosable:"",default:"{}",code:"\n  {\n    showHeader: true, // boolean 是否显示全选按钮\n  }\n  "},{attribute:"proxy-config",explain:"代理配置",type:"object",choosable:"",default:"{}",code:"\n  {\n    request: null // function({ data, column, prop, order, $table }) 远程排序方法\n  }\n  "},{attribute:"toolbar-config",explain:"工具栏配置",type:"object",choosable:"",default:"{}",code:"\n  {\n    columnControl: false, // boolean 是否开启列控制功能\n    columnBatchControl: false, // boolean 是否开启列批量控制功能\n    seniorQuery: false, // boolean 是否开启高级查询功能\n    replace: false, // boolean 是否开启批量替换功能\n    subtotal: false, // boolean 是否开启小计功能\n    editHistory: false, // boolean 是否开启编辑记忆功能\n    refresh: false, // boolean 是否开启刷新功能\n    fullscreen: false, // boolean 是否开启全屏功能\n    buttons: [  // array 操作按钮\n      // 内置操作，组件会识别 code 字段，执行对应方法\n      // add 往数据末尾添加新行\n      // add_focus 往数据末尾添加新行并聚焦\n      // insert 往数据开头添加新行\n      // insert_focus 往数据开头添加新行并聚焦\n      // delete 直接删除数据\n      // mark_cancel 删除/取消数据\n      { name: 'button', code: 'add_focus', children: '新增', props: { icon: 'el-icon-plus' }},\n      { name: 'button', code: 'insert_focus', children: '插入', props: { icon: 'el-icon-plus' }},\n      { name: 'button', code: 'delete', children: '直接删除', props: { icon: 'el-icon-delete' }},\n      { name: 'button', code: 'mark_cancel', children: '删除/取消', props: { icon: 'el-icon-delete' }},\n      { name: 'button', code: 'save', children: '保存', props: { icon: 'el-icon-check' }, status: 'success' }\n    ],\n  }\n  "},{attribute:"senior-query-config",explain:"高级查询配置",type:"object",choosable:"",default:"{}",code:"\n  {\n    fieldList: [ // array 高级查询字段集合\n      {\n        fieldName: '', // string 字段名\n        fieldType: '', // string 字段类型\n        fieldChildType: '', // string 字段子类型，如果字段类型是Object或者Array则子类型必填\n        operateTypeList: ['=', 'not in'], // array 操作类型\n        componentType: 'input', // string 组件类型（input，select）\n        dataSourceType: 0, // number 数据源类型（0：无数据源，1：静态数据源，2：接口数据源）\n        apiSource: { // object 接口数据（数据源类型为2时必填）\n          fullPath: '', // string 接口全路径\n          requestType: '' // string 请求类型\n        },\n        staticSourceList: [] // array 静态数据集合\n      }\n    ],\n  }\n  "},{attribute:"footer-action-config",explain:"底部行配置",type:"object",choosable:"",default:"{}",code:"\n  {\n    showBorder: false // boolean 底部行是否显示边框\n    showPager: false // boolean 是否显示分页\n    pageInLeft: false // boolean 分页是否显示在左侧\n    pageConfig: { // object 分页配置\n      pageNum: 1 // 当前页码\n      pageSize: 10 // 每页显示条目个数\n      total: 10 // 总条数\n      ... // 其余参数参照项目所使用ui库分页组件的配置\n    }\n  }\n  "}],methods:[{attribute:"loadTableData",explain:"加载数据，在没有设置主键的情况下会清空数据状态，返回promise",default:"data, opts",code:"\n  opts: { \n    clearScroll: true // 重新加载数据时是否重置滚动条位置\n  }\n  "},{attribute:"reloadData",explain:"重载数据，会清空数据状态，返回promise",default:"data"},{attribute:"getFullData",explain:"不传参数时获取当前表格数据，数据具有响应性，如果有参数source则返回不带rowId的数据，数据不具有响应性",default:"data"},{attribute:"getTableData",explain:"获取当前表格数据，数据具有响应性",default:"data"},{attribute:"getEditStore",explain:"获取当前表格数据状态对象 { editRow, insertList, updateList, pendingList }",default:"data"},{attribute:"validate",explain:"对整个表单进行校验的方法,默认只校验临时变动的数据，第一个参数为 true 时全量校验",default:"false",code:"\n  // 默认\n  table.validate().then(res => {\n    this.$message.success('校验通过!')\n  }).catch(data => {\n    this.$message.error('校验不通过!')\n  })\n  "},{attribute:"validateField",explain:"对单元格进行校验的方法",default:"prop, rule, row"},{attribute:"clearValidate",explain:"移除表单项的校验结果",default:"props"},{attribute:"sort",explain:"对表格进行排序",default:"prop, order"},{attribute:"clearSort",explain:"清空排序",default:""},{attribute:"searching",explain:"对表格进行搜索",default:"opts",code:"\n  // opts 为对象\n  {\n    prop: '', // 字段名\n    content: '', string/array // 字段值\n    searchMethod: function({ prop, value, row, column, option }) // 搜索方法(可选)，返回boolean\n  }\n\n  // opts 为数组\n  [\n    {\n      prop: '', // 字段名\n      content: '', string/array // 字段值\n      searchMethod: function({ prop, value, row, column, option }) // 搜索方法(可选)，返回boolean\n    },\n    ...\n  ]\n  "},{attribute:"setForm",explain:"设置表单值，会跟 defaultValue 进行合并覆盖",default:"value"},{attribute:"setFormFiled",explain:"设置表单字段值",default:"prop, value"},{attribute:"clearForm",explain:"重置搜索表单，参数 query ，清空后是否执行搜索操作，默认清空后进行搜索",default:"query"},{attribute:"clearSearch",explain:"清空行内搜索条件",default:""},{attribute:"focus",explain:"对可编辑表格进行聚焦的方法，如果元素不可见，会滚动到元素位置并聚焦",default:"rowIndex,prop"},{attribute:"getCheckRows",explain:"用于多选表格，获取当前选中的行数据",default:""},{attribute:"getCheckColumns",explain:"获取当前选中的列数据",default:""},{attribute:"clearSelection",explain:"用于多选表格，清空用户的选择的列",default:""},{attribute:"toggleRowSelection",explain:"用于多选表格，切换某一行的选中状态，如果使用了第二个参数，则是设置这一行选中与否（selected 为 true 则选中）",default:"row, selected"},{attribute:"toggleAllSelection",explain:"用于多选表格，切换所有行的选中状态",default:""},{attribute:"doLayout",explain:"对 Table 进行重新布局。当 Table 或其祖先元素由隐藏切换为显示时，可能需要调用此方法",default:""},{attribute:"updateRow",explain:"更新行数据方法，该方法会修改数据，对有变更的的字段做状态更新及校验处理",default:"row"},{attribute:"copyFromChecked",explain:"把选择的行数据复制到粘贴板",default:""},{attribute:"getInsertList",explain:"获取新增的数据",default:""},{attribute:"getUpdateList",explain:"获取更新的数据",default:""},{attribute:"getPendingList",explain:"获取伪删除的数据",default:""},{attribute:"getRemoveList",explain:"获取表格已删除数据",default:""},{attribute:"insert",explain:"插入数据的方法，返回promise。",default:"records,index,insertCheckRow",code:"\n  // 参数说明\n  {\n    records: [] // array 插入的数据\n    rowIndex: -1 // number 为空插入到顶部，为-1插入到底部，为有效索引插入到索引对应行\n    insertCheckRow: true // boolean 存在勾选行时，插入最后一个勾选行的下一行，默认为true\n  }\n  "},{attribute:"triggerPending",explain:"把选中行标记为伪删除的方法，返回promise",default:""},{attribute:"remove",explain:"删除表格数据，返回promise",default:"rows"},{attribute:"removeCheckRow",explain:"删除表格已选中数据，返回promise",default:""},{attribute:"tableEditPause",explain:"暂停表格编辑功能，在触发编辑时如果有使用下拉框或者弹窗需要暂停表格编辑功能",default:""},{attribute:"tableEditRegain",explain:"恢复表格编辑功能，下拉框或者弹窗关闭时需要恢复表格编辑功能",default:""},{attribute:"seniorQueryOpen",explain:"打开表格高级搜索框",default:""},{attribute:"toggleRowExpand",explain:"切换展开行的状态",default:"row"},{attribute:"getRowExpandRecords",explain:"获取已展开行的数据",default:""},{attribute:"isRowExpand",explain:"判断行是否为展开状态",default:"row"},{attribute:"setRowExpand",explain:"设置展开行，二个参数设置这一行展开与否",default:"rows, checked"},{attribute:"setAllRowExpand",explain:"设置所有行的展开状态",default:"checked"},{attribute:"clearRowExpand",explain:"清空展开行状态",default:""}],slots:[{attribute:"table",explain:"自定义表格展示内容，不包括表单搜索及表尾"},{attribute:"toolbar",explain:"工具栏区域左侧的内容"},{attribute:"expand",explain:"展开行的内容. 参数为 { row, rowIndex }"}],events:[{attribute:"select",explain:"当用户手动勾选数据行的 Checkbox 时触发的事件",default:"selection, row"},{attribute:"select-all",explain:"当用户手动勾选全选 Checkbox 时触发的事件",default:"selection"},{attribute:"selection-change",explain:"当选择项发生变化时会触发",default:"selection"},{attribute:"drag-change",explain:"列顺序变动或表头宽度调整后触发",default:"columns"},{attribute:"drag-card-close",explain:"列拖动弹框被关闭后触发",default:""},{attribute:"search-change",explain:"搜索条件变化后触发",default:"searchData"},{attribute:"validate",explain:"任一表单项被校验后触发",default:"[]",code:"\n  [\n    {\n      id: '', // 行主键\n      prop: '', // 字段名\n      message: '', // 校验不通过的信息\n      row: '', // 当前行数据\n      column: '', // 当前列数据\n    }\n  ]\n  "},{attribute:"field-change",explain:"当单元格数据变更时",default:"{columnIndex, rowIndex, oldData, newData}"},{attribute:"data-change",explain:"当表格发生数据变更时触发",default:"{tableData, editStore}"},{attribute:"senior-query",explain:"当表格点击高级查询框的搜索按钮时触发",default:"seniorQueryData"},{attribute:"row-click",explain:"当某一行被点击时会触发",default:"{ row, column, rowIndex, event }"},{attribute:"row-dblclick",explain:"当某一行被双击时会触发",default:"{ row, column, rowIndex, event }"},{attribute:"cell-click",explain:"当某个单元格被点击时会触发",default:"{row,column,rowIndex,columnIndex,cell,event}"},{attribute:"cell-dblclick",explain:"当某个单元格被双击击时会触发",default:"{row,column,rowIndex,columnIndex,cell,event}"},{attribute:"cell-mouse-enter",explain:"当鼠标移入单元格时会触发",default:"{row,column,rowIndex,columnIndex,cell,event}"},{attribute:"cell-mouse-leave",explain:"当鼠标移出单元格时会触发",default:"{row,column,rowIndex,columnIndex,cell,event}"},{attribute:"cell-mouse-move",explain:"当鼠标在单元格内移动时触发",default:"{row,column,rowIndex,columnIndex,cell,event}"},{attribute:"cell-mouse-down",explain:"当鼠标在单元格内按下时触发",default:"{row,column,rowIndex,columnIndex,cell,event}"},{attribute:"cell-mouse-up",explain:"当鼠标在单元格内抬起时触发",default:"{row,column,rowIndex,columnIndex,cell,event}"},{attribute:"header-click",explain:"当某一列的表头被点击时会触发",default:"{ column, event }"},{attribute:"sort-change",explain:"表格排序条件发生变化的时候会触发",default:"{column, prop, order, sorts}"},{attribute:"search-clear-filed",explain:"使用默认range范围搜索时，点击清空按钮时触发",default:"{ column, prop }"},{attribute:"clear-form",explain:"使用默认表单搜索时，点击重置按钮触发",default:"{ column, prop }"},{attribute:"table-paste",explain:"当用selectRange选择一块区域时，ctrl+v粘贴，触发这个事件",default:"{ startRow，startColumn, data }"},{attribute:"select-range-data",explain:"当用selectRange选择一块区域时触发，textArr是数据二维数组{ textArr }",default:""},{attribute:"table-update-data",explain:"当表格编辑或复制粘贴数据变更时",default:"{columnIndex, rowIndex, oldData, newData}"},{attribute:"page-current-change",explain:"分页当前页发生改变",default:"{pageNum}"},{attribute:"page-size-change",explain:"分页每页大小发生改变",default:"{pageSize}"}]}}}},s=r,l=n("2877"),c=Object(l["a"])(s,a,o,!1,null,null,null);t["default"]=c.exports},"728a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("Full 完整功能")]),n("p",{staticClass:"hint"},[e._v(" 包含表格行列拖动、快捷编辑、表格校验、复制粘贴、批量替换、高级搜索、排序、数据代理等功能 ")]),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",e._b({ref:"table"},"eff-table",e.tableOptions,!1))],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.componentSnippet}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.mainSnippet}})],1)])],1)])},o=[],i=n("76a1"),r=n("d369"),s=n("96eb"),l=n.n(s),c=n("bc3a"),u=n.n(c);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f="\n  export default {\n    data() {\n      return {\n        tableOptions: {\n          search: true,\n          drag: true,\n          edit: true,\n          border: true,\n          rowId: 'id',\n          toolbarConfig: {\n            columnControl: true,\n            fullscreen: true,\n            buttons: [\n              { name: 'button', code: 'add_focus', children: '新增', props: { icon: 'el-icon-plus' }},\n              { name: 'button', code: 'insert_focus', children: '插入', props: { icon: 'el-icon-plus' }},\n              { name: 'button', code: 'delete', children: '直接删除', props: { icon: 'el-icon-delete' }},\n              { name: 'button', code: 'mark_cancel', children: '删除/取消', props: { icon: 'el-icon-delete' }},\n              { name: 'button', code: 'save', children: '保存', props: { icon: 'el-icon-check' }, status: 'success' }\n            ]\n          },\n          proxyConfig: {\n            request: {\n              query: ({ page, sorts, filters, form }) => {\n                const params = { ...form }\n                return axios.get('url', params).catch(res => {\n                  return mock.mock({\n                    'array|5': [\n                      {\n                        'id|+1': 100,\n                        'input|+1': 1,\n                        'textarea': '@name',\n                        'select': '1',\n                        'date': '',\n                        'tag': [],\n                        'switch': '0',\n                        'checkboxgroup': [],\n                        'checkbox': false,\n                        'popup': '@title',\n                        'link': '@ctitle',\n                        'url': 'https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg'\n                      }\n                    ]\n                  }).array\n                })\n              },\n              delete: ({ body }) => axios.post('url', body),\n              save: ({ body }) => axios.post('url', body)\n            }\n          },\n          columns: [\n            {\n              show: true,\n              type: 'selection',\n              width: 40,\n              fixed: 'left'\n            },\n            {\n              show: true,\n              prop: 'input',\n              title: '输入框',\n              width: 100,\n              config: { name: 'input' },\n              sortable: true,\n              search: {\n                operator: true\n              },\n              rules: [{ validator: ({ value }) => !value && '不能为空' }],\n              edit: true\n            },\n            {\n              show: true,\n              prop: 'select',\n              title: '选择器',\n              width: 100,\n              config: {\n                name: 'select', options: [{ value: '1', label: '选项1' }, { value: '2', label: '选项2' }]\n              },\n              edit: true,\n              search: true\n            },\n            {\n              show: true,\n              prop: 'switch',\n              title: '开关',\n              width: 100,\n              config: { name: 'switch', defaultValue: false },\n              edit: true,\n              search: true\n            },\n            {\n              show: true,\n              prop: 'date',\n              title: '日期',\n              width: 160,\n              config: {\n                name: 'date-picker', format: 'yyyy-MM-dd'\n              },\n              search: {\n                operator: true\n              },\n              edit: true\n            },\n            {\n              show: true,\n              prop: 'tag',\n              title: '标签',\n              width: 100,\n              search: true,\n              cellRender: { name: 'tag' },\n              config: { options: [{ value: '1', label: '选项1', type: 'success' }, { value: '2', label: '选项2', type: 'info' }] },\n              edit: {\n                render: { name: 'select', props: { multiple: true }}\n              }\n            },\n            {\n              show: true,\n              title: '按钮',\n              width: 100,\n              fixed: 'right',\n              config: { name: 'button', children: '操作' }\n            }\n          ]\n        }\n      }\n    }\n  }\n  ",m='\n  <eff-table\n    ref="table"\n    v-bind="tableOptions"\n  />\n  ',v={name:"Full",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){var e=this;return{mainSnippet:f,componentSnippet:m,disabled:!1,options:[{value:"1",label:"名称1"},{value:"2",label:"名称2"}],tableOptions:{maxHeight:400,search:!0,drag:!0,edit:!0,showSummary:!0,rowId:"_rowId",searchConfig:{remote:!1},toolbarConfig:{height:400,columnControl:!0,fullscreen:!0,subtotal:!0,refresh:!0,replace:!0,columnBatchControl:!0,editHistory:!0,seniorQuery:!0,buttons:[{name:"button",code:"add_focus",children:"新增",props:{icon:"el-icon-plus"}},{name:"button",code:"insert_focus",children:"插入",props:{icon:"el-icon-plus"}},{name:"button",code:"delete",children:"直接删除",props:{icon:"el-icon-delete"}},{name:"button",code:"mark_cancel",children:"删除/取消",props:{icon:"el-icon-delete"}}]},proxyConfig:{request:{query:function(e){var t=e.page,n=(e.sorts,e.filters,e.form),a=p({},n),o=t.pageNum||1,i=t.pageSize||10;return u.a.get("url",a).catch((function(e){return{list:l.a.mock({"array|500":[{"id|+1":100,"input|+1":1,async:"",select:"1",date:"",switch:"0"}]}).array.slice((o-1)*i,(o-1)*i+i),pageNum:o,pageSize:i,total:500}}))},save:function(e){var t=e.body;return u.a.post("url",t)}}},footerActionConfig:{showPager:!0,showBorder:!0},columns:[{show:!0,type:"selection",width:40,fixed:"left",selectable:function(e){var t=e.row;return 2===t.input}},{show:!0,minWidth:200,prop:"input",title:"输入框",config:{name:"input"},sortable:!0,search:{operator:!0},rules:[{required:!0},{min:3,max:6}],edit:!0},{show:!0,minWidth:100,prop:"async",title:"异步校验",search:!0,config:{name:"input"},cellRender:{},rules:[{validator:function(e){var t=e.value;return new Promise((function(e){return setTimeout((function(){return e("666"!==t&&"编码有误，必须是666")}),200)}))}}],edit:{disabled:function(e){var t=e.row;e.rowIndex;return"2"===t.select}}},{show:!0,prop:"select",title:"选择器",config:{name:"select",options:function(){return e.options}},edit:!0,search:!0,rules:[{required:!0}]},{show:!0,prop:"switch",title:"开关",config:{name:"switch",defaultValue:!1},edit:!0,search:!0},{show:!0,prop:"date",title:"日期",config:{name:"date-picker",format:"yyyy-MM-dd"},search:{operator:!0},edit:!0},{show:!0,title:"按钮",fixed:"right",config:{name:"button",children:"操作"}}]}}}},b=v,g=n("2877"),y=Object(g["a"])(b,a,o,!1,null,null,null);t["default"]=y.exports},"73f2":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("Summary 合计")]),e._m(0),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",e._b({ref:"table"},"eff-table",e.tableOptions,!1))],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1),n("h3",[e._v("自定义合计")]),e._m(1),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",e._b({ref:"table"},"eff-table",e.tableOptions1,!1))],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode1}})],1)])],1)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"hint"},[n("span",{staticClass:"primary"},[e._v(" show-summary ")]),e._v(" 属性设置为 "),n("span",{staticClass:"primary"},[e._v(" true ")]),e._v("，启用合计功能"),n("br"),n("span",{staticClass:"primary"},[e._v(" sum-text ")]),e._v(" 属性配置合计行第一列的文本 ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("通过"),n("span",{staticClass:"primary"},[e._v(" summary-method ")]),e._v("方法自定义合计行")])}],i=n("76a1"),r=n("d369"),s='\n  <eff-table v-bind="tableOptions" />\n  ',l="\n  export default {\n    data() {\n      return {\n        tableOptions: {\n          maxHeight: 400,\n          showSummary: true,\n          sumText: '合计',\n          border: true,\n          columns: [\n            {\n              show: true,\n              prop: 'id',\n              title: 'ID'\n            },\n            {\n              show: true,\n              prop: 'driver',\n              title: '老司机'\n            },\n            {\n              show: true,\n              prop: 'passenger',\n              title: '乘客'\n            }\n          ],\n          data: [\n            { id: 1, driver: '张三', passenger: '12' },\n            { id: 2, driver: '李四', passenger: '33' },\n            { id: 5, driver: '王五', passenger: '60' },\n            { id: 3, driver: '赵六', passenger: '22' },\n            { id: 5, driver: '洪七公', passenger: '88' },\n            { id: 4, driver: '周润八', passenger: '33' },\n            { id: 5, driver: '九菜', passenger: '6' }\n          ]\n        }\n      }\n    }\n  }\n  ",c="\n  export default {\n    data() {\n      return {\n        tableOptions1: {\n          maxHeight: 400,\n          showSummary: true,\n          summaryMethod: this.summaryMethod,\n          border: true,\n          columns: [\n            {\n              show: true,\n              prop: 'id',\n              title: 'ID'\n            },\n            {\n              show: true,\n              prop: 'driver',\n              title: '老司机'\n            },\n            {\n              show: true,\n              prop: 'passenger',\n              title: '乘客'\n            }\n          ],\n          data: [\n            { id: 1, driver: '张三', passenger: '12' },\n            { id: 2, driver: '李四', passenger: '33' },\n            { id: 5, driver: '王五', passenger: '60' },\n            { id: 3, driver: '赵六', passenger: '22' },\n            { id: 5, driver: '洪七公', passenger: '88' },\n            { id: 4, driver: '周润八', passenger: '33' },\n            { id: 5, driver: '九菜', passenger: '6' }\n          ]\n        }\n      }\n    },\n    methods: {\n      summaryMethod({ columns, data }) {\n        return columns.reduce((acc, column, index) => {\n          if (index === 0) {\n            acc[index] = '总计'\n            return acc\n          }\n          const { prop } = column\n          const map = { passenger: '人' }\n          const values = data.map(item => Number(item[prop]))\n          const value = values.reduce((acc, cur) => !isNaN(Number(cur)) ? acc + cur : acc, 0)\n          acc[index] = value ? value + map[prop] : 'N/A'\n          return acc\n        }, {})\n      }\n    }\n  }\n  ",u={name:"Summary",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){return{htmlCode:s,jsCode:l,jsCode1:c,tableOptions:{maxHeight:400,showSummary:!0,sumText:"合计",border:!0,columns:[{show:!0,prop:"id",title:"ID"},{show:!0,prop:"driver",title:"老司机"},{show:!0,prop:"passenger",title:"乘客"}],data:[{id:1,driver:"张三",passenger:"12"},{id:2,driver:"李四",passenger:"33"},{id:5,driver:"王五",passenger:"60"},{id:3,driver:"赵六",passenger:"22"},{id:5,driver:"洪七公",passenger:"88"},{id:4,driver:"周润八",passenger:"33"},{id:5,driver:"九菜",passenger:"6"}]},tableOptions1:{maxHeight:400,showSummary:!0,summaryMethod:this.summaryMethod,border:!0,columns:[{show:!0,prop:"id",title:"ID"},{show:!0,prop:"driver",title:"老司机"},{show:!0,prop:"passenger",title:"乘客"}],data:[{id:1,driver:"张三",passenger:"12"},{id:2,driver:"李四",passenger:"33"},{id:5,driver:"王五",passenger:"60"},{id:3,driver:"赵六",passenger:"22"},{id:5,driver:"洪七公",passenger:"88"},{id:4,driver:"周润八",passenger:"33"},{id:5,driver:"九菜",passenger:"6"}]}}},methods:{summaryMethod:function(e){var t=e.columns,n=e.data;return t.reduce((function(e,t,a){if(0===a)return e[a]="总计",e;var o=t.prop,i={passenger:"人"},r=n.map((function(e){return Number(e[o])})),s=r.reduce((function(e,t){return isNaN(Number(t))?e:e+t}),0);return e[a]=s?s+i[o]:"N/A",e}),{})}}},d=u,p=n("2877"),h=Object(p["a"])(d,a,o,!1,null,null,null);t["default"]=h.exports},"76a1":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("code",[e._t("default",[e._v(e._s(e.code))])],2)},o=[],i=n("1487"),r=n.n(i),s={name:"CodeSnippet",props:{code:{type:String,default:""}},mounted:function(){var e=this.$el;r.a.highlightBlock(e)}},l=s,c=(n("2268"),n("2877")),u=Object(c["a"])(l,a,o,!1,null,null,null);t["a"]=u.exports},"76a2":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("Subtotal 小计")]),n("p",{staticClass:"hint"},[e._v(" toolbarConfig 配置中 "),n("span",{staticClass:"primary"},[e._v(" subtotal ")]),e._v(" 属性设置 "),n("span",{staticClass:"primary"},[e._v(" true ")]),e._v("，显示小计功能图标 "),n("icon",{attrs:{icon:"subtotal"}}),n("br"),e._v(" row数据中有 "),n("span",{staticClass:"primary"},[e._v(" subtotal ")]),e._v(" 对象，则会标记为小计行"),n("br"),e._v(" 按住"),n("span",{staticClass:"primary"},[e._v(" ctrl + 单击行 ")]),e._v("选择列，支持多选 ")],1),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",e._b({ref:"table"},"eff-table",e.tableOptions,!1))],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1)])},o=[],i=n("76a1"),r=n("d369"),s='\n  <eff-table\n    ref="table"\n    v-bind="tableOptions"\n  />\n  ',l="\n  \n  ",c={name:"Subtotal",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){return{htmlCode:s,jsCode:l,tableOptions:{maxHeight:400,edit:!0,border:!0,toolbarConfig:{subtotal:!0},columns:[{show:!0,prop:"name",title:"名字",titleSuffix:{icon:"info",message:"异步操作，等待回调完成再进行下一步操作"}},{show:!0,prop:"number",title:"数量"},{show:!0,prop:"email",title:"邮箱"}],data:[{id:1,name:"99",number:"12",email:"168@qq.com"},{id:2,name:"888",number:"33",email:"168@qq.com"},{id:5,name:"999999",number:"6",email:"1681681681681"},{id:3,name:"9999",number:"22",email:"168@qq.com"},{id:5,name:"999999",number:"8",email:"1681681681681"},{id:4,name:"888",number:"33",email:"168@qq.com"},{id:5,name:"777",number:"6",email:"1681681681681"}]}}},methods:{validate:function(){var e=this;this.$refs.table.validate().then((function(t){e.$message.success("校验通过!")})).catch((function(t){e.$message.error("校验不通过!")}))},fullValidate:function(){var e=this;this.$refs.table.validate(!0).then((function(t){e.$message.success("校验通过!")})).catch((function(t){e.$message.error("校验不通过!")}))},validateChecked:function(){var e=this,t=this.$refs.table.getCheckRows();t.length?this.$refs.table.validate(t).then((function(t){e.$message.success("校验通过!")})).catch((function(t){e.$message.error("校验不通过!")})):this.$message.error("未选中行!")},clearValidate:function(){this.$refs.table.clearValidate()}}},u=c,d=n("2877"),p=Object(d["a"])(u,a,o,!1,null,null,null);t["default"]=p.exports},"77a9":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("Description")]),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",{ref:"table",attrs:{data:e.data,edit:"","edit-stop":e.editStop,"max-height":400,fullscreen:"",border:"",copy:"","toolbar-config":{editHistory:!0}},on:{editColumnLastToNext:e.editColumnLastToNext},model:{value:e.columns,callback:function(t){e.columns=t},expression:"columns"}},[n("div",{attrs:{slot:"toolbar"},slot:"toolbar"},[n("el-button",{on:{click:e.add}},[e._v("新增")]),n("el-button",{on:{click:e.focus}},[e._v("聚焦第10行")]),n("el-button",{on:{click:function(t){e.data=[]}}},[e._v("删除所有")]),n("el-button",{on:{click:e.getData}},[e._v("更新数据")]),n("el-tooltip",{attrs:{placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("p",[n("el-tag",[e._v("enter")]),e._v(" 后一个")],1),n("p",[n("el-tag",[e._v("shift")]),e._v(" + "),n("el-tag",[e._v("enter")]),e._v(" 前一个")],1),n("p",[n("el-tag",[e._v("arrowup")]),e._v(" 上一个")],1),n("p",[n("el-tag",[e._v("arrowdown")]),e._v(" 下一个")],1)]),n("el-button",[e._v("快捷操作")])],1)],1)])],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1)])},o=[],i=n("76a1"),r=n("d369"),s=n("96eb"),l=n.n(s),c=n("f519"),u="\n  export default {\n    data () {\n      return {\n        data: [],\n        options: [{\n          value: '选项1',\n          label: '1'\n        }, {\n          value: '选项2',\n          label: '2'\n        }],\n        editStop: false,\n        columns: [\n          {\n            show: true,\n            type: 'index',\n            title: '序号',\n            width: 60\n          },\n          {\n            show: true,\n            prop: 'name',\n            title: '名字',\n            edit: {\n              render: (h, { prop, row }) => {\n                return <el-input value={row[prop]} on-input={val => (row[prop] = val)} />\n              }\n            }\n          },\n          {\n            show: true,\n            prop: 'async'\n          },\n          {\n            show: true,\n            prop: 'switch',\n            titleRender: (h, { column }) => {\n              return ['开关', <el-tooltip class='item' effect='dark' content='控制动态skip：有值打开，没值禁用' placement='top'>\n                <i class='el-icon el-icon-question' />\n              </el-tooltip>]\n            },\n            edit: {\n              render: (h, { prop, row }) => {\n                return <el-input value={row[prop]} on-input={val => (row[prop] = val)} />\n              }\n            }\n          },\n          {\n            show: true,\n            prop: 'dynamic',\n            title: '动态skip',\n            edit: {\n              render: (h, { prop, row }) => {\n                return <el-input\n                  value={row[prop]}\n                  disabled={!row.switch}\n                  on-input={val => (row[prop] = val)}\n                />\n              },\n              skip: ({ row }) => !row.switch\n            }\n          },\n          {\n            show: true,\n            prop: 'select',\n            title: '选择器',\n            edit: {\n              render: (h, { prop, row }) => {\n                return <el-select\n                  value={row[prop]}\n                  automaticDropdown={true}\n                  filterable={true}\n                  defaultFirstOption={true}\n                  on-visible-change={this.visibleChange}\n                  on-input={val => (row[prop] = val)}\n                >\n                  {\n                    this.options.map(item => {\n                      return <el-option\n                        key={item.value}\n                        title={item.title}\n                        value={item.value}>\n                      </el-option>\n                    })\n                  }\n                </el-select>\n              }\n            }\n          },\n          {\n            show: true,\n            prop: 'date',\n            title: '日期',\n            cellRender: (h, { prop, row }) => {\n              return formatDate(row[prop], 'yyyy-MM-dd')\n            },\n            edit: {\n              render: (h, { prop, row }) => {\n                return <el-date-picker\n                  value={row[prop]}\n                  on-input={val => (row[prop] = val)}\n                  on-focus={val => this.visibleChange(true)}\n                  on-blur={val => this.visibleChange(false)}\n                  type='date'\n                />\n              }\n            }\n          },\n          {\n            show: true,\n            prop: 'end',\n            title: '回车编辑下一行',\n            edit: {\n              render: (h, { prop, row }) => {\n                return <el-input value={row[prop]} on-input={val => (row[prop] = val)} />\n              }\n            }\n          }\n        ]\n      },\n      mounted() {\n        this.getData()\n      },\n      methods: {\n        visibleChange(val) {\n          this.editStop = val\n        },\n        getData() {\n          this.data = mock.mock({\n            'array|500': [\n              {\n                'id|+1': 1,\n                'name': '@cname',\n                'async': '',\n                'select': '',\n                'date': '',\n                'switch': '',\n                'end': '',\n                'dynamic': ''\n              }\n            ]\n          }).array\n        },\n        add() {\n          this.data.push(mock.mock({\n            'id': this.data.length,\n            'name': '',\n            'select': '',\n            'async': '',\n            'date': '',\n            'switch': '',\n            'end': '',\n            'dynamic': ''\n          }))\n          this.$refs.table.focus(this.data.length - 1)\n        },\n        editColumnLastToNext({ placement, rowIndex }) {\n          if (placement === 'right') {\n            this.data[rowIndex + 1] && this.$refs.table.focus(rowIndex + 1)\n          }\n        },\n        focus() {\n          this.$refs.table.focus(9)\n        }\n      }\n    }\n  }\n",d='\n  <eff-table\n    ref="table\n    v-model="columns"\n    :data="data"\n    edit\n    :edit-stop="editStop"\n    fullscreen\n    border\n    :toolbarConfig="{editHistory: true}"\n    @editColumnLastToNext="editColumnLastToNext"\n  >\n    <div slot="toolbar">\n      <el-button @click="add">新增</el-button>\n      <el-button @click="focus">聚焦第三行</el-button>\n      <el-button @click="data = []">删除所有</el-button>\n      <el-button @click="getData">更新数据</el-button>\n    </div>\n  </eff-table>\n',p={name:"History",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){var e=this;this.$createElement;return{jsCode:u,htmlCode:d,data:[],options:[{value:"选项1",label:"1"},{value:"选项2",label:"2"}],editStop:!1,columns:[{show:!0,type:"index",title:"序号",width:60},{show:!0,prop:"name",title:"名字",edit:{render:function(e,t){var n=t.prop,a=t.row;return e("el-input",{attrs:{value:a[n]},on:{input:function(e){return a[n]=e}}})}}},{show:!0,prop:"switch",titleRender:function(e,t){t.column;return["开关",e("el-tooltip",{class:"item",attrs:{effect:"dark",content:"控制动态skip：有值打开，没值禁用",placement:"top"}},[e("i",{class:"el-icon el-icon-question"})])]},edit:{render:function(e,t){var n=t.prop,a=t.row;return e("el-input",{attrs:{value:a[n]},on:{input:function(e){return a[n]=e}}})}}},{show:!0,prop:"dynamic",title:"动态skip",edit:{render:function(e,t){var n=t.prop,a=t.row;return e("el-input",{attrs:{value:a[n],disabled:!a.switch},on:{input:function(e){return a[n]=e}}})},skip:function(e){var t=e.row;return!t.switch}}},{show:!0,prop:"select",title:"选择器",edit:{render:function(t,n){var a=n.prop,o=n.row;return t("el-select",{attrs:{value:o[a],automaticDropdown:!0,filterable:!0,defaultFirstOption:!0},on:{"visible-change":e.visibleChange,change:function(e){return o[a]=e}}},[e.options.map((function(e){return t("el-option",{key:e.value,attrs:{title:e.title,value:e.value}})}))])}}},{show:!0,prop:"date",title:"日期",cellRender:function(e,t){var n=t.prop,a=t.row;return Object(c["a"])(a[n],"yyyy-MM-dd")},edit:{render:function(t,n){var a=n.prop,o=n.row;return t("el-date-picker",{attrs:{value:o[a],type:"date"},on:{input:function(e){return o[a]=e},focus:function(t){return e.visibleChange(!0)},blur:function(t){return e.visibleChange(!1)}}})}}},{show:!0,prop:"end",title:"回车编辑下一行",edit:{render:function(e,t){var n=t.prop,a=t.row;return e("el-input",{attrs:{value:a[n]},on:{input:function(e){return a[n]=e}}})}}}]}},mounted:function(){this.getData()},methods:{visibleChange:function(e){this.editStop=e},getData:function(){this.data=l.a.mock({"array|500":[{"id|+1":1,name:"@cname",async:"",select:"",date:"",switch:"",end:"",dynamic:""}]}).array},add:function(){this.data.push(l.a.mock({id:this.data.length,name:"",select:"",async:"",date:"",switch:"",end:"",dynamic:""})),this.$refs.table.focus(this.data.length-1)},editColumnLastToNext:function(e){var t=e.placement,n=e.rowIndex;"right"===t&&this.data[n+1]&&this.$refs.table.focus(n+1)},focus:function(){this.$refs.table.focus(9)}}},h=p,f=n("2877"),m=Object(f["a"])(h,a,o,!1,null,null,null);t["default"]=m.exports},7890:function(e,t,n){},"78d2":function(e,t,n){var a={"./eff-table.css":["3687","chunk-76d3374b"]};function o(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],o=t[0];return n.e(t[1]).then((function(){return n.t(o,7)}))}o.keys=function(){return Object.keys(a)},o.id="78d2",e.exports=o},"83f8":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("Tree 树")]),e._m(0),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",e._b({ref:"table"},"eff-table",e.tableOptions,!1))],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1),n("h3",[e._v("懒加载")]),e._m(1),e._m(2),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",e._b({ref:"table"},"eff-table",e.tableOptions1,!1))],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode1}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode1}})],1)])],1)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"hint"},[e._v(" tree-config对象的"),n("span",{staticClass:"primary"},[e._v(" children ")]),e._v("属性指定子集， 通过"),n("span",{staticClass:"primary"},[e._v(" rowId ")]),e._v("指定主键 "),n("br")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v(" 配置 "),n("span",{staticClass:"primary"},[e._v("rowId")]),e._v(" 和 "),n("span",{staticClass:"primary"},[e._v("tree-config={ lazy, loadMethod }")]),e._v(" 加载方法来开启树形懒加载 ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v(" 通过 "),n("span",{staticClass:"primary"},[e._v("hasChild")]),e._v(" 属性来标识是否存在子节点，从而控制该节点是否允许被点击 ")])}],i=n("76a1"),r=n("d369"),s="\n  export default {\n    data() {\n      return {\n        tableOptions: {\n          maxHeight: 400,\n          rowId: 'id',\n          treeConfig: { children: 'children' },\n          columns: [\n            {\n              show: true,\n              prop: 'id',\n              title: 'ID'\n            },\n            {\n              show: true,\n              prop: 'name',\n              title: '名字'\n            },\n            {\n              show: true,\n              prop: 'sex',\n              title: '性别'\n            },\n            {\n              show: true,\n              prop: 'phone',\n              title: '手机'\n            }\n          ],\n          data: [\n            { id: 1, name: '张三', sex: '男', phone: '13715201314', children: [\n              { id: 100, name: '小张三', sex: '男', phone: '13715201314', children: [\n                { id: 1000, name: '小张三', sex: '男', phone: '13715201314' },\n                { id: 1001, name: '张三小', sex: '男', phone: '13715201314' }\n              ] },\n              { id: 101, name: '张三小', sex: '男', phone: '13715201314' }\n            ] },\n            { id: 2, name: '李四', sex: '女', phone: '13715201314' },\n            { id: 3, name: '王五', sex: '男', phone: '13715201314', children: [\n              { id: 200, name: '小张三', sex: '男', phone: '13715201314', children: [\n                { id: 2000, name: '小张三', sex: '男', phone: '13715201314' },\n                { id: 2001, name: '张三小', sex: '男', phone: '13715201314' }\n              ] },\n              { id: 201, name: '张三小', sex: '男', phone: '13715201314' }\n            ] },\n            { id: 4, name: '赵六', sex: '男', phone: '13715201314' },\n            { id: 5, name: '赵六', sex: '女', phone: '13715201314' }\n          ]\n        }\n      }\n    }\n  }\n  ",l="\n  export default {\n    data() {\n      return {\n        tableOptions1: {\n          maxHeight: 400,\n          rowId: 'id',\n          treeConfig: { children: 'children', lazy: true, loadMethod: this.loadMethod },\n          columns: [\n            {\n              show: true,\n              prop: 'id',\n              title: 'ID'\n            },\n            {\n              show: true,\n              prop: 'name',\n              title: '名字'\n            },\n            {\n              show: true,\n              prop: 'sex',\n              title: '性别'\n            },\n            {\n              show: true,\n              prop: 'phone',\n              title: '手机'\n            }\n          ],\n          data: [\n            { id: 1, name: '张三', sex: '男', phone: '13715201314', hasChild: true },\n            { id: 2, name: '李四', sex: '女', phone: '13715201314' },\n            { id: 3, name: '王五', sex: '男', phone: '13715201314', hasChild: true },\n            { id: 4, name: '赵六', sex: '男', phone: '13715201314' },\n            { id: 5, name: '赵六', sex: '女', phone: '13715201314' }\n          ]\n        }\n      }\n    },\n    methods: {\n      loadMethod({ row }) {\n        return new Promise(resolve => {\n          setTimeout(() => {\n            const childs = [\n              { id: row.id + 1000, name: row.name + 'Test45', sex: '男', phone: null, hasChild: true },\n              { id: row.id + 1500, name: row.name + 'Test56', sex: '女', phone: null, hasChild: false }\n            ]\n            resolve(childs)\n          }, 1000)\n        })\n      }\n    }\n  }\n  ",c='\n  <eff-table ref="table" v-bind="tableOptions" />\n  ',u='\n  <eff-table ref="table" v-bind="tableOptions1" />\n  ',d={name:"Tree",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){return{jsCode:s,jsCode1:l,htmlCode:c,htmlCode1:u,tableOptions:{maxHeight:400,rowId:"id",treeConfig:{children:"children"},columns:[{type:"selection",width:40},{show:!0,prop:"id",title:"ID"},{show:!0,prop:"name",title:"名字"},{show:!0,prop:"sex",title:"性别"},{show:!0,prop:"phone",title:"手机"}],data:[{id:1,name:"张三",sex:"男",phone:"13715201314",children:[{id:100,name:"小张三",sex:"男",phone:"13715201314",children:[{id:1e3,name:"小张三",sex:"男",phone:"13715201314"},{id:1001,name:"张三小",sex:"男",phone:"13715201314"}]},{id:101,name:"张三小",sex:"男",phone:"13715201314"}]},{id:2,name:"李四",sex:"女",phone:"13715201314"},{id:3,name:"王五",sex:"男",phone:"13715201314",children:[{id:200,name:"小张三",sex:"男",phone:"13715201314",children:[{id:2e3,name:"小张三",sex:"男",phone:"13715201314"},{id:2001,name:"张三小",sex:"男",phone:"13715201314"}]},{id:201,name:"张三小",sex:"男",phone:"13715201314"}]},{id:4,name:"赵六",sex:"男",phone:"13715201314"},{id:5,name:"赵六",sex:"女",phone:"13715201314"}]},tableOptions1:{maxHeight:400,rowId:"id",treeConfig:{children:"children",lazy:!0,loadMethod:this.loadMethod},columns:[{type:"selection",width:40},{show:!0,prop:"id",title:"ID"},{show:!0,prop:"name",title:"名字"},{show:!0,prop:"sex",title:"性别"},{show:!0,prop:"phone",title:"手机"}],data:[{id:1,name:"张三",sex:"男",phone:"13715201314",hasChild:!0},{id:2,name:"李四",sex:"女",phone:"13715201314"},{id:3,name:"王五",sex:"男",phone:"13715201314",hasChild:!0},{id:4,name:"赵六",sex:"男",phone:"13715201314"},{id:5,name:"赵六",sex:"女",phone:"13715201314"}]}}},methods:{loadMethod:function(e){var t=e.row;return new Promise((function(e){setTimeout((function(){var n=[{id:t.id+1e3,name:t.name+"Test45",sex:"男",phone:null,hasChild:!0},{id:t.id+1500,name:t.name+"Test56",sex:"女",phone:null,hasChild:!1}];e(n)}),1e3)}))}}},p=d,h=n("2877"),f=Object(h["a"])(p,a,o,!1,null,null,null);t["default"]=f.exports},"8d2e":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("Panel 面板")]),n("v-render",{attrs:{config:e.config}})],1)},o=[],i={name:"Panel",components:{},data:function(){return{bool:!0,config:{name:"layout",props:{type:"col",width:"100%"},children:[{name:"panel",props:{title:"面板标题",type:"row",collapsed:!1,width:"300px",deraction:"horizontal"},children:"我是内容"},{name:"panel",props:{title:"面板标题",type:"row",deraction:"horizontal",collapsed:!1},children:"我是内容"},{name:"panel",props:{title:"面板标题",type:"row",width:"300px",flexibility:!1,collapsed:!1,headerTools:{name:"layout",props:{type:"col",flexibility:!1,justifyContent:"flex-end"},children:[{name:"button",props:{type:"primary",content:"dd"},childdren:"button"}]}},children:"我是内容"}]}}},mounted:function(){}},r=i,s=(n("0cf4"),n("2877")),l=Object(s["a"])(r,a,o,!1,null,"185e23b3",null);t["default"]=l.exports},9224:function(e){e.exports=JSON.parse('{"name":"eff-table","version":"1.3.29","description":"is a efficient table","keywords":["vue","vuejs","rollup","eslint","gihub-pages","gihub-actions","template","component"],"private":false,"author":"blryli","license":"MIT","main":"dist/eff-table.umd.js","module":"dist/eff-table.esm.js","unpkg":"dist/eff-table.min.js","scripts":{"dev":"cross-env NODE_ENV=development rollup --config build/rollup.config.es.js --watch","build":"cross-env NODE_ENV=production npm run build:browser && npm run build:es && npm run build:umd","test":"npm run test:unit","build:browser":"rollup --config build/rollup.config.browser.js","build:es":"rollup --config build/rollup.config.es.js","build:umd":"rollup --config build/rollup.config.umd.js","demo:dev":"vue-cli-service serve","demo:build":"vue-cli-service build","lint":"vue-cli-service lint","test:unit":"vue-cli-service test:unit"},"repository":{"type":"git","url":"https://github.com/blryli/eff-table.git"},"bugs":{"url":"https://github.com/blryli/eff-table/issues"},"homepage":"https://blryli.github.com/eff-table","dependencies":{"vue":"^2.6.10","vuedraggable":"^2.24.3","xe-utils":"3.0.0"},"devDependencies":{"@babel/core":"^7.7.4","@babel/polyfill":"^7.7.0","@babel/preset-env":"^7.7.4","@vue/cli-plugin-babel":"^4.1.0","@vue/cli-plugin-eslint":"^4.1.0","@vue/cli-plugin-unit-jest":"^4.1.0","@vue/cli-service":"^4.1.0","@vue/eslint-config-standard":"^4.0.0","@vue/test-utils":"1.0.0-beta.29","axios":"^0.21.1","babel-eslint":"^10.0.3","babel-helper-vue-jsx-merge-props":"^2.0.3","babel-plugin-module-resolver":"^4.0.0","babel-plugin-syntax-jsx":"^6.18.0","babel-plugin-transform-vue-jsx":"^3.7.0","babel-preset-env":"^1.7.0","clean-css":"^4.2.1","core-js":"^3.4.3","cross-env":"^6.0.3","eff-table":"^1.1.31","el-tree-transfer":"^2.4.7","element-ui":"^2.13.2","eslint":"^5.16.0","eslint-plugin-vue":"^5.0.0","highlight.js":"^11.0.0","mockjs":"^1.1.0","node-sass":"^4.12.0","rollup":"^1.27.5","rollup-plugin-babel":"^4.3.3","rollup-plugin-commonjs":"^10.1.0","rollup-plugin-css-only":"^1.0.0","rollup-plugin-node-resolve":"^5.2.0","rollup-plugin-replace":"^2.2.0","rollup-plugin-terser":"^5.1.2","rollup-plugin-vue":"^5.0.0","sass-loader":"^8.0.0","vue-router":"^3.1.3","vue-template-compiler":"^2.6.10"},"browserslist":["> 1%","last 2 versions"]}')},"93c7":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("Edit 编辑")]),n("p",{staticClass:"hint"},[e._v(" 表格 "),n("span",{staticClass:"primary"},[e._v("edit")]),e._v(" 属性需要设置为 "),n("span",{staticClass:"primary"},[e._v(" true ")]),n("br"),e._v(" 快捷编辑，旨在尽量让用户脱离鼠标进行编辑，快捷键 "),n("el-tag",{staticClass:"ml-10"},[e._v("enter")]),e._v(" 右 "),n("el-tooltip",{attrs:{effect:"dark",content:"聚焦右侧可编辑单元格，在当前行最后一个可编辑单元格按下enter时，自动聚焦下一行第一个可编辑单元格",placement:"top"}},[n("i",{staticClass:"el-icon el-icon-question"})]),n("el-tag",{staticClass:"ml-20"},[e._v("shift")]),e._v(" + "),n("el-tag",[e._v("enter")]),e._v(" 左 "),n("el-tooltip",{attrs:{effect:"dark",content:"聚焦左侧可编辑单元格，在当前行第一个可编辑单元格按下shift+enter时，自动聚焦上一行第一个可编辑单元格",placement:"top"}},[n("i",{staticClass:"el-icon el-icon-question"})]),n("el-tag",{staticClass:"ml-20"},[e._v("arrowup")]),e._v(" 上 "),n("el-tooltip",{attrs:{effect:"dark",content:"聚焦当前列上方可编辑单元格，在顶部按下 arrowup 时，有触顶提示",placement:"top"}},[n("i",{staticClass:"el-icon el-icon-question"})]),n("el-tag",{staticClass:"ml-20"},[e._v("arrowdown")]),e._v(" 下 "),n("el-tooltip",{attrs:{effect:"dark",content:"聚焦当前列下方可编辑单元格，在底部按下 arrowdown 时，有触底提示",placement:"top"}},[n("i",{staticClass:"el-icon el-icon-question"})])],1),n("p",[e._v("列 "),n("span",{staticClass:"primary"},[e._v("edit")]),e._v(" 属性设置为"),n("span",{staticClass:"primary"},[e._v(" true ")]),e._v("， 打开编辑功能，列头会显示可编辑 "),n("Icon",{attrs:{icon:"edit",title:"可编辑列"}}),e._v(" 图标，默认渲染成 "),n("span",{staticClass:"primary"},[e._v(" input ")]),e._v(" 编辑框（"),n("span",{staticClass:"primary"},[e._v("editable")]),e._v(" 属性设置为"),n("span",{staticClass:"primary"},[e._v(" false ")]),e._v(" 时取消列编辑） ")],1),e._m(0),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",e._b({},"eff-table",e.tableOptions,!1))],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.objCode}}),n("h3",[e._v("高级编辑")]),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",e._b({ref:"table1"},"eff-table",e.tableOptions1,!1))],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode1}})],1)])],1),n("p",[e._v("组件默认UI元素用的是element-ui，但不依赖element-ui，可以通过renderMap自行配置UI元素")]),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.mapCode}})],1)},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("通常配置 "),n("span",{staticClass:"primary"},[e._v("config")]),e._v(" 就可以了，特殊情况下需要单独配置 "),n("span",{staticClass:"primary"},[e._v("cellRender")]),e._v(" 及 "),n("span",{staticClass:"primary"},[e._v("edit 的 render")]),e._v(" 属性")])}],i=n("76a1"),r=n("d369"),s='\n  <eff-table v-bind="tableOptions" />\n  ',l="\n  // column对象\n  \n  {\n    config: { // 通用配置\n      name: 'input', // 指定ui元素\n      options: [], // select、级联选择器等组件需要\n      defaultValue: '', // 新增行指定默认值，非必须\n    }, \n\n    cellRender: {}, // 单元格配置，会与config的配置进行合并\n\n    edit: { // 编辑框配置，会与config的配置进行合并\n      render: {} // 支持对象及函数模式\n    }\n  }\n  ",c="\n  Vue.use(EffTable, {renderMap: {'input': 'i-input'}})\n  ",u="\n  // column对象\n  \n  {\n    cellRender: (h, {row, rowIndex, column, columnIndex, prop}) => {\n      return // 返回字符串或render\n    },\n\n    edit: {\n      render: (h, {row, rowIndex, column, columnIndex, prop}) => {\n        return <your-component vModel={value} on-change={this.change} />\n      }\n    }\n  }\n  ",d="\n  export default {\n    data() {\n      return {\n        tableOptions: {\n          edit: true,\n          border: true,\n          columns: [\n            {\n              show: true,\n              prop: 'id',\n              title: 'ID'\n            },\n            {\n              show: true,\n              prop: 'name',\n              title: '名字',\n              edit: true\n            },\n            {\n              show: true,\n              prop: 'sex',\n              title: '性别',\n              edit: true\n            },\n            {\n              show: true,\n              prop: 'phone',\n              title: '手机',\n              edit: true\n            }\n          ],\n          data: [\n            { id: 1, name: '张三', sex: '男', phone: '13715201314' },\n            { id: 2, name: '李四', sex: '女', phone: '13715201314' },\n            { id: 3, name: '王五', sex: '男', phone: '13715201314' },\n            { id: 4, name: '赵六', sex: '男', phone: '13715201314' }\n          ]\n        }\n      }\n    }\n  }\n  ",p="\n  export default {\n    data() {\n      return {\n        tableOptions1: {\n          maxHeight: 400,\n          edit: true,\n          border: true,\n          toolbarConfig: {\n            buttons: [{ name: 'button', code: 'add_focus', children: '新增' }]\n          },\n          data: [\n            { id: 1, name: '张三', want: '1', sex: '1', date: '2021-04-12', address: [], address1: [], address2: '' },\n            { id: 2, name: '李四', want: '2', sex: '2', date: null, address: [], address1: [], address2: '' },\n            { id: 3, name: '王五', want: '3', sex: '1', date: '2021-04-12', address: [], address1: [], address2: '' },\n            { id: 4, name: '赵六', want: '3', sex: '1', date: null, address: [], address1: [], address2: '' }\n          ],\n          columns: [\n            {\n              show: true,\n              prop: 'name',\n              title: '名字',\n              config: { name: 'input' },\n              edit: true\n            },\n            {\n              show: true,\n              prop: 'sex',\n              title: '性别',\n              config: { name: 'select', options: [{ label: '男', value: '1' }, { label: '女', value: '2' }] },\n              edit: true\n            },\n            {\n              show: true,\n              prop: 'want',\n              title: '我想要',\n              config: { name: 'select', options: [{ label: '级联选择器', value: '1' }, { label: '选择器', value: '2' }, { label: '输入框', value: '3' }] },\n              edit: true\n            },\n            {\n              show: true,\n              prop: 'address',\n              title: '动态编辑器',\n              titleSuffix: { icon: 'info', message: '根据我想要动态变化成地址级联选择器/选择器/输入框' },\n              edit: {\n                render: (h, { row }) => {\n                  const cases = {\n                    '1': {\n                      prop: 'address',\n                      name: 'cascader',\n                      props: {\n                        props: {\n                          label: 'label',\n                          value: 'value',\n                          children: 'children'\n                        }\n                      },\n                      options: () => [{\n                        value: 'zhinan',\n                        label: '指南',\n                        children: [{\n                          value: 'shejiyuanze',\n                          label: '设计原则',\n                          children: [{\n                            value: 'yizhi',\n                            label: '一致'\n                          }, {\n                            value: 'fankui',\n                            label: '反馈'\n                          }, {\n                            value: 'xiaolv',\n                            label: '效率'\n                          }, {\n                            value: 'kekong',\n                            label: '可控'\n                          }]\n                        }]\n                      }]\n                    },\n                    '2': {\n                      prop: 'address1',\n                      name: 'select',\n                      props: {\n                        label: 'label',\n                        value: 'value'\n                      },\n                      options: () => [\n                        { value: 'address1-1', label: '广东省深圳市' },\n                        { value: 'address1-2', label: '广东省东莞市' }\n                      ]\n                    },\n                    '3': { name: 'input', prop: 'address2' }\n                  }\n                  return cases[row.want]\n                }\n              }\n            },\n            {\n              show: true,\n              prop: 'date',\n              title: '疫苗预约日期',\n              config: {\n                name: 'date-picker'\n              },\n              edit: true\n            }\n          ]\n        }\n      }\n    }\n  }\n  ",h={name:"Edit",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){var e=this;return{htmlCode:s,jsCode:d,jsCode1:p,objCode:l,funcCode:u,mapCode:c,options:[{value:"选项1",label:"1"},{value:"选项2",label:"2"}],tableOptions:{edit:!0,border:!0,columnConfig:{sort:[{show:!0,prop:"id",fixed:"",width:0},{show:!0,prop:"name",fixed:"",width:0},{show:!0,prop:"phone",fixed:"",width:0},{show:!0,prop:"sex",fixed:"",width:0}]},columns:[{type:"selection",width:40},{type:"index",width:40},{show:!0,prop:"name",title:"名字",edit:!0},{show:!0,prop:"sex",title:"性别",edit:!0},{show:!0,prop:"phone",title:"手机",edit:!0}],data:[{id:1,name:"张三",sex:"男",phone:"13715201314"},{id:2,name:"李四",sex:"女",phone:"13715201314"},{id:3,name:"王五",sex:"男",phone:"13715201314"},{id:4,name:"赵六",sex:"男",phone:"13715201314"}]},tableOptions1:{maxHeight:400,edit:!0,border:!0,toolbarConfig:{buttons:[{name:"button",code:"add_focus",children:"新增"}]},data:[{id:1,name:"张三",want:"1",sex:"1",heightWeight:{height:"",weight:""},date:"2021-04-12",address:[],address1:[],address2:""},{id:2,name:"李四",want:"2",sex:"2",heightWeight:{height:"",weight:""},date:null,address:[],address1:[],address2:""},{id:3,name:"王五",want:"3",sex:"1",heightWeight:{height:"",weight:""},date:"2021-04-12",address:[],address1:[],address2:""},{id:4,name:"赵六",want:"3",sex:"1",heightWeight:{height:"",weight:""},date:null,address:[],address1:[],address2:""}],columns:[{show:!0,prop:"name",title:"名字",edit:!0},{show:!0,prop:"sex",title:"性别",config:{name:"select",options:[{label:"男",value:"1"},{label:"女",value:"2"}]},edit:!0},{show:!0,prop:"heightWeight",title:"身高体重",config:{format:function(t){var n=t.row;return e.getHeightWeight(n)}},edit:{render:function(t,n){var a=n.row,o=n.rowIndex,i=n.columnIndex;return{name:"popup",key:o+i,props:{content:e.getHeightWeight(a)},children:{name:"form",props:{titleWidth:"40px",data:a,autofocus:!0,columns:[{title:"身高",prop:"heightWeight.height",span:24,itemRender:{name:"input",props:{autofocus:!0},on:{input:function(e){return a.heightWeight.height=e}}}},{title:"体重",prop:"heightWeight.weight",span:24,itemRender:{name:"input",on:{input:function(e){return a.heightWeight.weight=e}}}}]},on:{loop:function(t){var n=t.placement;return e.$refs.table1.toX(n)}}}}}}},{show:!0,prop:"want",title:"我想要",config:{name:"select",options:[{label:"级联选择器",value:"1"},{label:"选择器",value:"2"},{label:"输入框",value:"3"}]},edit:!0},{show:!0,prop:"address",title:"动态编辑器",titleSuffix:{icon:"info",message:"根据我想要动态变化成地址级联选择器/选择器/输入框"},edit:{render:function(e,t){var n=t.row,a={1:{prop:"address",name:"cascader",props:{"show-all-levels":!1,props:{label:"label",value:"value",children:"children"}},options:function(){return[{value:"zhinan",label:"指南",children:[{value:"shejiyuanze",label:"设计原则",children:[{value:"yizhi",label:"一致/222 "},{value:"fankui",label:"反馈"},{value:"xiaolv",label:"效率"},{value:"kekong",label:"可控"}]}]}]}},2:{prop:"address1",name:"select",props:{multiple:!0,allowCreate:!0},options:function(){return[{value:"address1-1",label:"广东省深圳市"},{value:"address1-2",label:"广东省东莞市"}]}},3:{name:"input",prop:"address2"}};return a[n.want]}}},{show:!0,prop:"date",title:"疫苗预约日期",config:{name:"date-picker"},edit:!0}]}}},methods:{getHeightWeight:function(e){var t=e.heightWeight||{},n=t.height,a=t.weight;return"".concat(n?n+"cm":"").concat(a?"，"+a+"kg":"")}}},f=h,m=n("2877"),v=Object(m["a"])(f,a,o,!1,null,null,null);t["default"]=v.exports},"93f2":function(e,t,n){},9600:function(e,t,n){"use strict";n("b730")},a50b:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("FormBase 表单基础使用 "),n("router-link",{staticClass:"page-router",attrs:{to:"/FormApi"}},[e._v("查看api")])],1),e._m(0),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("v-form",[n("v-form-item",{attrs:{title:"名字",prop:"name"}},[n("el-input",{model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1),n("v-form-item",{attrs:{title:"性别",prop:"sex"}},[n("el-select",{attrs:{clearable:""},model:{value:e.data.sex,callback:function(t){e.$set(e.data,"sex",t)},expression:"data.sex"}},[n("el-option",{attrs:{label:"11",value:"11"}}),n("el-option",{attrs:{label:"22",value:"22"}})],1)],1),n("v-form-item",{attrs:{title:"年龄",prop:"age"}},[n("el-input",{model:{value:e.data.age,callback:function(t){e.$set(e.data,"age",t)},expression:"data.age"}})],1)],1)],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1),n("h3",[e._v("栅格布局")]),e._m(1),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("v-form",{attrs:{width:"50%"}},[n("v-form-item",{attrs:{title:"名字",prop:"name",span:24}},[n("el-input",{model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1),n("v-form-item",{attrs:{title:"性别",prop:"sex",span:24}},[n("el-select",{attrs:{clearable:""},model:{value:e.data.sex,callback:function(t){e.$set(e.data,"sex",t)},expression:"data.sex"}},[n("el-option",{attrs:{label:"11",value:"11"}}),n("el-option",{attrs:{label:"22",value:"22"}})],1)],1),n("v-form-item",{attrs:{title:"年龄",prop:"age",span:24}},[n("el-input",{model:{value:e.data.age,callback:function(t){e.$set(e.data,"age",t)},expression:"data.age"}})],1)],1)],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode1}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1),n("h3",[e._v("标题扩展")]),e._m(2),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("v-form",{attrs:{width:"50%"}},[n("v-form-item",{attrs:{title:"名字",prop:"name",span:24,"title-prefix":{message:"必须是中文",icon:"question"}}},[n("el-input",{model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1),n("v-form-item",{attrs:{title:"性别",prop:"sex",span:24}},[n("el-select",{attrs:{clearable:""},model:{value:e.data.sex,callback:function(t){e.$set(e.data,"sex",t)},expression:"data.sex"}},[n("el-option",{attrs:{label:"11",value:"11"}}),n("el-option",{attrs:{label:"22",value:"22"}})],1)],1),n("v-form-item",{attrs:{title:"年龄",prop:"age",span:24,"title-suffix":{message:"不能小于18",icon:"info"}}},[n("el-input",{model:{value:e.data.age,callback:function(t){e.$set(e.data,"age",t)},expression:"data.age"}})],1)],1)],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode2}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"hint"},[e._v(" 使用的是"),n("span",{staticClass:"primary"},[e._v(" flex ")]),e._v("布局，默认是行内排列子元素，竖直排列设置 span 属性为 24 即可"),n("br")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("form 组件"),n("span",{staticClass:"primary"},[e._v(" width ")]),e._v("属性控制表单宽度，form-item 组件"),n("span",{staticClass:"primary"},[e._v(" span ")]),e._v(" 属性控制子元素栅格宽度")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("form-tem 组件"),n("span",{staticClass:"primary"},[e._v(" title-prefix ")]),e._v("属性可添加标题前缀，form-item 组件"),n("span",{staticClass:"primary"},[e._v(" title-suffix ")]),e._v(" 属性可添加标题后缀")])}],i=n("76a1"),r=n("d369"),s="\n  export default {\n    data() {\n      return {\n        data: {\n          name: '',\n          sex: '',\n          age: ''\n        }\n      }\n    }\n  }\n  ",l='\n  <v-form>\n    <v-form-item\n      title="名字"\n      prop="name"\n    >\n      <el-input v-model="data.name" />\n    </v-form-item>\n    <v-form-item\n      title="性别"\n      prop="sex"\n    >\n      <el-select v-model="data.sex" clearable>\n        <el-option label="11" value="11" />\n        <el-option label="22" value="22" />\n      </el-select>\n    </v-form-item>\n    <v-form-item\n      title="年龄"\n      prop="age"\n    >\n      <el-input v-model="data.age" />\n    </v-form-item>\n  </v-form>\n  ',c='\n  <v-form :width="12>\n    <v-form-item\n      title="名字"\n      prop="name"\n      :span="24"\n    >\n      <el-input v-model="data.name" />\n    </v-form-item>\n    <v-form-item\n      title="性别"\n      prop="sex"\n      :span="24"\n    >\n      <el-select v-model="data.sex" clearable>\n        <el-option label="11" value="11" />\n        <el-option label="22" value="22" />\n      </el-select>\n    </v-form-item>\n    <v-form-item\n      title="年龄"\n      prop="age"\n      :span="24"\n    >\n      <el-input v-model="data.age" />\n    </v-form-item>\n  </v-form>\n  ',u='\n  <v-form width="50%">\n    <v-form-item\n      title="名字"\n      prop="name"\n      :span="24"\n      :title-prefix=" { message: \'必须是中文\', icon: \'question\' }"\n    >\n      <el-input v-model="data.name" />\n    </v-form-item>\n    <v-form-item\n      title="性别"\n      prop="sex"\n      :span="24"\n    >\n      <el-select v-model="data.sex" clearable>\n        <el-option label="11" value="11" />\n        <el-option label="22" value="22" />\n      </el-select>\n    </v-form-item>\n    <v-form-item\n      title="年龄"\n      prop="age"\n      :span="24"\n      :title-suffix=" { message: \'不能小于18\', icon: \'info\' }"\n    >\n      <el-input v-model="data.age" />\n    </v-form-item>\n  </v-form>\n  ',d={name:"FormBase",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){return{value:2,jsCode:s,htmlCode:l,htmlCode1:c,htmlCode2:u,data:{name:"",sex:"",age:""}}}},p=d,h=n("2877"),f=Object(h["a"])(p,a,o,!1,null,null,null);t["default"]=f.exports},af8f:function(e,t,n){"use strict";n("93f2")},b1c8:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var a=n("9224"),o=a.name.replace(/(^\w|-\w)/g,(function(e){return e.replace("-","").toUpperCase()}))},b730:function(e,t,n){},ca03:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("FooterAction 底部工具栏")]),e._m(0),n("h3",[e._v("分页")]),e._m(1),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",{ref:"table",attrs:{data:e.data,"footer-action-config":{showPager:!0,showBorder:!0},"max-height":400},model:{value:e.columns,callback:function(t){e.columns=t},expression:"columns"}})],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1),n("h3",[e._v("左侧自定义render")]),e._m(2),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",{ref:"table2",attrs:{data:e.data,"footer-action-config":e.footerActionConfig,"max-height":400},scopedSlots:e._u([{key:"footer_action",fn:function(){return[n("el-button",[e._v("演示按钮1")]),n("el-button",[e._v("演示按钮2")]),n("el-button",[e._v("演示按钮3")]),n("el-button",[e._v("演示按钮4")])]},proxy:!0}]),model:{value:e.columns,callback:function(t){e.columns=t},expression:"columns"}})],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode1}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"hint"},[e._v(" 底部工具栏分为左侧和右侧，左侧可以自定义按钮，右侧可以显示分页"),n("br")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("span",{staticClass:"primary"},[e._v("footerActionConfig.showPager = true")]),n("br"),e._v(" 分页的当前页，每页大小，总大小由接口控制，接口的格式需要为"),n("span",{staticClass:"primary"},[e._v("{pageNum pageSize total list}")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("span",{staticClass:"primary"},[e._v("slot")]),e._v("名为"),n("span",{staticClass:"primary"},[e._v("footer_action")]),e._v("的里面有内容"),n("br")])}],i=n("76a1"),r=n("d369"),s='\n  <eff-table\n    ref="table"\n    v-model="columns"\n    :data="data"\n    :footer-action-config="{ showPager: true, showBorder: true }"\n  />\n  ',l='\n  <eff-table ref="table" v-model="columns" :data="data" :footer-action-config="{ }" :max-height="400" >\n      <template #footer_action>\n        <el-button>演示按钮1</el-button>\n        <el-button>演示按钮2</el-button>\n        <el-button>演示按钮3</el-button>\n        <el-button>演示按钮4</el-button>\n      </template>\n    </eff-table>\n  ',c="\n  export default {\n    data() {\n      return {\n        columns: [\n          {\n            show: true,\n            prop: 'id',\n            title: 'ID'\n          },\n          {\n            show: true,\n            prop: 'name',\n            title: '名字'\n          },\n          {\n            show: true,\n            prop: 'sex',\n            title: '性别'\n          },\n          {\n            show: true,\n            prop: 'phone',\n            title: '手机'\n          }\n        ],\n        data: [\n        { id: 1, name: '张三', sex: '男', phone: '13715201314' },\n        { id: 2, name: '李四', sex: '女', phone: '13715201314' },\n        { id: 3, name: '王五', sex: '男', phone: '13715201314' },\n        { id: 4, name: '赵六', sex: '男', phone: '13715201314' },\n        { id: 4, name: '赵六', sex: '男', phone: '13715201314' },\n        { id: 4, name: '赵六', sex: '男', phone: '13715201314' },\n        { id: 4, name: '赵六', sex: '男', phone: '13715201314' },\n        { id: 4, name: '赵六', sex: '男', phone: '13715201314' },\n        { id: 4, name: '赵六', sex: '男', phone: '13715201314' },\n        { id: 4, name: '赵六', sex: '男', phone: '13715201314' },\n        { id: 4, name: '赵六', sex: '男', phone: '13715201314' },\n        { id: 4, name: '赵六', sex: '男', phone: '13715201314' },\n        { id: 4, name: '赵六', sex: '男', phone: '13715201314' },\n        { id: 4, name: '赵六', sex: '男', phone: '13715201314' },\n        { id: 4, name: '赵六', sex: '男', phone: '13715201314' },\n        { id: 4, name: '赵六', sex: '男', phone: '13715201314' },\n        { id: 4, name: '赵六', sex: '男', phone: '13715201314' },\n        { id: 4, name: '赵六', sex: '男', phone: '13715201314' },\n        { id: 4, name: '赵六', sex: '男', phone: '13715201314' }\n        ]\n      }\n    },\n    mounted() {\n      this.$refs.table.pager = {\n        pageNum: 1,\n        pageSize: 10,\n        total: 18\n      }\n    }\n  }\n  ",u={name:"FooterAction",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){return{htmlCode:s,htmlCode1:l,jsCode:c,footerActionConfig:{showPager:!0,showBorder:!0,buttons:[{name:"button",children:"buttons1"},{name:"button",children:"buttons2"}]},columns:[{show:!0,prop:"id",title:"ID"},{show:!0,prop:"name",title:"名字"},{show:!0,prop:"sex",title:"性别"},{show:!0,prop:"phone",title:"手机"}],data:[{id:1,name:"张三",sex:"男",phone:"13715201314"},{id:2,name:"李四",sex:"女",phone:"13715201314"},{id:3,name:"王五",sex:"男",phone:"13715201314"},{id:4,name:"赵六",sex:"男",phone:"13715201314"},{id:4,name:"赵六",sex:"男",phone:"13715201314"},{id:4,name:"赵六",sex:"男",phone:"13715201314"},{id:4,name:"赵六",sex:"男",phone:"13715201314"},{id:4,name:"赵六",sex:"男",phone:"13715201314"},{id:4,name:"赵六",sex:"男",phone:"13715201314"},{id:4,name:"赵六",sex:"男",phone:"13715201314"},{id:4,name:"赵六",sex:"男",phone:"13715201314"},{id:4,name:"赵六",sex:"男",phone:"13715201314"},{id:4,name:"赵六",sex:"男",phone:"13715201314"},{id:4,name:"赵六",sex:"男",phone:"13715201314"},{id:4,name:"赵六",sex:"男",phone:"13715201314"},{id:4,name:"赵六",sex:"男",phone:"13715201314"},{id:4,name:"赵六",sex:"男",phone:"13715201314"},{id:4,name:"赵六",sex:"男",phone:"13715201314"},{id:4,name:"赵六",sex:"男",phone:"13715201314"}]}},mounted:function(){this.$refs.table.pager={pageNum:1,pageSize:10,total:18}}},d=u,p=n("2877"),h=Object(p["a"])(d,a,o,!1,null,null,null);t["default"]=h.exports},d369:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"collapse",class:{open:e.open}},[n("div",{staticClass:"toggle",on:{click:function(t){e.open=!e.open}}},[e._v(" "+e._s(e.title)+" "),n("span",{staticClass:"icon"})]),e.open?n("div",{staticClass:"content"},[e._t("default")],2):e._e()])},o=[],i={data:function(){return{open:!1}},computed:{title:function(){return this.open?"隐藏代码":"显示代码"}}},r=i,s=(n("139a"),n("2877")),l=Object(s["a"])(r,a,o,!1,null,"46265434",null);t["a"]=l.exports},d3a7:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("Filter 筛选")]),e._m(0),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",e._b({},"eff-table",e.tableOptions,!1))],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"hint"},[e._v(" 设置column"),n("span",{staticClass:"primary"},[e._v(" filter ")]),e._v("属性为"),n("span",{staticClass:"primary"},[e._v(" true ")]),e._v("开启筛选功能"),n("br"),n("span",{staticClass:"primary"},[e._v(" filters ")]),e._v(" 配置过滤选项，"),n("span",{staticClass:"primary"},[e._v(" filterMethod ")]),e._v(" 设置筛选方法 ")])}],i=n("76a1"),r=n("d369"),s="\n  export default {\n    data() {\n      return {\n        tableOptions: {\n          maxHeight: 400,\n          border: true,\n          columns: [\n            {\n              show: true,\n              prop: 'id',\n              title: 'ID'\n            },\n            {\n              show: true,\n              prop: 'name',\n              title: '名字',\n              filter: true\n            },\n            {\n              show: true,\n              prop: 'sex',\n              title: '性别',\n              filter: true,\n              filters: [{ label: '男', value: '男' }, { label: '女', value: '女' }]\n            },\n            {\n              show: true,\n              prop: 'age',\n              title: '年龄',\n              filter: true,\n              filters: [{ label: '大于20岁', value: '20' }],\n              filterMethod: ({ cellValue }) => {\n                return Number(cellValue) > 20\n              }\n            },\n            {\n              show: true,\n              prop: 'phone',\n              title: '手机'\n            }\n          ],\n          data: [\n            { id: 1, name: '张三', age: 42, sex: '男', phone: '13715201314' },\n            { id: 2, name: '李四', age: 24, sex: '女', phone: '13715201314' },\n            { id: 3, name: '王五', age: 36, sex: '男', phone: '13715201314' },\n            { id: 4, name: '赵六', age: 18, sex: '男', phone: '13715201314' }\n          ]\n        }\n      }\n    }\n  }\n  ",l='\n  <eff-table v-bind="tableOptions" />\n  ',c={name:"EffFilter",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){return{htmlCode:l,jsCode:s,tableOptions:{maxHeight:400,edit:!0,border:!0,columns:[{show:!0,prop:"id",title:"ID"},{show:!0,prop:"name",title:"名字",edit:!0,filter:!0},{show:!0,prop:"sex",title:"性别",filter:!0,filters:[{label:"男",value:"男"},{label:"女",value:"女"}]},{show:!0,prop:"age",title:"年龄",sortable:!0,filter:!0,edit:!0,filters:[{label:"大于20岁",value:"20"}],filterMethod:function(e){var t=e.cellValue;return Number(t)>20}},{show:!0,prop:"phone",title:"手机"}],data:[{id:1,name:"张三张三张三",age:42,sex:"男",phone:"13715201314"},{id:2,name:"李四张三张三",age:24,sex:"女",phone:"13715201314"},{id:3,name:"王五张三张三张三张三张三",age:36,sex:"男",phone:"13715201314"},{id:4,name:"赵六张三张三",age:18,sex:"男",phone:"13715201314"}]}}}},u=c,d=n("2877"),p=Object(d["a"])(u,a,o,!1,null,null,null);t["default"]=p.exports},d881:function(e,t,n){},dcfb:function(e,t,n){},ddbc:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("Copy 复制粘贴")]),e._m(0),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",e._b({},"eff-table",e.tableOptions,!1))],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"hint"},[n("span",{staticClass:"primary"},[e._v("copy")]),e._v(" 属性设置为 "),n("span",{staticClass:"primary"},[e._v(" true ")]),n("br"),n("span",{staticClass:"primary"},[e._v("复制粘贴")]),e._v("：选中单元格或区域后，通过"),n("span",{staticClass:"primary"},[e._v(" ctrl+c ")]),e._v("或右下角图标复制，"),n("span",{staticClass:"primary"},[e._v(" ctrl+v ")]),e._v("粘贴。粘贴行超出表格行时会自动新增行"),n("br"),n("span",{staticClass:"primary"},[e._v("整列复制")]),e._v("：按住"),n("span",{staticClass:"primary"},[e._v(" ctrl ")]),e._v("键，点击表头可以选中整列，进行复制"),n("br"),n("span",{staticClass:"primary"},[e._v("批量复制")]),e._v("：选择一个单元格后，单元格的右下角有一个"),n("span",{staticClass:"primary"},[e._v("十字标")]),e._v("，拖动即可把这个单元格的数据，复制到拖动覆盖的区域 ")])}],i=n("76a1"),r=n("d369"),s='\n  <eff-table v-model="columns" :data="data" copy /> \n  ',l="\n  export default {\n    data() {\n      return {\n        data: [],\n        columns: [\n          {\n            show: true,\n            prop: 'name',\n            title: '名字'\n          },\n          {\n            show: true,\n            prop: 'sex',\n            title: '性别'\n          },\n          {\n            show: true,\n            prop: 'date',\n            title: '日期',\n            config: { name: 'date-picker' },\n            edit: true\n          },\n          {\n            show: true,\n            prop: 'phone',\n            title: '手机'\n          }\n        ]\n      }\n    }\n  }\n  ",c={name:"Copy",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){return{htmlCode:s,jsCode:l,tableOptions:{maxHeight:400,border:!0,copy:!0,edit:!0,columns:[{show:!0,prop:"name",title:"名字",edit:!0},{show:!0,prop:"sex",title:"性别(下拉框)",config:{name:"select",options:[{label:"男",value:"1"},{label:"女",value:"2"}]},edit:!0},{show:!0,prop:"date",title:"日期",config:{name:"date-picker",props:{format:"yyyy-MM-dd",valueFormat:"yyyy-MM-dd"}},edit:!0},{show:!0,prop:"phone",title:"手机",edit:!0},{show:!0,prop:"hobby",title:"爱好(多选框)",config:{name:"select",props:{mutiple:!0},options:[{label:"游泳",value:"1"},{label:"K歌",value:"2"}]},edit:!0},{show:!0,prop:"address",title:"住址(级联选择器)",width:200,config:{name:"cascader",props:{"show-all-levels":!1,props:{label:"label",value:"value",children:"children"}},options:function(){return[{value:"gd",label:"广东省",children:[{value:"szs",label:"深圳市",children:[{value:"baoan",label:"宝安区"},{value:"nanshan",label:"南山区"},{value:"longhua",label:"龙华区"},{value:"futian",label:"福田区"}]}]},{value:"hn",label:"湖南省",children:[{value:"cz",label:"郴州市"}]}]}},edit:!0}],data:[{name:"张三",sex:"1",date:"2021-09-17",phone:"13715201314",hobby:["1","2"],address:["gd","szs","baoan"]},{name:"李四",sex:"2",date:"2021-09-20",phone:"13715201314",hobby:["1","2"],address:""},{name:"张三",sex:"1",date:"2021-09-22",phone:"13715201314",hobby:[],address:["gd","szs","longhua"]},{name:"李四",sex:"1",date:"",phone:"13715201314",hobby:["1","2"],address:""},{name:"张三",sex:"1",date:"2021-09-20",phone:"13715201314",hobby:["1"],address:""},{name:"李四",sex:"2",date:"2021-09-20",phone:"13715201314",hobby:["1","2"],address:""},{name:"张三",sex:"2",date:"",phone:"13715201314",hobby:["1","2"],address:""},{name:"李四",sex:"2",date:"2021-09-20",phone:"13715201314",hobby:["1"],address:""},{name:"张三",sex:"1",date:"2021-08-12",phone:"13715201314",hobby:["1","2"],address:""},{name:"李四",sex:"1",date:"2021-09-20",phone:"13715201314",hobby:["1","2"],address:""},{name:"张三",sex:"1",date:"2021-09-20",phone:"13715201314",hobby:["1","2"],address:""},{name:"李四",sex:"2",date:"2021-09-20",phone:"13715201314",hobby:["2"],address:""},{name:"张三",sex:"2",date:"2021-09-20",phone:"13715201314",hobby:["1","2"],address:""},{name:"李四",sex:"2",date:"2021-09-20",phone:"13715201314",hobby:["2"],address:""},{name:"张三",sex:"1",date:"2021-09-20",phone:"13715201314",hobby:["1","2"],address:""},{name:"李四",sex:"1",date:"2021-09-20",phone:"13715201314",hobby:["1","2"],address:""},{name:"张三",sex:"1",date:"2021-09-20",phone:"13715201314",hobby:["1","2"],address:""},{name:"李四",sex:"2",date:"2021-09-20",phone:"13715201314",hobby:["1","2"],address:""},{name:"张三",sex:"2",date:"2021-09-20",phone:"13715201314",hobby:["1","2"],address:""},{name:"李四",sex:"2",date:"2021-09-20",phone:"13715201314",hobby:["1","2"],address:""},{name:"张三",sex:"1",date:"2021-09-20",phone:"13715201314",hobby:["1","2"],address:""},{name:"李四",sex:"1",date:"2021-09-20",phone:"13715201314",hobby:["1","2"],address:""},{name:"张三",sex:"2",date:"2021-09-20",phone:"13715201314",hobby:["1","2"],address:""},{name:"李四",sex:"2",date:"2021-09-20",phone:"13715201314",hobby:["1","2"],address:""}]}}}},u=c,d=(n("9600"),n("2877")),p=Object(d["a"])(u,a,o,!1,null,null,null);t["default"]=p.exports},ddc8:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("Form 快捷编辑 "),n("router-link",{staticClass:"page-router",attrs:{to:"/FormApi"}},[e._v("查看api")])],1),n("p",{staticClass:"hint"},[e._v(" 快捷编辑，旨在尽量让用户脱离鼠标进行编辑，快捷键 "),n("el-tag",{staticClass:"ml-10"},[e._v("enter")]),e._v(" 右 "),n("el-tooltip",{attrs:{effect:"dark",content:"聚焦后一个可编辑元素，在最后一个可编辑元素按下enter时，进行循环编辑",placement:"top"}},[n("i",{staticClass:"el-icon el-icon-question"})]),n("el-tag",{staticClass:"ml-20"},[e._v("shift")]),e._v(" + "),n("el-tag",[e._v("enter")]),e._v(" 左 "),n("el-tooltip",{attrs:{effect:"dark",content:"聚焦前一个可编辑元素，在第一个可编辑元素按下shift+enter时，进行循环编辑",placement:"top"}},[n("i",{staticClass:"el-icon el-icon-question"})]),n("br")],1),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("v-form",e._b({ref:"form"},"v-form",e.formOptions,!1))],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1)])},o=[],i=n("76a1"),r=n("d369"),s="\n  export default {\n    data () {\n      return {\n        formOptions: {\n          items: [\n            {\n              title: '名字',\n              prop: 'name',\n              span: 8\n            },\n            {\n              title: '年龄',\n              prop: 'age',\n              span: 8,\n              itemRender: { name: 'input' }\n            },\n\n            {\n              title: '身高',\n              prop: 'height',\n              span: 8,\n              itemRender: { name: 'input' },\n              titlePrefix: { message: '帮助信息', icon: 'question' }\n            },\n            {\n              title: '体重',\n              prop: 'weight.0.bbb',\n              span: 8,\n              itemRender: { name: 'input' },\n              rules: [\n                { required: true }\n              ]\n            },\n\n            {\n              title: '爱好',\n              prop: 'hobby1',\n              span: 6,\n              itemRender: { name: 'input' }\n            },\n            {\n              prop: 'hobby2',\n              span: 5,\n              itemRender: { name: 'input' }\n            },\n            {\n              prop: 'hobby3',\n              span: 5,\n              itemRender: { name: 'input' }\n            }\n          ]\n        }\n      }\n    }\n  }\n  ",l='\n  <v-form ref="form" v-bind="formOptions" />\n  ',c={name:"FormEdit",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){return{value:2,jsCode:s,htmlCode:l,formOptions:{items:[{title:"名字",prop:"name",span:8},{title:"年龄",prop:"age",span:8,itemRender:{name:"input"}},{title:"身高",prop:"height",span:8,itemRender:{name:"input"},titlePrefix:{message:"帮助信息",icon:"question"}},{title:"体重",prop:"weight.0.bbb",span:8,itemRender:{name:"input"},rules:[{required:!0}]},{title:"爱好",prop:"hobby1",span:6,itemRender:{name:"input"}},{prop:"hobby2",span:5,itemRender:{name:"input"}},{prop:"hobby3",span:5,itemRender:{name:"input"}}]}}}},u=c,d=n("2877"),p=Object(d["a"])(u,a,o,!1,null,null,null);t["default"]=p.exports},dfea:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("Description")]),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",{ref:"table",attrs:{data:e.data,loading:e.loading,"max-height":400,drag:"","column-control":"","row-drag":"",border:"",fullscreen:"","column-batch-control":""},model:{value:e.columns,callback:function(t){e.columns=t},expression:"columns"}})],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1)])},o=[],i=n("76a1"),r=n("d369"),s=n("96eb"),l=n.n(s),c="\ndata() {\n  return {\n    data: [],\n    columns: [\n      {\n        show: true,\n        type: 'selection',\n        width: 40,\n        fixed: 'left'\n      },\n      {\n        show: true,\n        prop: 'index',\n        title: '序号',\n        width: 80,\n        fixed: 'left'\n      },\n      {\n        show: true,\n        prop: 'city',\n        title: '城市',\n        width: 140\n      },\n      {\n        show: true,\n        prop: 'name',\n        title: '名字',\n        children: [{\n          show: true,\n          prop: 'cfirst',\n          title: '姓',\n          width: 150\n        }, {\n          show: true,\n          prop: 'clast',\n          title: '名',\n          width: 150\n        }]\n      },\n      {\n        show: true,\n        prop: 'email',\n        title: '邮箱',\n        width: 150\n      },\n      {\n        show: true,\n        prop: 'phone',\n        title: '手机',\n        width: 150\n      },\n      {\n        show: true,\n        prop: 'datetime',\n        title: '核酸检测时间',\n        width: 150\n      }\n    ]\n  }\n}\n",u='\n<eff-table\n  v-model="columns"\n  :data="data"\n  drag\n  column-control\n  row-drag\n  border\n  fullscreen\n  column-batch-control\n/>\n',d={name:"ColumnBatchControl",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){return{jsCode:c,htmlCode:u,loading:!1,data:[],columns:[{show:!0,type:"selection",width:40,fixed:"left"},{show:!0,prop:"index",title:"序号",width:80,fixed:"left"},{show:!0,prop:"city",title:"城市",width:140},{show:!0,prop:"name",title:"名字",children:[{show:!0,prop:"cfirst",title:"姓",width:150},{show:!0,prop:"clast",title:"名",width:150}]},{show:!0,prop:"email",title:"邮箱",width:150},{show:!0,prop:"phone",title:"手机",width:150},{show:!0,prop:"datetime",title:"核酸检测时间",width:150}]}},mounted:function(){var e=this;this.loading=!0,setTimeout((function(){e.data=l.a.mock({"array|500":[{city:"@city",cfirst:"@cfirst",clast:"@clast",email:"@email",datetime:"@datetime",phone:"13888888888","index|+1":1,"id|+1":1}]}).array,e.loading=!1}),1e3)}},p=d,h=n("2877"),f=Object(h["a"])(p,a,o,!1,null,null,null);t["default"]=f.exports},e544:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("FormValidate 表单校验 "),n("router-link",{staticClass:"page-router",attrs:{to:"/FormApi"}},[e._v("查看api")])],1),e._m(0),n("section",{staticClass:"demo"},[n("p",[n("el-button",{attrs:{type:"primary"},on:{click:e.validate}},[e._v("校 验")]),n("el-button",{attrs:{type:"primary"},on:{click:e.validateField}},[e._v("校验名字字段")]),n("el-button",{attrs:{type:"primary"},on:{click:e.clearValidate}},[e._v("清除校验")]),n("el-button",{attrs:{type:"primary"},on:{click:e.resetFields}},[e._v("重置表单")])],1),n("div",{staticClass:"section-content"},[n("v-form",{ref:"form",attrs:{data:e.data}},[n("v-form-item",{attrs:{title:"名字",prop:"name",span:8,rules:[{required:!0},{min:3}]}},[n("el-input",{model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1),n("v-form-item",{attrs:{title:"性别",prop:"sex",span:8,rules:[{required:!0,trigger:"change"}]}},[n("el-select",{attrs:{"automatic-dropdown":"",clearable:""},model:{value:e.data.sex,callback:function(t){e.$set(e.data,"sex",t)},expression:"data.sex"}},[n("el-option",{attrs:{label:"11",value:"11"}}),n("el-option",{attrs:{label:"22",value:"22"}})],1)],1),n("v-form-item",{attrs:{title:"年龄",prop:"age",span:8,rules:[{min:1,max:3}]}},[n("el-input",{model:{value:e.data.age,callback:function(t){e.$set(e.data,"age",t)},expression:"data.age"}})],1)],1)],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1),n("h3",[e._v("校验规则")]),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.rules}})],1)},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"hint"},[e._v(" form-item 组件"),n("span",{staticClass:"primary"},[e._v(" rules ")]),e._v("属性指定校验规则，按rules数组顺序依次校验"),n("br"),e._v(" form 组件"),n("span",{staticClass:"primary"},[e._v(" validate ")]),e._v("方法进行全量校验"),n("br"),e._v(" form 组件"),n("span",{staticClass:"primary"},[e._v(" validateField ")]),e._v("方法进行 item 校验"),n("br"),e._v(" form 组件"),n("span",{staticClass:"primary"},[e._v(" clearValidate ")]),e._v("方法默认清空校验，如果传入参数 props ，则会清除 prop 对应字段的校验结果"),n("br")])}],i=n("76a1"),r=n("d369"),s="\n  export default {\n    data() {\n      return {\n        data: {\n          name: '',\n          sex: '',\n          age: ''\n        }\n      }\n    },\n    methods: {\n      validate() {\n        this.$refs.form.validate().catch(e => console.log(e))\n      },\n      validateField() {\n        this.$refs.form.validateField('name').catch(e => console.log(e))\n      },\n      clearValidate() {\n        this.$refs.form.clearValidate()\n      }\n    }\n  }\n",l='\n  <p>\n    <el-button type="primary" @click="validate">校 验</el-button>\n    <el-button type="primary" @click="validateField">校验名字字段</el-button>\n    <el-button type="primary" @click="clearValidate">清除校验</el-button>\n  </p>\n  <v-form ref="form" :data="data">\n    <v-form-item\n      title="名字"\n      prop="name"\n      :span="8"\n      :rules=" [\n        { required: true },\n        { min: 3 }\n      ]"\n    >\n      <el-input v-model="data.name" />\n    </v-form-item>\n    <v-form-item\n      title="性别"\n      prop="sex"\n      :span="8"\n      :rules=" [\n        { required: true, trigger: \'change\' }\n      ]"\n    >\n      <el-select v-model="data.sex" clearable>\n        <el-option label="11" value="11" />\n        <el-option label="22" value="22" />\n      </el-select>\n    </v-form-item>\n    <v-form-item\n      title="年龄"\n      prop="age"\n      :span="8"\n      :rules=" [\n        { min: 1, max: 3 }\n      ]"\n    >\n      <el-input v-model="data.name" />\n    </v-form-item>\n  </v-form>\n  ',c="\n  rules: [\n    {\n      required: true, \n      message: '', //可选，默认为 不能为空 \n      trigger: '' // 可选，默认为 blur，对于select组件必须声明为 change\n    }, \n    {\n      min: number, // 最小长度\n      message: '', //可选，默认为 长度不能小于 min\n    }, \n    {\n      max: number, // 最大长度 \n      message: '', //可选，默认为 长度不能大于 max\n    }, \n    // min,max同时存在时 message 默认为 长度必须在 min 到 max \n    {\n      pattern: reg, // 正则\n      message: '', //可选，默认为 校验不通过\n    }, \n    {\n      type: 'email', // 邮箱\n      message: '', //可选，默认为 请输入正确的邮箱\n    }, \n    {\n      type: 'phone', // 手机号\n      message: '', //可选，默认为 请输入正确的手机号\n    }, \n    {\n      validator: Function ({value, row, column, id, prop}) // 自定义校验，支持异步\n    }\n  ]\n  ",u={name:"FormValidate",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){return{rules:c,jsCode:s,htmlCode:l,data:{name:"",sex:"",age:""}}},methods:{validate:function(){this.$refs.form.validate().catch((function(e){return console.log(e)}))},validateField:function(){this.$refs.form.validateField("name").catch((function(e){return console.log(e)}))},clearValidate:function(){this.$refs.form.clearValidate()},resetFields:function(){this.$refs.form.resetFields()}}},d=u,p=n("2877"),h=Object(p["a"])(d,a,o,!1,null,null,null);t["default"]=h.exports},e58e:function(e,t,n){"use strict";n.r(t);var a=n("a026"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"header"},[n("h2",[e._v(e._s(e.config.name))]),n("div",{staticClass:"command"},[e._v("npm install --save "+e._s(e.config.name))]),n("div",{staticClass:"nav"},[n("a",{attrs:{href:"https://github.com/"+e.config.author+"/"+e.config.name+"#usage"}},[e._v("文档")])])]),n("div",{staticClass:"body"},[n("div",{staticClass:"menu"},[n("router-link",{staticClass:"menu-list",attrs:{to:"/Start"}},[e._v("Start")]),n("h3",{staticClass:"menu-title"},[e._v("组件")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/Transfer"}},[e._v("Transfer 穿梭框")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/SeniorQueryDemo"}},[e._v("SeniorQuery 高级搜索")]),n("h3",{staticClass:"menu-title"},[e._v("表格")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/"}},[e._v("Base 基础表格")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/Drag"}},[e._v("Drag 拖动")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/Edit"}},[e._v("Edit 编辑")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/Search"}},[e._v("Search 行内搜索")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/TableForm"}},[e._v("TableForm 搜索表单")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/Validate"}},[e._v("Validate 校验")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/Virtual"}},[e._v("Virtual 虚拟滚动")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/Copy"}},[e._v("Copy 复制")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/SeniorQuery"}},[e._v("SeniorQuery 高级搜索")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/Replace"}},[e._v("Replace 批量替换")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/Sort"}},[e._v("Sort 排序")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/EffFilter"}},[e._v("Filter 筛选")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/Expand"}},[e._v("Expand 展开行")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/Tree"}},[e._v("Tree 树")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/MutilpleHeader"}},[e._v("MutilpleHeader 多级表头")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/SpanMethod"}},[e._v("SpanMethod 合并行或列")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/Summary"}},[e._v("Summary 合计")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/Subtotal"}},[e._v("Subtotal 小计")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/FooterAction"}},[e._v("FooterAction 底部扩展")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/History"}},[e._v("History 记录")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/Full"}},[e._v("Full 完整功能")]),n("h3",{staticClass:"menu-title"},[e._v("表单")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/FormBase"}},[e._v("FormBase 基础使用")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/FormValidate"}},[e._v("FormValidate 表单校验")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/Form"}},[e._v("Form 高级表单")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/FormEdit"}},[e._v("FormEdit 快捷编辑")]),n("h3",{staticClass:"menu-title"},[e._v("API")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/TableApi"}},[e._v("Table 表格")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/FormApi"}},[e._v("form 表单")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/TransferApi"}},[e._v("Transfer 穿梭框")]),n("router-link",{staticClass:"menu-list",attrs:{to:"/SeniorQueryApi"}},[e._v("SeniorQuery 高级搜索")])],1),n("div",{staticClass:"container"},[n("router-view")],1)])])},i=[],r=n("8c4f");a["default"].use(r["a"]);var s=n("1eea"),l=s.keys(),c=l.reduce((function(e,t){var n=s(t).default,a=t.replace(/\.\/|\.vue/g,""),o=n.name;return e.concat({path:"/".concat(o),name:a,component:n})}),[]),u=new r["a"]({routes:c}),d=u,p=n("b1c8"),h={data:function(){return{routes:c.filter((function(e){return e.name})),config:p["a"]}},created:function(){document.title=p["a"].name+"-demo"}},f=h,m=(n("af8f"),n("2877")),v=Object(m["a"])(f,o,i,!1,null,null,null),b=v.exports,g=n("5cdd"),y=n("5c96"),w=n.n(y),x=n("bc3a"),C=n.n(x);n("0fae");Promise.resolve().then(n.t.bind(null,"9224",3)).then((function(e){return n("78d2")("./".concat(e.name,".css"))}));var _=3,S=[{id:1,type:1,name:"模板1",value:{name:"张三"}},{id:2,type:1,name:"模板2",value:{name:"李四",sex:["1"]}}],k={query:function(e){var t=e.type;return Promise.resolve(S.filter((function(e){return e.type===t})))},add:function(e){var t=e.name,n=e.value,a=e.type;return Promise.resolve(S.push({type:a,id:_++,name:t,value:n}))},delete:function(e){return Promise.resolve(S.splice(S.findIndex((function(t){return t.id===e.id})),1))}};g["a"].Table.props.formRequest.default=function(){return{query:function(e){var t=e.formRequestParams;return k.query(t)},add:function(e){var t=e.name,n=e.value,a=e.formRequestParams;return k.add({name:t,value:n,type:a.type})},delete:function(e){var t=e.row;e.formRequestParams;return k.delete(t)}}},g["a"].Table.props.columnConfig.default=function(){return{titleSort:!0}},a["default"].use(g["a"],{request:C.a}),a["default"].use(w.a,{size:"small"}),new a["default"]({el:"#app",router:d,render:function(e){return e(b)}})},ee1d:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home page"},[n("h2",[e._v("Base 基础表格")]),e._m(0),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",{attrs:{data:e.data},model:{value:e.columns,callback:function(t){e.columns=t},expression:"columns"}})],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1),n("h3",[e._v("竖边框")]),e._m(1),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",{attrs:{data:e.data,border:""},model:{value:e.columns,callback:function(t){e.columns=t},expression:"columns"}})],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode1}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1),n("h3",[e._v("斑马线")]),e._m(2),n("section",{staticClass:"demo"},[n("div",{staticClass:"section-content"},[n("eff-table",{attrs:{data:e.data,stripe:""},model:{value:e.columns,callback:function(t){e.columns=t},expression:"columns"}})],1)]),n("section",{staticClass:"snippets"},[n("Collapse",[n("div",{staticClass:"section-content"},[n("CodeSnippet",{staticClass:"html",attrs:{code:e.htmlCode2}}),n("CodeSnippet",{staticClass:"javascript",attrs:{code:e.jsCode}})],1)])],1)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"hint"},[e._v(" 基础属性"),n("br"),n("span",{staticClass:"primary"},[e._v("value")]),e._v(" 表格列数组"),n("br"),n("span",{staticClass:"primary"},[e._v("data")]),e._v(" 表格数据 ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("span",{staticClass:"primary"},[e._v("border")]),e._v(" 属性设置为"),n("span",{staticClass:"primary"},[e._v(" true ")]),e._v("显示列竖边框")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("span",{staticClass:"primary"},[e._v("stripe")]),e._v(" 属性设置为"),n("span",{staticClass:"primary"},[e._v(" true ")]),e._v("显示列竖边框")])}],i=n("76a1"),r=n("d369"),s='\n  <eff-table v-model="columns" :data="data" /> \n  ',l='\n  <eff-table v-model="columns" :data="data" border /> \n  ',c='\n  <eff-table v-model="columns" :data="data" stripe /> \n  ',u="\n  export default {\n    data() {\n      return {\n        columns: [\n          {\n            show: true,\n            prop: 'id',\n            title: 'ID'\n          },\n          {\n            show: true,\n            prop: 'name',\n            title: '名字'\n          },\n          {\n            show: true,\n            prop: 'sex',\n            title: '性别'\n          },\n          {\n            show: true,\n            prop: 'phone',\n            title: '手机'\n          }\n        ],\n        data: [\n          { id: 1, name: '张三', sex: '男', phone: '13715201314' },\n          { id: 2, name: '李四', sex: '女', phone: '13715201314' },\n          { id: 3, name: '王五', sex: '男', phone: '13715201314' },\n          { id: 4, name: '赵六', sex: '男', phone: '13715201314' }\n        ]\n      }\n    }\n  }\n  ",d={name:"",components:{CodeSnippet:i["a"],Collapse:r["a"]},data:function(){return{htmlCode:s,htmlCode1:l,htmlCode2:c,jsCode:u,columns:[{show:!0,prop:"id",title:"ID"},{show:!0,prop:"name",title:"名字"},{show:!0,prop:"sex",title:"性别"},{show:!0,prop:"phone",title:"手机"}],data:[{id:1,name:"张三",sex:"男",phone:"13715201314"},{id:2,name:"李四",sex:"女",phone:"13715201314"},{id:3,name:"王五",sex:"男",phone:"13715201314"},{id:4,name:"赵六",sex:"男",phone:"13715201314"}]}}},p=d,h=n("2877"),f=Object(h["a"])(p,a,o,!1,null,null,null);t["default"]=f.exports},f338:function(e,t,n){},f519:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=function(e){return("0"+e.toString()).slice(-2)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss";if(e){e=new Date(e);for(var n=e.getFullYear(),o=e.getMonth()+1,i=e.getDate(),r=e.getHours(),s=e.getMinutes(),l=e.getSeconds(),c={yyyy:n,M:o,MM:a(o),d:i,dd:a(i),h:r,hh:a(r),m:s,mm:a(s),s:l,ss:a(l)},u=t.split(/-| |:|\//),d=t,p=0;p<u.length;p++){var h=u[p];d=d.replace(h,c[h])}return d}}}});
//# sourceMappingURL=app.c64c9425.js.map